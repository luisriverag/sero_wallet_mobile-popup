(window.webpackJsonppopup=window.webpackJsonppopup||[]).push([[0],{1:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),o=n(10),s=n(11),i=n(50),c=function(){function e(){Object(o.a)(this,e),this.Home="/",this.AccountCreate1="/account/create1",this.AccountCreate2="/account/create2",this.AccountCreate3="/account/create3",this.AccountCreate4="/account/create4",this.ImportAccount="/account/import",this.Personal="/my",this.Stake="/stake",this.DApp="/dapp",this.WalletManager="/walletManage",this.AddressAdd="/address/add",this.AddressDetail="/",this.AddressList="/address",this.AddressSelect="/addressSelect",this.TransferList="/",this.Receive="/receive",this.Settings="/settings",this.About="/about",this.HistoryPKr="/manage/historyPKr"}return Object(s.a)(e,[{key:"manage",value:function(e){return"/manage/"+e}},{key:"manageName",value:function(e){return"/manage/name/"+e}},{key:"addressDetail",value:function(e){return"/address/detail/"+e}},{key:"addressEdit",value:function(e){return"/address/edit/"+e}},{key:"transferList",value:function(e){return"/transfer/list/"+e}},{key:"transferDetail",value:function(e){if("0x0000000000000000000000000000000000000000000000000000000000000001"!==e&&"0x0000000000000000000000000000000000000000000000000000000000000002"!==e&&"0x0000000000000000000000000000000000000000000000000000000000000003"!==e)return"/transfer/detail/"+e}},{key:"transfer",value:function(e){return"/transfer/"+e}},{key:"transferResult",value:function(e){return"/transfer/result/"+e}},{key:"receive",value:function(e,t){return"/receive/"+t+"/"+e}},{key:"browser",value:function(e){return"/browser/"+encodeURIComponent(e)}},{key:"addressSelect",value:function(e){return"/addressSelect/"+e}},{key:"scan",value:function(e,t){return t?"/scan/"+e+"/"+t:"/scan/"+e}},{key:"goPage",value:function(e,t){if(t){var n=JSON.parse(sessionStorage.getItem("backUrl"));n&&n.length>0?n.push(t):(n=new Array).push(t),sessionStorage.setItem("backUrl",JSON.stringify(n))}e!==this.Home&&e!==this.Personal&&e!==this.DApp&&e!==this.Stake||sessionStorage.setItem("backUrl",JSON.stringify([])),Object(i.b)().push(e)}},{key:"goBack",value:function(){var e=JSON.parse(sessionStorage.getItem("backUrl"));if(e&&e.length>0){var t=e.pop();sessionStorage.setItem("backUrl",JSON.stringify(e)),Object(i.b)().push(t)}else Object(i.b)().push(this.Home)}}]),e}(),l=function(){function e(){Object(o.a)(this,e),this.setting={moneyType:{usd:"USD",cny:"CNY"},language:{zh_CN:"\u7b80\u4f53\u4e2d\u6587",en_US:"English"},network:{}},this.host={host:"http://popup.sero.cash/#/",rpc:"http://148.70.169.73:8545",price:"http://129.211.98.114:8987/ticket?t="},this.moneyType="USD",this.language="en_US"}return Object(s.a)(e,[{key:"init",value:function(){var e=m.get(h.settings.moneyType);e&&(this.moneyType=e);var t=m.get(h.settings.language);t?this.language=t:-8===(new Date).getTimezoneOffset()/60?(m.set(h.settings.language,"zh_CN"),this.language="zh_CN"):(m.set(h.settings.language,"en_US"),this.language="en_US");var n=m.get(h.settings.seroRpcHost);n&&(console.log("seroRpcHost:",n),this.host.rpc=n)}},{key:"seroRpc",value:function(){var e=m.get(h.settings.seroRpcHost);return e||this.host.rpc}},{key:"setLanguage",value:function(e){m.set(h.settings.language,e),this.init()}},{key:"setRpc",value:function(e){m.set(h.settings.seroRpcHost,e),this.host.rpc=e,this.init()}},{key:"setMoneyType",value:function(e){m.set(h.settings.moneyType,e),this.init()}}]),e}(),u=n(171),f=function(){function e(){Object(o.a)(this,e),this.account={addresses:"account:addresses",infoPrefix:"account:info:",pkrIndex:"account:pkrIndex:",detail:"account:detail:",tempKeystore:"account:keystore:temp",current:"account:current",currentPKr:"account:currentPKr:"},this.config={seroRpcHost:"config:seroRpcHost"},this.sync={latestBlockNumber:"sync:latestBlockNumber",nils:"sync:nils",roots:"sync:roots",root:"sync:root:"},this.address={book:"address:book",info:"address:info:"},this.scan={value:"scan:value",type:"scan:type"},this.transaction={Tx:"Tx",TxInfo:"TxInfo",TxPending:"TxPending"},this.settings={moneyType:"settings:moneyType",seroRpcHost:"settings:seroRpcHost",language:"settings:language"},this.dapp={list:"dapps:list",info:"dapps:info:"},this.decimals="decimals"}return Object(s.a)(e,[{key:"dappsInfoKey",value:function(e){return this.dapp.info+e}},{key:"decimalsKey",value:function(e){return[this.decimals,e].join(":")}},{key:"infoKey",value:function(e){return this.account.infoPrefix+e}},{key:"rootKey",value:function(e){return this.sync.root+e}},{key:"pkrIndexKey",value:function(e){return this.account.pkrIndex+e}},{key:"currentPKrIndex",value:function(e){return this.account.currentPKr+e}},{key:"detailKey",value:function(e){return this.account.detail+e}},{key:"txKey",value:function(e,t,n,a){return[this.transaction.Tx,e,t,n,a].join(":")}},{key:"txInfoKey",value:function(e,t){return[this.transaction.TxInfo,e,t].join(":")}},{key:"txKeyPrefix",value:function(e){return[this.transaction.Tx,e].join(":")}},{key:"txKeyHashPrefix",value:function(e,t){return[this.transaction.Tx,e,t].join(":")}},{key:"txKeyPending",value:function(e,t,n){return[this.transaction.TxPending,e,t,n].join(":")}},{key:"txKeyPendingPrefix",value:function(e,t){return[this.transaction.TxPending,e,t].join(":")}}]),e}(),d=function e(){var t=this;Object(o.a)(this,e),this.e=function(){var e=m.get(h.settings.language);return e?"en_US"===e?t.en_US:"zh_CN"===e?t.zh_CN:t.en_US:-8===(new Date).getTimezoneOffset()/60?(m.set(h.settings.language,"zh_CN"),t.zh_CN):(m.set(h.settings.language,"en_US"),t.en_US)},this.en_US={button:{confirm:"Confirm",cancel:"Cancel",next:"Next",receive:"Receive",transfer:"Transfer",add:"Add",save:"Save",deleteAddress:"Delete Address",createWallet:"Create Wallet",importWallet:"Import Wallet",create:"Create",done:"Done",import:"Import",ok:"OK",openTip:"Open on October 31"},navbar:{wallet:"Wallet",dapp:"DApp",my:"My"},toast:{info:{quitApp:"Press again to exit App !",createWallet:"Please create wallet first !"},success:{add:"Add Successfully",copy:"Copy Successfully",create:"Create Wallet Successfully",export:"Export Successfully",save:"Save Successfully",import:"Import Successfully",send:"Send Successfully",clear:"Clear Successfully"},loading:{creating:"Creating...",exporting:"Exporting...",importing:"Importing...",sending:"Sending..."},error:{passwordVerify:"Password at least 8 characters!",passwordNotMatch:"Password do not match!",incorrectOrder:"Incorrect order of Mnemonic Phrase!",invalidAddress:"Invalid Address!",accountExisted:"The account has existed!",notEnough:"The balance is not enough!",passwordError:"Password is incorrect!",notEnoughFee:"Not enough SERO to pay gas fee !"}},modal:{help:"Help",sure:"Are you sure???",mainPKr:"This is a collection address that can be used for frequent collections such as mining.",pkr:"The collection address will change after each successful transaction.",createWallet:"Create Wallet",importWallet:"Import Wallet",clearData:"Clear app data",confirmClear:"Please confirm that you have backed up your account. Cleared will resynchronize transaction data",clearTip:'Click "Confirm" to start syncing data. There may be a white screen during the process. Please wait patiently for data synchronization to complete, do not end the process easily.'},page:{wallet:{mainPKr:"mainPKr",PKr:"PKr",Assets:"Assets",selectWallet:"Select Wallet"},txList:{all:"All",out:"Out",in:"In",noData:"No data"},txDetail:{title:"Transaction info",success:"Success",pending:"Pending",amount:"Amount",fee:"Fee",from:"From",to:"To",hash:"Hash",block:"Block",goto:"Go to block explorer for more details >"},txTransfer:{balance:"Balance",address:"Address",inputAmount:"Input Amount",inputAddress:"Please Input SERO Address",fee:"Fee",total:"Total",amount:"Amount",gas:"Gas",gasPrice:"Gas Price",inputPassword:"Input Password",passwordMsg:"Your account password"},addressBook:{title:"Address book",add:"Add Address",name:"Name",address:"Address",description:"Description(optional)",detail:"Address Detail"},walletManage:{mainPKr:"MainPKr",PKr:"PKr",passwordHint:"Password hint",export:"Export Mnemonic Phrase",password:"Input password",changePasswordHint:"Change Password Hint",changeProfilePhoto:"Change Profile Photo",changeWalletName:"Change Wallet Name"},setting:{language:"Language",unit:"Currency Unit",node:"Node Settings",pkr:"Check synchronization status"},create:{import:"Import",step1:{title:"Create SERO Wallet",walletName:"Wallet Name",password:"Password",rePassword:"Repeat Password",hint:"Password hint(optional)",passwordTips:"At least 8 characters, recommended to mix uppercase and lowercase alphabets, numbers and symbols"},step2:{title:"Backup Tips",d1:"Obtaining Mnemonic equals owning all assets",d2:"Backup Mnemonic",d3:"Please write down the Mnemonic . If your phone is lost, stolen, damaged, the Mnemonic will be able to recover your assets",d4:"Offline storage",d5:"Please save it in a secure place, isolated from the internet . Please do not share or store the Mnemonic in a network environment, such as email, albums, social apps and others.",d6:"Do not take screenshot .",d7:"Please do not share or store the screenshots, which may be collected by third-party, resulting in loss of assets."},step3:{title:"Backup Mnemonic Phrase",d1:"Please transcribe the Mnemonic phrase properly and back up it securely"},step4:{title:"Confirm",d1:"Please select Mnemonic Phrase in correct order"}},import:{tips:"You can reset the password while importing the Mnemonic Phrase",inputTips:"Enter mnemonic phrases separated by spaces",name:"Wallet Name",password:"Wallet Password",rePassword:"Repeat Password",hint:"Password hint"},my:{addressBook:"Address Book",walletManage:"Wallet Manage",settings:"Settings",termOfUse:"Term of use",about:"About us",clear:"Clear app data",address:{name:"Name",address:"Address",description:"Description(optional)",add:"Add Address",edit:"Edit Address",detail:"Address detail"},manage:{mainPKr:"MainPKr",pkr:"PKr",hint:"Password hint",export:"Export Mnemonic Phrase"}},dapp:{search:"Enter DApp url",invalidDApp:"Invalid DApp url",recent:"Recent",recommended:"Recommended"}}},this.zh_CN={button:{confirm:"\u786e\u8ba4",cancel:"\u53d6\u6d88",next:"\u4e0b\u4e00\u6b65",receive:"\u6536\u6b3e",transfer:"\u4ea4\u6613",add:"\u589e\u52a0",save:"\u4fdd\u5b58",deleteAddress:"\u5220\u9664",createWallet:"\u521b\u5efa\u94b1\u5305",importWallet:"\u5bfc\u5165\u94b1\u5305",create:"\u521b\u5efa",done:"\u5b8c\u6210",import:"\u5bfc\u5165",ok:"\u597d\u7684",openTip:"10\u670831\u53f7\u5f00\u542f\u6b64\u529f\u80fd"},navbar:{wallet:"\u94b1\u5305",dapp:"\u5e94\u7528",my:"\u6211\u7684"},toast:{info:{quitApp:"\u518d\u6309\u4e00\u6b21\u9000\u51fa\u5e94\u7528!",createWallet:"\u8bf7\u5148\u521b\u5efa\u94b1\u5305\u8d26\u6237 !"},success:{add:"\u589e\u52a0\u6210\u529f",copy:"\u62f7\u8d1d\u6210\u529f",create:"\u521b\u5efa\u94b1\u5305\u6210\u529f",export:"\u5bfc\u51fa\u6210\u529f",save:"\u4fdd\u5b58\u6210\u529f",import:"\u5bfc\u5165\u6210\u529f",send:"\u53d1\u9001\u6210\u529f",clear:"\u6e05\u7406\u6210\u529f"},loading:{creating:"\u521b\u5efa\u4e2d...",exporting:"\u5bfc\u51fa\u4e2d...",importing:"\u5bfc\u5165\u4e2d...",sending:"\u53d1\u9001\u4e2d..."},error:{passwordVerify:"\u5bc6\u7801\u4e3a8\u4f4d\u4ee5\u4e0a\u5b57\u7b26\u957f\u5ea6!",passwordNotMatch:"\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u7684\u4e0d\u4e00\u81f4!",incorrectOrder:"\u52a9\u8bb0\u8bcd\u7684\u987a\u5e8f\u4e0d\u6b63\u786e!",invalidAddress:"\u65e0\u6548\u7684\u6536\u6b3e\u5730\u5740!",accountExisted:"\u8d26\u6237\u5b58\u5728!",notEnough:"\u4f59\u989d\u4e0d\u8db3!",passwordError:"\u5bc6\u7801\u4e0d\u6b63\u786e!",notEnoughFee:"\u6ca1\u6709\u8db3\u591f\u7684SERO\u652f\u4ed8\u77ff\u5de5\u8d39\u7528"}},modal:{help:"\u5e2e\u52a9",sure:"\u786e\u8ba4\u5220\u9664\u5417???",mainPKr:"\u6b64\u6536\u6b3e\u5730\u5740\u53ef\u4f5c\u4e3a\u5e38\u7528\u6536\u6b3e\u7801\uff0c\u4f8b\u5982\uff1a\u6316\u77ff\u5730\u5740\u3002",pkr:"\u6b64\u6536\u6b3e\u5730\u5740\u4e0d\u53ef\u505a\u5e38\u7528\u6536\u6b3e\u7801\uff0c\u6bcf\u6b21\u6536\u6b3e\u540e\u5c06\u4f1a\u5237\u65b0\u3002",createWallet:"\u65b0\u5efa\u94b1\u5305",importWallet:"\u5bfc\u5165\u94b1\u5305",clearData:"\u6e05\u9664\u5e94\u7528\u6570\u636e",confirmClear:"\u8bf7\u786e\u8ba4\u4f60\u5df2\u7ecf\u5907\u4efd\u597d\u8d26\u6237\u3002\u6e05\u9664\u540e\u5c06\u91cd\u65b0\u540c\u6b65\u4ea4\u6613\u6570\u636e",clearTip:"\u70b9\u51fb\u201c\u786e\u8ba4\u201d\u5f00\u59cb\u540c\u6b65\u6570\u636e\uff0c\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u51fa\u73b0\u767d\u5c4f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u6570\u636e\u540c\u6b65\u5b8c\u6210\uff0c\u4e0d\u8981\u8f7b\u6613\u7ed3\u675f\u8fdb\u7a0b\u3002"},page:{wallet:{mainPKr:"\u4e3b\u6536\u6b3e\u7801",PKr:"\u6536\u6b3e\u7801",Assets:"\u8d44\u4ea7",selectWallet:"\u9009\u62e9\u94b1\u5305"},txList:{all:"\u5168\u90e8",out:"\u8f6c\u51fa",in:"\u8f6c\u5165",noData:"\u6682\u65f6\u6570\u636e"},txDetail:{title:"\u4ea4\u6613\u8be6\u60c5",pending:"\u5904\u7406\u4e2d",success:"\u4ea4\u6613\u6210\u529f",amount:"\u91d1\u989d",fee:"\u8d39\u7528",from:"\u53d1\u9001",to:"\u6536\u6b3e",hash:"\u4ea4\u6613\u54c8\u5e0c",block:"\u5757\u53f7",goto:"\u5230\u533a\u5757\u6d4f\u89c8\u5668\u67e5\u770b\u8be6\u60c5 >"},txTransfer:{balance:"\u4f59\u989d",address:"\u6536\u6b3e\u5730\u5740",inputAmount:"\u8bf7\u8f93\u5165\u91d1\u989d",inputAddress:"\u8bf7\u8f93\u5165\u5730\u5740",fee:"\u8d39\u7528",total:"\u603b\u8ba1",amount:"\u91d1\u989d",gas:"Gas",gasPrice:"Gas Price",inputPassword:"\u8bf7\u8f93\u5165\u5bc6\u7801",passwordMsg:"\u8d26\u6237\u5bc6\u7801"},addressBook:{title:"\u5730\u5740\u7c3f",add:"\u6dfb\u52a0\u5730\u5740\u7c3f",name:"\u94b1\u5305\u540d\u79f0",address:"\u5730\u5740",description:"\u63cf\u8ff0(\u53ef\u9009)",detail:"\u5730\u5740\u8be6\u60c5"},walletManage:{mainPKr:"\u4e3b\u6536\u6b3e\u7801",PKr:"\u6536\u6b3e\u7801",password:"\u8bf7\u8f93\u5165\u5bc6\u7801",passwordHint:"\u5bc6\u7801\u63d0\u793a\u4fe1\u606f",export:"\u5bfc\u51fa\u52a9\u8bb0\u8bcd",changePasswordHint:"\u4fee\u6539\u5bc6\u7801\u63d0\u793a\u4fe1\u606f",changeProfilePhoto:"\u4fee\u6539\u5934\u50cf",changeWalletName:"\u4fee\u6539\u94b1\u5305\u540d\u79f0"},setting:{language:"\u8bed\u8a00",unit:"\u5e01\u79cd\u5355\u4f4d",node:"\u8282\u70b9\u8bbe\u7f6e",pkr:"\u67e5\u770b\u540c\u6b65\u72b6\u6001"},create:{import:"\u5bfc\u5165",step1:{title:"\u521b\u5efa\u94b1\u5305",walletName:"\u94b1\u5305\u540d\u79f0",password:"\u5bc6\u7801",rePassword:"\u91cd\u590d\u8f93\u5165\u5bc6\u7801",hint:"\u5bc6\u7801\u63d0\u793a\u4fe1\u606f(\u53ef\u9009)",passwordTips:"\u4e0d\u5c11\u4e8e8\u4f4d\u5b57\u7b26\uff0c\u5efa\u8bae\u6df7\u5408\u5927\u5c0f\u5b57\u6bcd\u3001\u6570\u5b57\u7ec4\u5408"},step2:{title:"\u5907\u4efd\u63d0\u793a",d1:"\u83b7\u5f97\u52a9\u8bb0\u8bcd\u7b49\u4e8e\u62e5\u6709\u94b1\u5305\u8d44\u4ea7\u6240\u6709\u6743\u5229",d2:"\u5907\u4efd\u52a9\u8bb0\u8bcd",d3:"\u4f7f\u7528\u7eb8\u548c\u7b14\u6b63\u786e\u6284\u5199\u52a9\u8bb0\u8bcd\uff0c\u5982\u679c\u4f60\u7684\u624b\u673a\u4e22\u5931\u3001\u88ab\u76d7\u3001\u635f\u574f\u3001\u52a9\u8bb0\u8bcd\u5c06\u53ef\u4ee5\u6062\u590d\u4f60\u7684\u8d44\u4ea7",d4:"\u79bb\u7ebf\u4fdd\u7ba1",d5:"\u59a5\u5584\u4fdd\u7ba1\u81f3\u9694\u79bb\u7f51\u7edc\u7684\u5b89\u5168\u5730\u65b9\uff0c\u8bf7\u52ff\u5c06\u52a9\u8bb0\u8bcd\u5728\u8054\u7f51\u73af\u5883\u4e0b\u5206\u4eab\u548c\u5b58\u50a8\uff0c\u6bd4\u5982\uff1a\u90ae\u4ef6\u3001\u76f8\u518c\u3001\u793e\u4ea4\u5e94\u7528\u7b49",d6:"\u8bf7\u52ff\u622a\u5c4f",d7:"\u8bf7\u52ff\u622a\u5c4f\u5206\u4eab\u548c\u5b58\u50a8\uff0c\u8fd9\u5c06\u53ef\u80fd\u88ab\u7b2c\u4e09\u65b9\u6076\u610f\u8f6f\u4ef6\u6536\u96c6\uff0c\u9020\u6210\u8d44\u4ea7\u635f\u5931"},step3:{title:"\u5907\u4efd\u52a9\u8bb0\u8bcd",d1:"\u8bf7\u6309\u987a\u5e8f\u9009\u62e9\u52a9\u8bb0\u8bcd\uff0c\u786e\u4fdd\u5907\u4efd\u6b63\u786e"},step4:{title:"\u786e\u8ba4\u52a9\u8bb0\u8bcd",d1:"\u8bf7\u6309\u987a\u5e8f\u70b9\u51fb\u52a9\u8bb0\u8bcd\uff0c\u4ee5\u786e\u8ba4\u60a8\u6b63\u786e\u5907\u4efd"}},import:{tips:"\u4f7f\u7528\u52a9\u8bb0\u8bcd\u5bfc\u5165\u7684\u540c\u65f6\u53ef\u4ee5\u4fee\u6539\u94b1\u5305\u5bc6\u7801\u3002",inputTips:"\u8f93\u5165\u52a9\u8bb0\u8bcd\u5355\u8bcd\uff0c\u5e76\u4f7f\u7528\u7a7a\u683c\u5206\u9694",name:"\u94b1\u5305\u540d\u79f0",password:"\u94b1\u5305\u5bc6\u7801",rePassword:"\u91cd\u590d\u8f93\u5165\u5bc6\u7801",hint:"\u5bc6\u7801\u63d0\u793a\u4fe1\u606f"},my:{addressBook:"\u5730\u5740\u7c3f",walletManage:"\u94b1\u5305\u7ba1\u7406",settings:"\u4f7f\u7528\u8bbe\u7f6e  ",termOfUse:"\u7528\u6237\u534f\u8bae",about:"\u5173\u4e8e\u6211\u4eec",clear:"\u6e05\u9664\u7f13\u5b58",address:{name:"\u94b1\u5305\u540d\u79f0",address:"\u5730\u5740",description:"\u5907\u6ce8(\u53ef\u9009)",add:"\u589e\u52a0\u5730\u5740",edit:"\u7f16\u8f91\u5730\u5740",detail:"\u5730\u5740\u8be6\u60c5"},manage:{mainPKr:"\u4e3b\u6536\u6b3e\u7801",pkr:"\u6536\u6b3e\u7801",hint:"\u5bc6\u7801\u63d0\u793a\u4fe1\u606f",export:"\u5bfc\u51fa\u52a9\u8bb0\u8bcd"}},dapp:{search:"\u8f93\u5165DApp\u7684\u5730\u5740",invalidDApp:"\u65e0\u6548\u7684DApp url",recent:"\u6700\u8fd1\u4f7f\u7528",recommended:"\u63a8\u8350"}}}};n.d(t,"storage",(function(){return m})),n.d(t,"keys",(function(){return h})),n.d(t,"config",(function(){return p})),n.d(t,"url",(function(){return g})),n.d(t,"baseDecimal",(function(){return v})),n.d(t,"lang",(function(){return y}));var m=new u.a,h=new f,p=new l,g=new c,y=new d,v=new r.a(10).pow(new r.a(18))},113:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(213),o=n(89),s=n(35),i=n(25),c=n(25);function l(e){e[e.length-1]|=64}function u(t){var n=e.from(t);return n[t.length-1]&=-65,n}function f(e){return 0!==(64&e[e.length-1])}t.SetFlag=l,t.ClearFlag=u,t.IsFlagSet=f;var d=function(){function t(e,t){this.ZPK=a.newPoint(e),this.VPK=a.newPoint(t)}return t.prototype.toBuffer=function(){var t=e.alloc(64);return t.fill(this.ZPK.toBuffer(),0),t.fill(this.VPK.toBuffer(),32),l(t),t},t.prototype.toHex=function(){return"0x"+this.toBuffer().toString("hex")},t.prototype.toString=function(){return c.default.bufferToBs58(this.toBuffer())},t}();function m(e){if(e instanceof d)return e;var t=u(i.toBuffer(e));s(64==t.length);var n=a.Point.bufferTo(t.slice(0,32));if(n){var r=a.Point.bufferTo(t.slice(32));if(r)return new d(n,r)}}t.PK=d,t.newPK=m,t.tk2PK=function(e){e=r.newTK(e);var t=o.accountBase.mult(e.vsk);return new d(e.ZPK,t)},t.isPKValid=function(e){var t=i.toBuffer(e);return!!f(t)&&!!m(t)}}).call(this,n(21).Buffer)},134:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),r=n(25),o=n(89),s=n(35),i=function(){function t(t,n,o,s){"string"===typeof n&&(n=r.toBN(n).toArrayLike(e,"le",32)),t=r.toBuffer(t),n=a.newFR(n),o=r.toBuffer(o),s=r.toBuffer(s),this.tkn_currency=t,this.tkn_value=n,this.tkt_category=o,this.tkt_value=s}return t.prototype.isValid=function(){return 0==this.tkn_value.toBuffer()[31]&&0==this.tkn_value.toBuffer()[30]},t.prototype.hasTkt=function(){return 0!=e.compare(this.tkt_value,t.tkt_empty)},t.prototype.toBuffer=function(){return e.concat([this.tkn_currency,this.tkn_value.toBuffer(),this.tkt_category,this.tkt_value])},t.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},t.tkt_empty=e.alloc(32,0),t}();function c(e){if(e instanceof i)return e;var t=r.toBuffer(e);s(128==t.length);var n=0,o=t.slice(n,32);n+=32;var c=a.newFR(t.slice(n,n+32));n+=32;var l=t.slice(n,n+32);n+=32;var u=t.slice(n,n+32);return new i(o,c,l,u)}function l(e){e=c(e);var t=o.genTknBase(e.tkn_currency).mult(e.tkn_value);if(e.hasTkt()){var n=o.genTktBase(e.tkt_category,e.tkt_value);return t.add(n)}return t}t.Asset=i,t.newAsset=c,t.genAssetCC=l,t.genAssetCM=function(e,t){var n=l(e=c(e));t=a.newFR(t);var r=o.crBase.mult(t);return n.add(r)}}).call(this,n(21).Buffer)},135:function(e,t,n){},159:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(25),o=n(305),s=n(42),i=n(89),c=n(35),l=n(25),u=n(113),f=function(){function t(e,t,n){this.ZPK=a.newPoint(e),this.VPK=a.newPoint(t),this.BASE=a.newPoint(n),c(this.isValid())}return t.prototype.isValid=function(){return this.ZPK.isValid()&&this.VPK.isValid()&&this.BASE.isValid()},t.prototype.toBuffer=function(){return e.concat([this.ZPK.toBuffer(),this.VPK.toBuffer(),this.BASE.toBuffer()])},t.prototype.toString=function(){return l.default.bufferToBs58(this.toBuffer())},t}();function d(e){if(e instanceof f)return e;var t=r.toBuffer(e);return c(96==t.length),new f(a.newPoint(t.slice(0,32)),a.newPoint(t.slice(32,64)),a.newPoint(t.slice(64,96)))}t.PKr=f,t.newPKr=d,t.isPKrValid=function(e){var t=r.toBuffer(e);return!u.IsFlagSet(t)&&!!d(t).isValid()},t.pk2PKr=function(e,t){e=o.newPK(e),t=s.newFR(t);var n=e.ZPK.mult(t).add(e.ZPK),a=e.VPK.mult(t).add(e.VPK),r=i.accountBase.mult(t);return new f(n,a,r)}}).call(this,n(21).Buffer)},164:function(e,t,n){},169:function(e,t,n){"use strict";var a=n(259),r=n(90),o=n(321),s={Wallet:r.default,decOut:a.decOut,genSeed:r.genSeed,createPkrHash:r.createPkrHash,createOldPkrHash:r.createOldPkrHash,selectUtxos:o.selectUtxos,buildTxParam:o.buildTxParam,entropyToMnemonic:r.entropyToMnemonic};e.exports=s},171:function(e,t,n){"use strict";var a=n(10),r=n(11),o=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"clear",value:function(){this._clear(),this._clearPlus()}},{key:"_clear",value:function(){window.localStorage.clear()}},{key:"_clearPlus",value:function(){try{plus&&plus.storage&&plus.storage.clear()}catch(e){console.log(e.message)}}},{key:"get",value:function(e){return this._get(e)||this._getPlus(e)}},{key:"_get",value:function(e){var t=window.localStorage.getItem(e);return t?JSON.parse(t):null}},{key:"_getPlus",value:function(e){try{if(plus&&plus.storage){var t=plus.storage.getItem(e);return t?JSON.parse(t):null}}catch(n){console.log(n.message)}}},{key:"key",value:function(e){return this._key(e)||this._keyPlus(e)}},{key:"_key",value:function(e){return window.localStorage.key(e)}},{key:"_keyPlus",value:function(e){try{if(plus&&plus.storage)return plus.storage.key(e)}catch(t){console.log(t.message)}}},{key:"delete",value:function(e){this._delete(e),this._deletePlus(e)}},{key:"_delete",value:function(e){window.localStorage.removeItem(e)}},{key:"_deletePlus",value:function(e){try{plus&&plus.storage&&plus.storage.removeItem(e)}catch(t){console.log(t.message)}}},{key:"set",value:function(e,t){try{this._set(e,t)}catch(n){window.localStorage.removeItem(e),this._setPlus(e,t)}}},{key:"_set",value:function(e,t){window.localStorage.setItem(e,JSON.stringify(t))}},{key:"_setPlus",value:function(e,t){try{plus&&plus.storage&&plus.storage.setItem(e,JSON.stringify(t))}catch(n){console.log(n.message)}}},{key:"has",value:function(e){return this._has(e)||this._hasPlus(e)}},{key:"_has",value:function(e){return!!window.localStorage.getItem(e)}},{key:"_hasPlus",value:function(e){try{if(plus&&plus.storage)return!!plus.storage.getItem(e)}catch(t){consol}}},{key:"length",value:function(){return this._length()||this._lengthPlus()}},{key:"_length",value:function(){return window.localStorage.length}},{key:"_lengthPlus",value:function(){if(plus&&plus.storage)return plus.storage.getLength()}}]),e}();t.a=o},172:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"webworker",(function(){return a}));var a=new Worker(e,{})}.call(this,n(436))},175:function(e,t,n){e.exports=n.p+"static/media/logo.2f0a4ff7.png"},196:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(113),o=n(42),s=n(88),i=n(89),c=n(213),l=n(25),u=n(214),f=n(304),d=n(25),m=n(35);function h(e){var t=e.toBuffer(),n=s.blake2b("SZK$PKR$HR$Z",t);return new o.FR(n)}function p(e){var t=e.toBuffer(),n=s.blake2b("SZK$PKR$HR$V",t);return new o.FR(n)}function g(e,t,n){var a=i.accountBase.mult(e),r=i.accountBase.mult(t);return{ZPKr:a.add(n.ZPK),VPKr:r.add(n.VPK)}}function y(e){return s.blake2b("SZK$PKR$KDF",e.toBuffer())}t.toHr_Z=h,t.toHr_V=p;var v=function(){function t(e,t,n){this.i=0,this.ZPKr=a.newPoint(e),this.VPKr=a.newPoint(t),this.BASEr=a.newPoint(n)}return t.prototype.toBuffer=function(){var t=e.alloc(96);return t.fill(this.ZPKr.toBuffer(),0),t.fill(this.VPKr.toBuffer(),32),t.fill(this.BASEr.toBuffer(),64),r.SetFlag(t),t},t.prototype.toString=function(){return d.default.bufferToBs58(this.toBuffer())},t.prototype.toHex=function(){return"0x"+this.toBuffer().toString("hex")},t}();function k(t){var n;if(t instanceof v)n=t;else{var o=void 0;o=t instanceof e?r.ClearFlag(t):r.ClearFlag(l.toBuffer(t)),m(96==o.length);var s=a.Point.bufferTo(o.slice(0,32));if(!s)return;var i=a.Point.bufferTo(o.slice(32,64));if(!i)return;var c=a.Point.bufferTo(o.slice(64));if(!c)return;n=new v(s,i,c)}return n}t.PKr=v,t.newPKr=k,t.pk2PKr=function(e,t){var n=g(h((e=r.newPK(e)).VPK.mult(t)),p(e.VPK.mult(t)),e),a=i.accountBase.mult(t);return new v(n.ZPKr,n.VPKr,a)},t.isMyPKr=function(e,t){e=c.newTK(e),t=k(t);var n=r.tk2PK(e),a=t.BASEr.mult(e.vsk),o=g(h(a),p(a),n);return!!o.VPKr.isEqualTo(t.VPKr)&&!!o.ZPKr.isEqualTo(t.ZPKr)},t.isPKrValid=function(e){var t=l.toBuffer(e);return!!r.IsFlagSet(t)&&!!k(t)},t.signPKr=function(e,t,n){e=c.newSK(e),n=k(n),t=l.toBuffer(t);var a=h(n.BASEr.mult(e.vsk)).add(e.zsk);return u.sign(t,a,i.accountBase)},t.verifyPKr=function(e,t,n){return e=l.toBuffer(e),t=l.toBuffer(t),n=k(n),u.verify(e,t,n.ZPKr,i.accountBase)},t.genZPKa=function(e,t){return e=k(e),t=o.newFR(t),e.ZPKr.mult(t)},t.signZPKa=function(e,t,n,a){e=l.toBuffer(e),t=c.newSK(t),n=o.newFR(n);var r=h((a=k(a)).BASEr.mult(t.vsk)).add(t.zsk),s=n.mul(r);return u.sign(e,s,i.accountBase)},t.verifyZPKa=function(e,t,n){return e=l.toBuffer(e),t=l.toBuffer(t),n=a.newPoint(n),u.verify(e,t,n,i.accountBase)},t.genNil=function(e,t,n){e=c.newTK(e),t=a.newPoint(t);var o=p((n=k(n)).BASEr.mult(e.vsk)).add(e.vsk),s=t.mult(o).toBuffer();return r.SetFlag(s),s},t.signNil=function(e,t,n,r){e=l.toBuffer(e),t=c.newTK(t),n=a.newPoint(n);var o=p((r=k(r)).BASEr.mult(t.vsk)).add(t.vsk);return f.sign(e,o,i.accountBase,n)},t.verifyNil=function(e,t,n,o,s){e=l.toBuffer(e),t=l.toBuffer(t),n=l.toBuffer(n),n=r.ClearFlag(n),o=a.newPoint(o),s=k(s);var c=a.newPoint(n);return f.verify(e,t,s.VPKr,c,i.accountBase,o)},t.genPKrKey=function(e,t){return e=k(e),t=o.newFR(t),{key:y(e.VPKr.mult(t)),rpk:i.accountBase.mult(t)}},t.fetchRPKKey=function(e,t,n){e=k(e),t=c.newTK(t),n=a.newPoint(n);var r=p(e.BASEr.mult(t.vsk)).add(t.vsk);return y(n.mult(r))}}).call(this,n(21).Buffer)},197:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),r=new a("21888242871839275222246405745257275088548364400416034343698204186575808495617"),o=new a("2736030358979909402780800718157159386076813972158567259200215660948447373041"),s={ECC_A:new a("168700"),ECC_D:new a("168696"),FQ_MODULUS:r,FR_MODULUS:o,CRS:e.from("096b36a5804bfacef1691e173c366a47ff5ba84a44f26ddd7e8d9f79d5b42df0","hex").reverse()};t.default=s}).call(this,n(21).Buffer)},213:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(88),r=n(42),o=n(60),s=n(89),i=n(25),c=n(35),l=n(113),u=function(){function t(e,t){this.zsk=r.newFR(e),this.vsk=r.newFR(t)}return t.prototype.isValid=function(){return!this.zsk.isZero()&&!this.vsk.isZero()},t.prototype.toBuffer=function(){var t=e.alloc(64);return t.fill(this.zsk.toBuffer(),0),t.fill(this.vsk.toBuffer(),32),l.SetFlag(t),t},t.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},t}();function f(e){if(e instanceof u)return e;var t=i.toBuffer(e);return t.length>64&&(t=t.slice(0,64)),t=l.ClearFlag(t),c(64==t.length),new u(new r.FR(t.slice(0,32)),new r.FR(t.slice(32)))}t.SK=u,t.seed2SK=function(e){var t=i.toBuffer(e);c(32==t.length);var n=a.blake2b("LIBZEROZSK",t),o=a.blake2b("LIBZEROVSK",t);return new u(new r.FR(n),new r.FR(o))},t.newSK=f;var d=function(){function t(e,t){this.ZPK=o.newPoint(e),this.vsk=r.newFR(t)}return t.prototype.toBuffer=function(){var t=e.alloc(64);return t.fill(this.ZPK.toBuffer(),0),t.fill(this.vsk.toBuffer(),32),l.SetFlag(t),t},t.prototype.isValid=function(){return this.ZPK.isValid()&&!this.vsk.isZero()},t.prototype.toString=function(){return i.default.bufferToBs58(this.toBuffer())},t.prototype.toHex=function(){return"0x"+this.toBuffer().toString("hex")},t}();t.TK=d,t.newTK=function(e){if(e instanceof d)return e;var t=i.toBuffer(e);t.length>64&&(t=t.slice(0,64)),t=l.ClearFlag(t),c(64==t.length);var n=o.Point.bufferTo(t.slice(0,32)),a=new r.FR(t.slice(32));return new d(n,a)},t.sk2TK=function(e){e=f(e);var t=s.accountBase.mult(e.zsk);return new d(t,e.vsk)}}).call(this,n(21).Buffer)},214:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),r=n(60),o=n(35),s=n(88),i=n(158);function c(e){return s.blake2b("SZK$DSA$HASH2",e)}t.sign=function(t,n,r){var o,l,u=e.concat([(o=32,new i(o)),n.toBuffer(),t]),f=new a.FR((l=u,s.blake2b("SZK$DSA$HASH1",l))),d=r.mult(f);if(d&&!d.isZero()){var m=r.mult(n);if(m){var h=e.concat([d.toBuffer(),m.toBuffer(),t]),p=new a.FR(c(h)),g=f.add(n.mul(p));return e.concat([d.toBuffer(),g.toBuffer()])}}},t.verify=function(t,n,s,i){if(o(64==n.length,"sign.length != 64"),s.isZero())return!1;var l=r.Point.bufferTo(n.slice(0,32));if(!l||l.isZero()||!l.isValid())return!1;var u=new a.FR(n.slice(32,64));if(u.isZero())return!1;var f=i.mult(u);if(f.isZero()||!f.isValid())return!1;var d=e.concat([l.toBuffer(),s.toBuffer(),t]),m=new a.FR(c(d)),h=s.mult(m),p=l.add(h);return!!f.isEqualTo(p)}}).call(this,n(21).Buffer)},215:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(42),o=n(89),s=n(88),i=n(304),c=n(214),l=n(159),u=n(25),f=n(35),d=n(216);t.fetchKey=function(t,n){t=d.newTK(t),n=e.from(u.toBuffer(n)),f(32==n.length),64&n[31]&&(n[31]&=-65);var r=a.newPoint(n);if(r){var o=r.mult(t.vsk);return s.blake2b("CZERO.KEYS.KDF",o.toBuffer())}},t.genPKrKey=function(e,t){e=l.newPKr(e),t=r.newFR(t);var n=e.ZPK.mult(t),a=e.VPK.mult(t),o=n.toBuffer(),i=s.blake2b("CZERO.KEYS.KDF",a.toBuffer());return o[31]|=64,{key:i,rpk:o}},t.signByPKr=function(e,t,n){if(t=u.toBuffer(t),e=d.newSK(e),n=l.newPKr(n),f(32==t.length),t&&0!=t.length&&e.isValid()&&n.isValid()){var a=n.BASE.add(o.accountBase.points.get(0));return c.sign(t,e.vsk.mul(e.zsk),a)}},t.verifyByPKr=function(e,t,n){if(e=u.toBuffer(e),t=u.toBuffer(t),n=l.newPKr(n),f(32==e.length),!e||0==e.length||!t||0==t.length||!n.isValid())return!1;var a=n.BASE.add(o.accountBase.points.get(0));return c.verify(e,t,n.VPK,a)},t.genNil=function(e,t){if(e=d.newSK(e),t=a.newPoint(t),e.isValid()&&t.isValid())return t.mult(e.vsk.mul(e.zsk))},t.signNil=function(e,t,n,r){if(e=u.toBuffer(e),t=d.newSK(t),n=l.newPKr(n),r=a.newPoint(r),f(32==e.length),e&&0!=e.length&&t.isValid()&&n.isValid()&&r.isValid()){var s=n.BASE.add(o.accountBase.points.get(0));return i.sign(e,t.vsk.mul(t.zsk),s,r)}},t.verifyNil=function(e,t,n,r,s){if(e=u.toBuffer(e),t=u.toBuffer(t),n=a.newPoint(n),r=l.newPKr(r),s=a.newPoint(s),f(32==e.length),f(96==t.length),!e||0==e.length||!t||0==t.length||!r.isValid()||!s.isValid())return!1;var c=r.BASE.add(o.accountBase.points.get(0));return i.verify(e,t,r.VPK,n,c,s)},t.genTrace=function(e,t){if(e=d.newTK(e),t=a.newPoint(t),e.isValid()&&t.isValid())return t.mult(e.vsk)},t.isMyPKr=function(e,t){if(e=d.newTK(e),t=l.newPKr(t),!e.isValid()||!t.isValid())return!1;var n=t.ZPK.add(e.ZPK.mult(r.FR.ONE.nega())).mult(e.vsk),a=t.VPK.add(e.ZPK.mult(e.vsk.mul(r.FR.ONE.nega())));return n.isEqualTo(a)}}).call(this,n(21).Buffer)},216:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(88),r=n(42),o=n(60),s=n(89),i=n(25),c=n(35),l=function(){function t(e,t){this.zsk=r.newFR(e),this.vsk=r.newFR(t)}return t.prototype.isValid=function(){return!this.zsk.isZero()&&!this.vsk.isZero()},t.prototype.toBuffer=function(){var t=e.alloc(64);return t.fill(this.zsk.toBuffer(),0),t.fill(this.vsk.toBuffer(),32),t},t.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},t}();function u(e){if(e instanceof l)return e;var t=i.toBuffer(e);return t.length>64&&(t=t.slice(0,64)),c(64==t.length),new l(new r.FR(t.slice(0,32)),new r.FR(t.slice(32)))}t.SK=l,t.seed2SK=function(e){var t=i.toBuffer(e);c(32==t.length);var n=a.blake2b("LIBZEROZSK",t),o=a.blake2b("LIBZEROVSK",t);return new l(new r.FR(n),new r.FR(o))},t.newSK=u;var f=function(){function t(e,t){this.ZPK=o.newPoint(e),this.vsk=r.newFR(t)}return t.prototype.toBuffer=function(){var t=e.alloc(64);return t.fill(this.ZPK.toBuffer(),0),t.fill(this.vsk.toBuffer(),32),t},t.prototype.isValid=function(){return this.ZPK.isValid()&&!this.vsk.isZero()},t.prototype.toString=function(){return i.default.bufferToBs58(this.toBuffer())},t.prototype.toHex=function(){return"0x"+this.toBuffer().toString("hex")},t}();t.TK=f,t.newTK=function(e){if(e instanceof f)return e;var t=i.toBuffer(e);t.length>64&&(t=t.slice(0,64)),c(64==t.length);var n=o.Point.bufferTo(t.slice(0,32)),a=new r.FR(t.slice(32));return new f(n,a)},t.sk2TK=function(e){e=u(e);var t=s.accountBase.mult(e.zsk);return new f(t,e.vsk)}}).call(this,n(21).Buffer)},25:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),r=n(440)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),o=n(261),s=n(442),i=n(443),c=n(445),l=n(446),u=n(452),f=n(35);function d(t){var n;if(t instanceof e)n=t;else if(g(t))n=e.from(o(t),"hex");else{if(!p(t))return t;n=r.decode(t)}return r.encode(n)}function m(e,t,n){return o(e)+new Array(t-o(e).length+1).join(n||"0")}function h(e,t,n){return new Array(t-o(e).length+1).join(n||"0")+o(e)}function p(e){return/^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{80,}$/i.test(e)}function g(e){return 0==e.indexOf("0x")&&(e=e.slice(2)),e.length%2==0&&/^(-)?[0-9a-f]*$/i.test(e)}function y(e){var t="";e=(e=(e=(e=(e=s.encode(e)).replace(/^(?:\u0000)*/,"")).split("").reverse().join("")).replace(/^(?:\u0000)*/,"")).split("").reverse().join("");for(var n=0;n<e.length;n++){var a=e.charCodeAt(n).toString(16);t+=a.length<2?"0"+a:a}return"0x"+o(t)}function v(e){if(!function(e){return(l(e)||u(e))&&/^(-)?0x[0-9a-f]*$/i.test(e)}(e))throw new Error("The parameter '"+e+"' must be a valid HEX string.");for(var t="",n=0,a=(e=(e=(e=(e=(e=e.replace(/^0x/i,"")).replace(/^(?:00)*/,"")).split("").reverse().join("")).replace(/^(?:00)*/,"")).split("").reverse().join("")).length,r=0;r<a;r+=2)n=parseInt(e.substr(r,2),16),t+=String.fromCharCode(n);return s.decode(t)}function k(e){return v(e).toUpperCase()}function E(e){try{return i(e)}catch(t){throw new Error(t+' Given value: "'+e+'"')}}function w(t){return f(t),t instanceof e?t:b.isBase58(t)?r.decode(t):g(t)?e.from(o(t),"hex"):e.from(t,"binary")}t.addrToString=d,t.padRight=m,t.padLeft=h,t.hexToCy=k,t.toBN=E,t.isNewVersion=function(e){return 0!==(64&e[e.length-1])},t.toString=function(t){return t?t instanceof e?"0x"+t.toString("hex"):"string"===typeof t?t:"0x"+t.toBuffer().toString("hex"):(f(!1),"")},t.toBuffer=w,t.toHex=function(t){return t instanceof e?"0x"+t.toString("hex"):t instanceof a?"0x"+E(t).toString("hex"):"number"===typeof t?"0x"+E(t).toString("hex"):p(t)?"0x"+r.decode(t).toString("hex"):g(t)?"0x"+o(t):y(t)};var b={isBase58:p,bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return"0x"+t.join("")},hexToBytes:function(t){var n=e.from(o(t),"hex");return new Uint8Array(n)},utf8ToHex:y,bs58ToHex:function(e){return"0x"+r.decode(e).toString("hex")},bytesToBase58:function(e){return r.encode(e.buffer)},padLeft:h,padRight:m,bufferToHex:function(e){return"0x"+e.toString("hex")},cyToHex:function(e){return"0x"+h(y(e.toUpperCase()),64,"0")},hexToBN:function(e){return E(o(e))},hexToCy:k,toBN:E,isNotNull:function(e){return!c(e)&&"undefined"!==typeof e},toBuffer:w,bufferToBN:function(e){return new a(e,"le")},isEmptyBuffer:function(t,n){return void 0===n&&(n=32),0==t.length||0==e.alloc(n).compare(t)},bufferToBs58:function(e){return r.encode(e)},addrToString:d};t.default=b}).call(this,n(21).Buffer)},259:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(25),r=n(196),o=n(134),s=n(215),i=n(541),c=n(543),l=n(307),u=n(159);t.decOut=function(e,t){var n=new Array;return t.forEach((function(t){var o,i={},c=!1;i.Nils=new Array;var l=t.State.OS;if(l.Out_O)i.Asset=d(l.Out_O.Asset),i.Memo=l.Out_O.Memo,i.Nils.push(t.Root),i.Nils.push(a.toString(s.genTrace(e,l.RootCM))),o=l.Out_O.Addr;else if(l.Out_Z){null!==(f=m(a.toString(s.fetchKey(e,l.Out_Z.RPK)),l.Out_Z.EInfo,l.Out_Z.PKr,l.Out_Z.OutCM))&&(i.Asset=f.Asset,i.Memo=f.Memo,i.Nils.push(a.toString(s.genTrace(e,l.RootCM))),o=l.Out_Z.PKr,c=!0)}else if(l.Out_P){var u=a.toString(r.genNil(e,l.RootCM,l.Out_P.PKr));i.Asset=d(l.Out_P.Asset),i.Memo=l.Out_P.Memo,i.Nils.push(u),o=l.Out_P.PKr}else{if(!l.Out_C)throw new Error("invalid out type");var f;null!==(f=h(a.toString(r.fetchRPKKey(l.Out_C.PKr,e,l.Out_C.RPK)),l.Out_C.EInfo,l.Out_C.AssetCM))&&(i.Asset=f.Asset,i.Memo=f.Memo,i.Nils.push(a.toString(r.genNil(e,l.RootCM,l.Out_C.PKr))),o=l.Out_C.PKr,c=!0)}if(o){var p={};p.Root=t.Root,p.State=t.State,p.Pkr=a.default.addrToString(o),p.Asset=i.Asset,p.Num=t.State.Num,p.Memo=i.Memo,p.Nils=i.Nils,p.IsZ=c,p.TxHash=t.State.TxHash,n.push(p)}})),n};var f=e.alloc(32,0);function d(t){var n={};return t instanceof o.Asset?(0!=e.compare(t.tkn_currency,f)&&(n.Tkn={Currency:a.toString(t.tkn_currency),Value:a.default.bufferToBN(t.tkn_value.toBuffer()).toString()}),0!=e.compare(t.tkt_value,f)&&(n.Tkt={Category:a.toString(t.tkt_category),Value:a.toString(t.tkt_value)})):(t.Tkn&&0!==e.compare(a.toBuffer(t.Tkn.Currency),f)&&(n.Tkn={Currency:t.Tkn.Currency,Value:a.default.toBN(t.Tkn.Value).toString(10)}),t.Tkt&&0!=e.compare(a.toBuffer(t.Tkt.Value),f)&&(n.Tkt={Category:t.Tkt.Category,Value:t.Tkt.Value})),n}function m(e,t,n,r){e=a.toBuffer(e),t=a.toBuffer(t),n=u.newPKr(n),r=a.toBuffer(r);var o=c.decEInfo(t,e,!0),s=i.genOutCm(o.asset,o.memo,o.rsk,n);return s?0!=s.toBuffer().compare(r)?null:{Asset:d(o.asset),Memo:a.toString(o.memo),Nils:new Array}:null}function h(e,t,n){e=a.toBuffer(e),t=a.toBuffer(t),n=a.toBuffer(n);var r=l.decEInfo(e,t),s=a.toString(r.ar);return 0!=o.genAssetCM(r.asset,s).toBuffer().compare(n)?null:{Asset:d(r.asset),Memo:a.toString(r.memo),Nils:new Array}}t.confirmOutZ=m,t.confirmOutC=h}).call(this,n(21).Buffer)},301:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(302),r=n(42),o=n(303),s=n(96),i=n(35),c=n(60),l=function(){function t(e,t,n,a){this.personal=e,this.SegNum=t,this.SegBitsNum=n,this.Bits=a,this.indexPoints=new Map,this.points=new Map,this.init()}return t.prototype.init=function(){for(var t=new s(2).pow(new s(this.Bits)),n=Math.ceil(this.SegBitsNum/this.Bits),o=new r.FR(t),c=0;c<this.SegNum;c++){var l=a.findPoint(this.personal,new s(c).toArrayLike(e,"le",32));l||i(!1,"findPoint error"),this.points.set(c,l);for(var u=new Map,f=0;f<n;f++)for(var d=0;d<t.toNumber();d++){var m=new s(d).shln(this.Bits*f),h=m.toString(),p=void 0;if(f>0){var g=m.shrn(this.Bits).toString();p=u.get(g).mult(o)}else p=l.mult(new r.FR(m));u.set(h,p)}this.indexPoints.set(c,u)}},t.prototype.mult=function(e){if(e instanceof r.FR){var t=e.toBuffer();return this.mult(new o.BitBuffer(t,0,256))}var n=e;n.bitsLength()>this.SegNum*this.SegBitsNum&&i(!1,"bigBuffer.length > SegNum * SegBitsNum");for(var a=Math.ceil(this.SegBitsNum/this.Bits),s=Math.ceil(n.bitsLength()/this.SegBitsNum),l=c.Point.ZERO,u=0;u<s;u++){var f=o.BitBuffer.from(n,u*this.SegBitsNum,this.SegBitsNum),d=this.indexPoints.get(u);d||i(!1);for(var m=0;m<a;m++){var h=o.BitBuffer.from(f,this.Bits*m,this.Bits).toBigNumber().shln(this.Bits*m);l=l.add(d.get(h.toString()))}}return l},t}();t.Group=l}).call(this,n(21).Buffer)},302:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(197),r=n(60),o=n(42),s=n(88),i=n(198),c=n(35),l=new o.FR(8);function u(t,n){var o=e.concat([a.default.CRS,n]),i=s.blake2b(t,o),c=r.Point.bufferTo(i);if(c){var u=c.mult(l);if(!u.isEqualTo(r.Point.ZERO))return u}}function f(t,n){c(t.length<=16&&32==n.length);for(var a=e.from(n),r=0;;r++){a[31]+=r;var o=u(t,a);if(o)return o;if(r>256)return}}t.findPoint=f,t.randomPt=function(){for(;;){var e=f("randomPT",i.randomBytes(32));if(e)return e}}}).call(this,n(21).Buffer)},303:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(35),r=n(96),o=new Map([[0,255],[1,1],[2,3],[3,7],[4,15],[5,31],[6,63],[7,127]]),s=function(){function t(t,n,r){n||(n=0),r||(r=8*t.length);var s=n+r,i=Math.ceil(s/8);a(t.length>=i),this.bitsLen=r,this.rightBits=n%8,this.buf=e.from(t.slice(Math.floor(n/8),Math.floor((s-1)/8)+1)),this.buf[this.buf.length-1]&=o.get(s%8)}return t.prototype.toBigNumber=function(){return new r(this.buf,"le").shrn(this.rightBits)},t.prototype.bitsLength=function(){return this.bitsLen},t.from=function(e,n,a){return new t(e.buf,n+e.rightBits,a)},t}();t.BitBuffer=s}).call(this,n(21).Buffer)},304:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(42),o=n(35),s=n(88),i=n(158);function c(e){return s.blake2b("SZK$DSAN$HASH2",e)}t.sign=function(t,n,a,o){var l,u,f=e.concat([(l=32,new i(l)),n.toBuffer(),t]),d=new r.FR((u=f,s.blake2b("SZK$DSAN$HASH1",u))),m=a.mult(d);if(m&&!m.isZero()&&m.isValid()){var h=o.mult(d);if(h&&!h.isZero()&&h.isValid()){var p=a.mult(n);if(p&&!p.isZero()&&p.isValid()){var g=o.mult(n);if(g&&!g.isZero()&&g.isValid()){var y=e.concat([m.toBuffer(),h.toBuffer(),p.toBuffer(),g.toBuffer(),t]),v=new r.FR(c(y)),k=d.add(n.mul(v));return e.concat([k.toBuffer(),m.toBuffer(),h.toBuffer()])}}}}},t.verify=function(t,n,s,i,l,u){if(o(96==n.length,"sign.length != 96"),!s||s.isZero()||!s.isValid())return!1;if(!i||i.isZero()||!i.isValid())return!1;var f=new r.FR(n.slice(0,32)),d=a.Point.bufferTo(n.slice(32,64)),m=a.Point.bufferTo(n.slice(64,96));if(!f||f.isZero())return!1;if(!d||d.isZero()||!d.isValid())return!1;if(!m||m.isZero()||!m.isValid())return!1;var h=l.mult(f);if(!h||h.isZero()||!h.isValid())return!1;var p=u.mult(f);if(!p||p.isZero()||!p.isValid())return!1;var g=e.concat([d.toBuffer(),m.toBuffer(),s.toBuffer(),i.toBuffer(),t]),y=new r.FR(c(g)),v=s.mult(y),k=d.add(v);if(!h.isEqualTo(k))return!1;var E=i.mult(y),w=m.add(E);return!!p.isEqualTo(w)}}).call(this,n(21).Buffer)},305:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(25),o=n(35),s=n(216),i=function(){function t(e,t){this.ZPK=a.newPoint(e),this.VPK=a.newPoint(t)}return t.prototype.toBuffer=function(){return e.concat([this.ZPK.toBuffer(),this.VPK.toBuffer()])},t.prototype.toString=function(){return r.default.bufferToBs58(this.toBuffer())},t}();t.PK=i,t.newPK=function(e){if(e instanceof i)return e;var t=r.toBuffer(e);o(64==t.length);var n=a.Point.bufferTo(t.slice(0,32)),s=a.Point.bufferTo(t.slice(32,64));return new i(n,s)},t.tk2PK=function(e){var t=(e=s.newTK(e)).ZPK,n=e.ZPK.mult(e.vsk);return new i(t,n)}}).call(this,n(21).Buffer)},306:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(t,n,a){this.input=new Uint32Array(16),this.input[0]=1634760805,this.input[1]=857760878,this.input[2]=2036477234,this.input[3]=1797285236,this.input[4]=e.U8TO32_LE(t,0),this.input[5]=e.U8TO32_LE(t,4),this.input[6]=e.U8TO32_LE(t,8),this.input[7]=e.U8TO32_LE(t,12),this.input[8]=e.U8TO32_LE(t,16),this.input[9]=e.U8TO32_LE(t,20),this.input[10]=e.U8TO32_LE(t,24),this.input[11]=e.U8TO32_LE(t,28),12==n.length?(this.input[12]=a,this.input[13]=e.U8TO32_LE(n,0),this.input[14]=e.U8TO32_LE(n,4),this.input[15]=e.U8TO32_LE(n,8)):(this.input[12]=a,this.input[13]=0,this.input[14]=e.U8TO32_LE(n,0),this.input[15]=e.U8TO32_LE(n,4))}return e.prototype.encrypt=function(t,n){console.assert(t.length==n.length);for(var a,r=new Uint32Array(16),o=new Uint8Array(64),s=0,i=0,c=t.length;c>0;){for(a=16;a--;)r[a]=this.input[a];for(a=20;a>0;a-=2)this.quarterRound(r,0,4,8,12),this.quarterRound(r,1,5,9,13),this.quarterRound(r,2,6,10,14),this.quarterRound(r,3,7,11,15),this.quarterRound(r,0,5,10,15),this.quarterRound(r,1,6,11,12),this.quarterRound(r,2,7,8,13),this.quarterRound(r,3,4,9,14);for(a=16;a--;)r[a]+=this.input[a];for(a=16;a--;)e.U32TO8_LE(o,4*a,r[a]);if(this.input[12]+=1,this.input[12]||(this.input[13]+=1),c<=64){for(a=c;a--;)t[a+s]=n[a+i]^o[a];return}for(a=64;a--;)t[a+s]=n[a+i]^o[a];c-=64,i+=64,s+=64}},e.prototype.quarterRound=function(t,n,a,r,o){t[n]+=t[a],t[o]=e.ROTATE(t[o]^t[n],16),t[r]+=t[o],t[a]=e.ROTATE(t[a]^t[r],12),t[n]+=t[a],t[o]=e.ROTATE(t[o]^t[n],8),t[r]+=t[o],t[a]=e.ROTATE(t[a]^t[r],7)},e.U8TO32_LE=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24},e.U32TO8_LE=function(e,t,n){e[t]=n,n>>>=8,e[t+1]=n,n>>>=8,e[t+2]=n,n>>>=8,e[t+3]=n},e.ROTATE=function(e,t){return e<<t|e>>>32-t},e}(),a=e.alloc(16,0);a.fill(0),t.default=function(t,r){var o=new n(r,a,0),s=e.alloc(t.length);return o.encrypt(s,t),s}}).call(this,n(21).Buffer)},307:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(134),r=n(42),o=n(25),s=n(306),i=n(35),c=function(){function t(e,t,n){this.asset=a.newAsset(e),this.memo=o.toBuffer(t),this.ar=r.newFR(n)}return t.prototype.isValid=function(){return!!this.asset.isValid()&&!this.ar.isZero()},t.prototype.toBuffer=function(){return e.concat([this.asset.toBuffer(),this.memo,this.ar.toBuffer()])},t.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},t}();function l(e){if(e instanceof c)return e;var t=o.toBuffer(e);i(224==t.length);var n=0,s=128,l=a.newAsset(t.slice(n,n+s));n+=s,s=64;var u=t.slice(n,n+s);n+=s,s=32;var f=r.newFR(t.slice(n,n+s));return new c(l,u,f)}t.Info=c,t.newInfo=l,t.encInfo=function(e,t){e=o.toBuffer(e);var n=(t=l(t)).toBuffer();return s.default(n,e)},t.decEInfo=function(e,t){return e=o.toBuffer(e),t=o.toBuffer(t),l(s.default(t,e))}}).call(this,n(21).Buffer)},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(216),r=n(213),o=n(305),s=n(113),i=n(159),c=n(196),l=n(113),u=n(42),f=n(215),d=n(25);t.seed2Sk=function(e,t){return e=d.toBuffer(e),1===t?a.seed2SK(e).toString():2===t?r.seed2SK(e).toString():""},t.sk2Tk=function(e){return e=d.toBuffer(e).slice(0,64),l.IsFlagSet(e)?r.sk2TK(e).toString():a.sk2TK(e).toString()},t.tk2PK=function(e){return e=d.toBuffer(e),l.IsFlagSet(e)?s.tk2PK(e).toString():o.tk2PK(e).toString()},t.PK2PKr=function(e,t){return e=d.toBuffer(e),t=u.newFR(t),l.IsFlagSet(e)?c.pk2PKr(e,t).toString():i.pk2PKr(e,t).toString()},t.isMyPKr=function(e,t){try{return e=d.toBuffer(e),t=d.toBuffer(t),l.IsFlagSet(e)&&l.IsFlagSet(t)?c.isMyPKr(e,t):!l.IsFlagSet(e)&&!l.IsFlagSet(t)&&f.isMyPKr(e,t)}catch(n){return!1}},t.isPKrValid=function(e){try{return e=d.toBuffer(e),l.IsFlagSet(e)?c.isPKrValid(e):i.isPKrValid(e)}catch(t){return!1}}},321:function(e,t,n){"use strict";(function(e){var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(96),s=n(25),i=function(){function e(e){this.Contract=void 0,this.Contract=e.Contract}return e.prototype.OutAsset=function(){return this.Contract?this.Contract.Asset:null},e}(),c=function(){function e(){this.state=new Map}return e.prototype.add=function(e,t){var n=this.state.get(e);void 0!==n?this.state.set(e,n.add(t)):this.state.set(e,t)},e.prototype.sub=function(e,t){var n=this.state.get(e);void 0!==n?this.state.set(e,n.sub(t)):this.state.set(e,new o(0).sub(t))},e}(),l=function(){function e(e,t){this.outPlus=e,this.cy=new c,e?this.cy.add(t.Currency,s.default.toBN(t.Value)):this.cy.sub(t.Currency,s.default.toBN(t.Value)),this.tk=new Map}return e.prototype.AddOut=function(e){if(e.Tkn&&(this.outPlus?this.cy.add(e.Tkn.Currency,s.default.toBN(e.Tkn.Value)):this.cy.sub(e.Tkn.Currency,s.default.toBN(e.Tkn.Value))),e.Tkt&&s.default.isNotNull(e.Tkt.Value)&&s.default.toBN(e.Tkt.Value).cmp(new o(9))>0)if(this.tk.has(e.Tkt.Value)){if(this.outPlus)throw new Error('"out tkt duplicate: '+e.Tkt.Value);this.tk.delete(e.Tkt.Value)}else{if(!this.outPlus)throw new Error("out tkt not in ins:"+e.Tkt.Value);this.tk.set(e.Tkt.Value,e.Tkt.Category)}},e.prototype.AddIn=function(e){if(e.Tkn&&(this.outPlus?this.cy.sub(e.Tkn.Currency,s.default.toBN(e.Tkn.Value)):this.cy.add(e.Tkn.Currency,s.default.toBN(e.Tkn.Value))),e.Tkt&&s.default.isNotNull(e.Tkt.Value)&&s.default.toBN(e.Tkt.Value).cmp(new o(9))>0)if(this.tk.has(e.Tkt.Value)){if(!this.outPlus)throw new Error('"in tkt duplicate: '+e.Tkt.Value);this.tk.delete(e.Tkt.Value)}else{if(this.outPlus)throw new Error("out tkt duplicate:"+e.Tkt.Value);this.tk.set(e.Tkt.Value,e.Tkt.Category)}},e.prototype.GetTknList=function(){var e=new Array;return this.cy.state.forEach((function(t,n){t.isZero()||e.push({Currency:n,Value:t.toString(10)})})),e},e.prototype.GetTktList=function(){var e=new Array;return this.tk.forEach((function(t,n){e.push({Category:n,Value:t})})),e},e.prototype.CheckToken=function(){this.cy.state.forEach((function(e,t){if(!e.isZero())throw new Error("currency "+t+" banlance != 0")}))},e.prototype.CheckTicket=function(){if(this.tk.size>0)return new Error("ticket not used")},e}();t.selectUtxos=function(e,t){return a(this,void 0,void 0,(function(){var n,a,o,c,u,f,d,m,h;return r(this,(function(r){switch(r.label){case 0:return n=new l(!0,e.Fee),null!==e.Cmds&&null!==(a=new i(e.Cmds).OutAsset())&&n.AddOut(a),e.Receptions.forEach((function(e){n.AddOut(e.Asset)})),o=new Array,n.tk.size>0?[4,t.findRootsByTicket(e.From,n.tk)]:[3,2];case 1:if(!(c=r.sent())||0!=c.remain.size)throw new Error("no enough unlocked utxos");o.push.apply(o,c.utxos),c.utxos.forEach((function(e){n.AddIn(e.Asset)})),r.label=2;case 2:u=n.cy.state.entries(),r.label=3;case 3:return(f=u.next()).done?[3,5]:(d=f.value[0],m=f.value[1],console.log("ck.cy.value>>>> ",d,m),[4,t.findRoots(e.From,s.default.hexToCy(d),m)]);case 4:if(h=r.sent(),console.log("result >>>> ",h),!h||!h.remain.isNeg()&&!h.remain.isZero())throw new Error("no enough unlocked utxos");return o.push.apply(o,h.utxos),[3,3];case 5:return[2,new Promise((function(e){e(o)}))]}}))}))},t.buildTxParam=function(t,n){return a(this,void 0,void 0,(function(){var a,o,c,u,f,d,m,h,p,g,y,v,k;return r(this,(function(r){switch(r.label){case 0:return a=new Array,n.Utxos.forEach((function(e){a.push(e.Root)})),[4,t.getAnchor(a)];case 1:if(null===(o=r.sent()))throw new Error("can not find Anchor by root");if(c=new Array,u=0,f=new l(!1,n.Fee),n.Utxos.forEach((function(t,n){if(null===t.State)throw new Error("can not find out by root");f.AddIn(t.Asset),c.push({SKr:s.toString(e.alloc(96)),Out:{Root:t.Root,State:t.State},Witness:o[n]}),s.default.isNotNull(t.State.OS.Out_O)&&u++})),u>2500)throw new Error("o_ins count > 2500");for(d=new Array,n.Receptions.forEach((function(t){f.AddOut(t.Asset),d.push({PKr:s.toHex(t.Addr),Asset:t.Asset,Memo:s.toString(e.alloc(64))})})),null!==n.Cmds&&null!==(m=new i(n.Cmds).OutAsset())&&f.AddOut(m),h=f.GetTknList(),p=f.GetTktList(),g=Math.max(h.length,p.length),y=0;y<g;y++)v={},y<h.length&&(v.Tkn=h[y]),y<p.length&&(v.Tkt=p[y]),f.AddOut(v),d.push({PKr:s.toHex(n.RefundTo),Asset:v,Memo:s.toString(e.alloc(64))});return f.CheckTicket(),f.CheckToken(),(k={Fee:n.Fee,GasPrice:s.default.toBN(n.GasPrice).toNumber(),From:{PKr:s.toHex(n.RefundTo)}}).Ins=c,k.Outs=d,null!==n.Cmds&&(k.Cmds={},k.Cmds.Contract=n.Cmds.Contract),k.Gas=t.getSeroGasLimit("",k.Fee,s.default.toBN(n.GasPrice)),k.Z=!1,[2,new Promise((function(e){e(k)}))]}}))}))}}).call(this,n(21).Buffer)},342:function(e,t,n){},354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(580),r=n(582),o=function(){function e(){this.callbackHandler=new Map,this.messageId=0;var e=this;a.assetsWorker.onmessage=function(t){var n=t.data,a=e.callbackHandler.get(n.messageId);e.callbackHandler.delete(n.messageId),a&&"function"===typeof a&&a(n)}}return e.prototype.init=function(e,t,n){var a={rpc:e,syncTime:t},o={method:r.Method.Init,data:a};this.handlerMsg(o,n)},e.prototype.initAccount=function(e,t){var n={method:r.Method.InitAccount,data:e};this.handlerMsg(n,t)},e.prototype.balanceOf=function(e,t){var n={method:r.Method.BalanceOf,data:e};this.handlerMsg(n,t)},e.prototype.getTxList=function(e,t){var n={method:r.Method.GetTxList,data:e};this.handlerMsg(n,t)},e.prototype.getTxDetail=function(e,t,n){var a={method:r.Method.GetTxDetail,data:{tk:e,hash:t}};this.handlerMsg(a,n)},e.prototype.getPKrIndex=function(e,t){var n={method:r.Method.GetPKrIndex,data:e};this.handlerMsg(n,t)},e.prototype.commitTx=function(e,t){var n={method:r.Method.CommitTx,data:e};console.log("commitTx message",n),this.handlerMsg(n,t)},e.prototype.getSeroPrice=function(e,t){var n={method:r.Method.GetPrice,data:e};this.handlerMsg(n,t)},e.prototype.clearData=function(e){var t={method:r.Method.ClearData,data:null};this.handlerMsg(t,e)},e.prototype.getSyncState=function(e){var t={method:r.Method.HealthyCheck,data:null};this.handlerMsg(t,e)},e.prototype.handlerMsg=function(e,t){if(t){var n=this.messageId++;e.messageId=n,a.assetsWorker.postMessage(e),this.callbackHandler.set(n,t)}},e}();t.PopupService=o},369:function(e,t,n){e.exports=n(835)},42:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),r=n(197),o=n(25),s=n(198),i=function(){function t(e){if(e instanceof t)this.n=e.n;else if(e instanceof a){var n=e;n.red?this.n=n:this.n=n.toRed(t.red)}else this.n=new a(e,"le").toRed(t.red)}return t.toFQ=function(e){return e instanceof t?e:new t(e)},t.prototype.add=function(e){return new t(this.n.redAdd(t.toFQ(e).n))},t.prototype.mul=function(e){return new t(this.n.redMul(t.toFQ(e).n))},t.prototype.sub=function(e){return new t(this.n.redSub(t.toFQ(e).n))},t.prototype.div=function(e){return new t(this.n.redMul(t.toFQ(e).n.redInvm()))},t.prototype.squared=function(){return new t(this.n.redSqr())},t.prototype.sqrt=function(){try{var e=this.n.redSqrt();return e?new t(e):void 0}catch(n){return}},t.prototype.pow=function(e){return new t(this.n.redPow(new a(e)))},t.prototype.nega=function(){return new t(this.n.redNeg())},t.prototype.inverse=function(){return new t(this.n.redInvm())},t.prototype.isOdd=function(){return this.n.fromRed().isOdd()},t.prototype.isZero=function(){return this.n.fromRed().isZero()},t.prototype.toBuffer=function(){return this.n.fromRed().toArrayLike(e,"le",32)},t.prototype.toBN=function(){return this.n.fromRed()},t.prototype.equal=function(e){return this.n.eq(e.n)},t.prototype.toString=function(e){return this.n.fromRed().toString(e)},t.red=a.mont(r.default.FQ_MODULUS),t.ONE=new t(1),t.ZERO=new t(0),t}();t.FQ=i;var c=function(){function t(e){if(e instanceof t)this.n=e.n;else if(e instanceof a){var n=e;n.red?this.n=n:this.n=n.toRed(t.red)}else this.n="number"===typeof e?new a(e).toRed(t.red):new a(e,"le").toRed(t.red)}return t.toFR=function(e){return e instanceof t?e:new t(e)},t.prototype.add=function(e){return new t(this.n.redAdd(t.toFR(e).n))},t.prototype.mul=function(e){return new t(this.n.redMul(t.toFR(e).n))},t.prototype.sub=function(e){return new t(this.n.redSub(t.toFR(e).n))},t.prototype.div=function(e){return new t(this.n.redMul(t.toFR(e).n.redInvm()))},t.prototype.squared=function(){return new t(this.n.redSqr())},t.prototype.sqrt=function(){try{var e=this.n.redSqrt();return e?new t(e):void 0}catch(n){return}},t.prototype.pow=function(e){return new t(this.n.redPow(new a(e)))},t.prototype.nega=function(){return new t(this.n.redNeg())},t.prototype.inverse=function(){return new t(this.n.redInvm())},t.prototype.isOdd=function(){return this.n.fromRed().isOdd()},t.prototype.isZero=function(){return this.n.fromRed().isZero()},t.prototype.toBuffer=function(){return this.n.fromRed().toArrayLike(e,"le",32)},t.prototype.toBN=function(){return this.n.fromRed()},t.prototype.equal=function(e){return this.n.eq(e.n)},t.prototype.toString=function(e){return this.n.fromRed().toString(e)},t.red=a.mont(r.default.FR_MODULUS),t.ONE=new t(1),t.ZERO=new t(0),t}();function l(e){if(e instanceof c)return e;var t=o.toBuffer(e);return new c(t)}t.FR=c,t.newFR=l,t.randomFR=function(){return l(s.randomBytes(32))}}).call(this,n(21).Buffer)},436:function(e,t,n){e.exports=n.p+"static/js/0.5b06a687.chunk.worker.js"},439:function(e,t){},44:function(e,t,n){e.exports=n.p+"static/media/sero.ef3f4514.png"},455:function(e,t){},457:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(10),r=n(11),o=n(1),s=n(18),i=n.n(s),c=n(234),l=n.n(c),u=n(80).cutZero,f=new(function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"get",value:function(e){var t=18;if("SERO"===e);else if(!(t=o.storage.get(o.keys.decimalsKey(e)))){var n=new l.a(o.config.host.rpc).send({id:0,jsonrpc:"2.0",method:"sero_getDecimal",params:[e]});if(n.error)throw new Error(n.error.message);t=parseInt(n.result),o.storage.set(o.keys.decimalsKey(e),t)}return t}},{key:"convert",value:function(e,t,n){var a=0;try{a=this.get(t)}catch(r){console.log(r.message)}return n||(n=a),u(new i.a(e).dividedBy(new i.a(10).pow(new i.a(a))).toFixed(a))}},{key:"mul",value:function(e,t,n){var a=this.get(t);return n||0===n||(n=a),u(new i.a(e).multipliedBy(new i.a(10).pow(new i.a(a))).toFixed(a))}}]),e}())},492:function(e,t){},493:function(e,t){},538:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(539),o=n(42),s=n(35),i=new o.FR(8);function c(e,t){var n=r.blake2s(e,t);n[31]&=159;var o=a.Point.bufferTo(n);return o&&!o.isZero()&&o.isValid()?o.mult(i):void 0}t.findPoint=function(t,n){s(t.length<=8&&64==n.length);for(var a=e.from(n),r=0;r<256;r++){a[63]=r;var o=c(t,a);if(o)return o}}}).call(this,n(21).Buffer)},539:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(540);t.blake2s=function(t,n){var r=e.alloc(8,0);r.fill(t,0,t.length);var o=new a(32,{salt:e.alloc(8,0),personalization:r}).update(n).digest();return e.from(o)}}).call(this,n(21).Buffer)},541:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(542),r=n(303),o=n(25),s=n(159),i=n(35),c=n(134),l=n(42);t.genOutCm=function(t,n,u,f){if(t=c.newAsset(t),n=o.toBuffer(n),u=l.newFR(u),f=s.newPKr(f),i(64==n.length),t.isValid()&&f.isValid()){var d=a.genAssetCurrency(t.tkn_currency).mult(t.tkn_value);o.default.isEmptyBuffer(t.tkt_value,32)||(d=d.add(a.genAssetTkt(t.tkt_category,t.tkt_value)));var m=e.concat([d.toBuffer(),n,f.VPK.toBuffer(),f.BASE.toBuffer(),u.toBuffer()]);return i(192==m.length,"blob.length != 192,"),a.outCmBase.mult(new r.BitBuffer(m))}}}).call(this,n(21).Buffer)},542:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(301),r=n(302),o=n(88),s=n(25),i=n(35);t.outCmBase=new a.Group("$SROOUTCMGEN",8,192,4),t.genAssetTkt=function(t,n){t=s.toBuffer(t),n=s.toBuffer(n),i(32==t.length),i(32==n.length);var a=e.concat([t,n]),c=r.findPoint("$SROASSETTK",o.blake2b("$SROASSETTK.H",a));if(!c)throw new Error("find point error");return c},t.genAssetCurrency=function(e){e=s.toBuffer(e),i(32==e.length);var t=r.findPoint("$SROASSETCY",e);if(!t)throw new Error("find point error");return t}}).call(this,n(21).Buffer)},543:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(134),r=n(42),o=n(306),s=n(25),i=n(35),c=function(){function t(e,t,n){this.asset=a.newAsset(e),this.rsk=r.newFR(t),this.memo=s.toBuffer(n)}return t.prototype.isValid=function(){return!!this.asset.isValid()&&!this.rsk.isZero()},t.prototype.toBuffer=function(){return e.concat([this.asset.toBuffer(),this.rsk.toBuffer(),this.memo])},t.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},t}();function l(t){if(t instanceof c)return t;var n=s.toBuffer(t);return i(224==n.length),new c(a.newAsset(n.slice(0,128)),new r.FR(n.slice(128,160)),e.from(n.slice(160,224)))}t.Info=c,t.newInfo=l,t.encInfo=function(e,t){e=s.toBuffer(e),t=l(t),i(32==e.length);var n=t.toBuffer();return o.default(n,e)},t.decEInfo=function(e,t,n){return i(n,"flag must true"),e=s.toBuffer(e),t=s.toBuffer(t),i(224==e.length),i(32==t.length),l(o.default(e,t))}}).call(this,n(21).Buffer)},577:function(e,t){},580:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=new Worker(e,{});t.assetsWorker=n}).call(this,n(581))},581:function(e,t,n){e.exports=n.p+"static/js/1.59b2384e.chunk.worker.js"},582:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Init="init",e.BalanceOf="balanceOf",e.HealthyCheck="healthyCheck",e.InitAccount="initAccount",e.ClearData="clearData",e.FindUtxos="findUtxos",e.TicketsOf="ticketsOf",e.GetTxList="getTxList",e.GetTxDetail="getTxDetail",e.GetPKrIndex="getPKrIndex",e.CommitTx="commitTx",e.GetPrice="getPrice"}(t.Method||(t.Method={}))},598:function(e,t,n){},60:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(42),r=n(197),o=n(35),s=n(25),i=function(){function t(e,t){this.x=new a.FQ(e),this.y=new a.FQ(t)}return t.prototype.isValid=function(){var e=this.x.mul(this.x),n=this.y.mul(this.y),r=t.ECC_A.mul(e).add(n),o=a.FQ.ONE.add(t.ECC_D.mul(e).mul(n));return r.equal(o)},t.prototype.isZero=function(){return this.x.equal(a.FQ.ZERO)&&this.y.equal(a.FQ.ONE)},t.prototype.isEqualTo=function(e){return!(!this.x.equal(e.x)||!this.y.equal(e.y))},t.prototype.toBuffer=function(){var e=this.y.toBuffer();return this.x.isOdd()&&(e[31]|=128),e},t.prototype.toPoint=function(){return new c(this.x,this.y,a.FQ.ONE)},t.prototype.toString=function(e){return"OriPoint[ x: "+this.x.toString(e)+", y : "+this.y.toString(e)+"]"},t.bufferTo=function(n){var r=s.toBuffer(n);o(32==r.length);var i=r[31]>>7&1,c=e.from(r);c[31]&=-129;var l=new a.FQ(c),u=l.mul(l),f=t.ECC_D.mul(u),d=u.sub(a.FQ.ONE).mul(f.sub(t.ECC_A).inverse()).sqrt();if(d){var m=d;return d.isOdd()!==(0!=i)&&(m=a.FQ.ZERO.sub(d)),new t(m,l)}},t.ECC_A=new a.FQ(r.default.ECC_A),t.ECC_D=new a.FQ(r.default.ECC_D),t.ZERO=new t(a.FQ.ZERO,a.FQ.ONE),t}(),c=function(){function e(e,t,n){this.x=new a.FQ(e),this.y=new a.FQ(t),this.z=new a.FQ(n)}return e.prototype.toOriPoint=function(){var e=this.z.inverse();return new i(this.x.mul(e),this.y.mul(e))},e.prototype.add=function(t){var n=this.x,r=this.y,o=this.z,s=t.x,c=t.y,l=t.z,u=n.mul(s),f=r.mul(c),d=i.ECC_D.mul(u).mul(f);if(o.equal(a.FQ.ONE)&&l.equal(a.FQ.ONE))return new e(a.FQ.ONE.sub(d).mul(n.add(r).mul(s.add(c)).sub(u).sub(f)),a.FQ.ONE.add(d).mul(f.sub(i.ECC_A.mul(u))),a.FQ.ONE.sub(d.squared()));if(l.equal(a.FQ.ONE)){var m=(p=o.squared()).sub(d),h=p.add(d);return new e(o.mul(m).mul(n.add(r).mul(s.add(c)).sub(u).sub(f)),o.mul(h).mul(f.sub(i.ECC_A.mul(u))),m.mul(h))}var p,g=o.mul(l);m=(p=g.squared()).sub(d),h=p.add(d);return new e(g.mul(m).mul(n.add(r).mul(s.add(c)).sub(u).sub(f)),g.mul(h).mul(f.sub(i.ECC_A.mul(u))),m.mul(h))},e.prototype.double=function(){var t=this.x.add(this.y).squared(),n=this.x.squared(),r=this.y.squared(),o=i.ECC_A.mul(n),s=o.add(r);if(this.z.equal(a.FQ.ONE))return new e(t.sub(n).sub(r).mul(s.sub(2)),s.mul(o.sub(r)),s.squared().sub(s.mul(2)));var c=this.z.squared(),l=s.sub(c.mul(2));return new e(t.sub(n).sub(r).mul(l),s.mul(o.sub(r)),s.mul(l))},e.prototype.mult=function(t){for(var n=t.toBN(),a=this,r=e.ZERO;!n.isZero()&&(n.testn(0)&&(r=r.add(a)),!(n=n.shrn(1)).isZero());)a=a.double();return r},e.prototype.isValid=function(){var e=this.x.mul(this.x),t=this.y.mul(this.y),n=this.z.mul(this.z),a=i.ECC_A.mul(e),r=n.mul(n),o=i.ECC_D.mul(e).mul(t),s=n.mul(a.add(t)),c=r.add(o);return!!s.equal(c)},e.prototype.isEqualTo=function(e){return!(!this.x.mul(e.z).equal(this.z.mul(e.x))||!this.y.mul(e.z).equal(this.z.mul(e.y)))},e.prototype.isZero=function(){return this.isEqualTo(i.ZERO.toPoint())},e.prototype.toBuffer=function(){return this.toOriPoint().toBuffer()},e.prototype.toHex=function(){return this.toBuffer().reverse().toString("hex")},e.prototype.toString=function(){return"0x"+this.toBuffer().toString("hex")},e.bufferTo=function(e){var t=i.bufferTo(e);return t?t.toPoint():void 0},e.ZERO=new e(new a.FQ(0),new a.FQ(1),new a.FQ(1)),e}();t.Point=c,t.newPoint=function(e){return e instanceof c?e:c.bufferTo(e)}}).call(this,n(21).Buffer)},619:function(e,t,n){},744:function(e,t,n){},756:function(e,t,n){},761:function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{c(a.next(e))}catch(t){o(t)}}function i(e){try{c(a.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((a=a.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(321),s=n(25),i=n(762);t.genTxParam=function(e,t,n){return a(this,void 0,void 0,(function(){var a,i;return r(this,(function(r){switch(r.label){case 0:if(s.default.isNotNull(e.Receptions)&&e.Receptions.length>500)throw new Error("receptions count must <= 500");return[4,o.selectUtxos(e,t)];case 1:if(a=r.sent(),!s.default.isNotNull(e.RefundTo)&&(e.RefundTo=t.defaultRefundTo(e.From),!s.default.isNotNull(e.RefundTo)))throw new Error("can not find default refund to");return i={Fee:e.Fee,GasPrice:e.GasPrice,Utxos:a,RefundTo:e.RefundTo,Receptions:e.Receptions,Cmds:e.Cmds},[2,o.buildTxParam(n,i)]}}))}))},t.signTx=function(e,t){return e="0x"+s.default.padRight(e,192,"0"),t.From.SKr=e,t.Ins.forEach((function(t){t.SKr=e})),i.SignTx(t)}},762:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(196),r=n(113),o=n(215),s=n(25),i=n(25),c=n(763),l=n(134),u=n(259),f=n(307),d=n(42),m=n(96),h=n(320),p=n(319),g=n(764),y=function(){this.hash=e.alloc(32),this.param=new c.Params},v=function(t){this.p0_ins=new Array,this.p_ins=new Array,this.c_ins=new Array,this.c_outs=new Array,this.p_outs=new Array,this.keys=new Array,this.balance_desc=new y,this.s={Desc_O:{},Desc_Z:{},Desc_Pkg:{},Desc_Cmd:{},Tx1:{Ins_P:new Array,Ins_P0:new Array,Ins_C:new Array,Outs_C:new Array,Outs_P:new Array},Bcr:s.toHex(e.alloc(32,0)),Bsign:s.toHex(e.alloc(64,0))},this.param=t};function k(t){var n=e.alloc(32,0),a=e.alloc(32,0),r=e.alloc(32,0),o=e.alloc(32,0);return t.Tkn&&(t.Tkn.Currency&&(n=t.Tkn.Currency),t.Tkn.Value&&(a=s.default.toBN(t.Tkn.Value).toArrayLike(e,"le",32))),t.Tkt&&(t.Tkt.Category&&(r=t.Tkt.Category),t.Tkt.Value&&(o=t.Tkt.Value)),new l.Asset(n,a,r,o)}function E(t){var n=[i.toBuffer(t.Ehash),i.toBuffer(t.From),b(t.Fee)];return n.push(function(t){var n=new Array;t.Ins&&t.Ins.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Anchor),i.toBuffer(t.Nil),i.toBuffer(t.Trace),i.toBuffer(t.AssetCM),i.toBuffer(p(t.Proof))]))}(t))}));t.Outs&&t.Outs.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.AssetCM),i.toBuffer(t.OutCM),i.toBuffer(t.EInfo),i.toBuffer(t.PKr),i.toBuffer(p(t.Proof))]))}(t))}));return p(e.concat(n))}(t.Desc_Z)),n.push(function(t){var n=new Array;t.Ins&&t.Ins.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Root),i.toBuffer(t.Nil),i.toBuffer(t.Sign)]))}(t))}));t.Outs&&t.Outs.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Addr),x(t.Asset),i.toBuffer(t.Memo)]))}(t))}));return p(e.concat(n))}(t.Desc_O)),t.Tx1.Ins_P.length+t.Tx1.Ins_P0.length+t.Tx1.Ins_C.length+t.Tx1.Outs_C.length+t.Tx1.Outs_P.length>0&&n.push(w(t.Tx1)),n.push(S(t.Desc_Pkg)),n.push(i.toBuffer(t.Sign)),n.push(i.toBuffer(t.Bcr)),n.push(i.toBuffer(t.Bsign)),t.Desc_Cmd.Contract&&n.push(P(t.Desc_Cmd)),p(e.concat(n))}function w(t){var n=new Array;return t.Ins_P0&&t.Ins_P0.forEach((function(t){n.push(function(t){var n=[i.toBuffer(t.Root),i.toBuffer(t.Nil),i.toBuffer(t.Trace)];t.Key&&n.push(i.toBuffer(t.Key));return n.push(i.toBuffer(t.Sign)),p(e.concat(n))}(t))})),t.Ins_P&&t.Ins_P.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Root),i.toBuffer(t.Nil),t.Key?i.toBuffer(t.Key):e.alloc(0),i.toBuffer(t.NSign),i.toBuffer(t.ASign)]))}(t))})),t.Ins_C&&t.Ins_C.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Anchor),i.toBuffer(t.Nil),i.toBuffer(t.AssetCM),i.toBuffer(t.ZPKa),i.toBuffer(t.Sign),i.toBuffer(t.Proof)]))}(t))})),t.Outs_C&&t.Outs_C.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.PKr),i.toBuffer(t.AssetCM),i.toBuffer(t.RPK),i.toBuffer(t.EInfo),i.toBuffer(t.Proof)]))}(t))})),t.Outs_P&&t.Outs_P.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.PKr),x(t.Asset),i.toBuffer(t.Memo)]))}(t))})),p(e.concat(n))}function b(t){return p(e.concat([i.toBuffer(t.Currency),new m(t.Value).toArrayLike(e,"le",32)]))}function x(t){var n,a=[];return t.Tkn&&a.push(b(t.Tkn)),t.Tkt&&a.push((n=t.Tkt,p(e.concat([i.toBuffer(n.Category),i.toBuffer(n.Value)])))),p(e.concat(a))}function P(t){var n=[];return t&&t.Contract&&n.push(function(t){var n=[x(t.Asset)];return t.To&&n.push(i.toBuffer(t.To)),n.push(i.toBuffer(t.Data)),p(e.concat(n))}(t.Contract)),p(e.concat(n))}function S(e){return p()}function O(t){var n=new Array;return t.Ins_P0&&t.Ins_P0.forEach((function(t){n.push(function(t){var n=[i.toBuffer(t.Root),i.toBuffer(t.Nil),i.toBuffer(t.Trace)];return t.Key&&n.push(i.toBuffer(t.Key)),p(e.concat(n))}(t))})),t.Ins_P&&t.Ins_P.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Root),i.toBuffer(t.Nil),t.Key?i.toBuffer(t.Key):e.alloc(0)]))}(t))})),t.Ins_C&&t.Ins_C.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.Anchor),i.toBuffer(t.Nil),i.toBuffer(t.AssetCM),i.toBuffer(t.ZPKa)]))}(t))})),t.Outs_C&&t.Outs_C.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.PKr),i.toBuffer(t.AssetCM),i.toBuffer(t.RPK),i.toBuffer(t.EInfo)]))}(t))})),t.Outs_P&&t.Outs_P.forEach((function(t){n.push(function(t){return p(e.concat([i.toBuffer(t.PKr),x(t.Asset),i.toBuffer(t.Memo)]))}(t))})),p(e.concat(n))}function T(t){return p(e.concat([(n=t,p(e.concat([i.toBuffer(n.Ehash),i.toBuffer(n.From),b(n.Fee)]))),P(t.Desc_Cmd),S(t.Desc_Pkg),O(t.Tx1)]));var n}t.SignTx=function(t){!function(e){var t=e.From.SKr;if(!t)throw new Error("sk is undifined!");if(n=h.sk2Tk(t),a=e.From.PKr,!h.isMyPKr(n,a))throw new Error("sk unmatch pkr for the From field");var n,a;e.Ins.forEach((function(e){var t=h.sk2Tk(e.SKr);if(e.Out.State.OS.Out_O){if(!h.isMyPKr(t,e.Out.State.OS.Out_O.Addr))throw new Error("sk unmatch pkr for the From field")}else if(e.Out.State.OS.Out_Z){if(!h.isMyPKr(t,e.Out.State.OS.Out_Z.PKr))throw new Error("sk unmatch pkr for the From field")}else if(e.Out.State.OS.Out_P){if(!h.isMyPKr(t,e.Out.State.OS.Out_P.PKr))throw new Error("sk unmatch pkr for the From field")}else if(e.Out.State.OS.Out_C&&!h.isMyPKr(t,e.Out.State.OS.Out_C.PKr))throw new Error("sk unmatch pkr for the From field")}))}(t);var n,m=new v(t);return function(e){e.param.Ins.forEach((function(t){t.Out.State.OS.Out_O?e.p0_ins.push(t):t.Out.State.OS.Out_Z?e.p0_ins.push(t):t.Out.State.OS.Out_P?e.p_ins.push(t):t.Out.State.OS.Out_C&&(e.param.Z?e.c_ins.push(t):e.p_ins.push(t))})),e.param.Outs.forEach((function(t){r.IsFlagSet(i.toBuffer(t.PKr))&&e.param.Z?e.c_outs.push(t):e.p_outs.push(t)})),e.s.Ehash=s.toHex(p(g.encode([e.param.GasPrice,e.param.Gas,new Uint8Array(0)])))}(m),function(e){e.s.From=e.param.From.PKr}(m),function(t){t.s.Fee=t.param.Fee;var n=l.genAssetCC((a=t.s.Fee,new l.Asset(a.Currency,s.default.toBN(a.Value).toArrayLike(e,"le",32),e.alloc(32,0),e.alloc(32,0))));var a;t.balance_desc.param.oout_accs.push(n)}(m),function(e){var t;void 0!==e.param.Cmds&&e.param.Cmds.Contract&&(e.s.Desc_Cmd.Contract=e.param.Cmds.Contract,t=e.param.Cmds.Contract.Asset);if(t){var n=l.genAssetCC(k(t));e.balance_desc.param.oout_accs.push(n)}}(m),(n=m).p0_ins&&(n.s.Tx1.Ins_P0||(n.s.Tx1.Ins_P0=new Array),n.p0_ins.forEach((function(e){var t=e.SKr,a=h.sk2Tk(t),r={Root:e.Out.Root};if(r.Trace=i.toString(o.genTrace(a,e.Out.State.OS.RootCM)),r.Nil=i.toString(o.genNil(t,e.Out.State.OS.RootCM)),e.Out.State.OS.Out_O)n.balance_desc.param.oin_accs.push(l.genAssetCC(k(e.Out.State.OS.Out_O.Asset)));else{var s=e.Out.State.OS.Out_Z;r.Key=i.toString(o.fetchKey(a,s.RPK));var c=u.confirmOutZ(r.Key,s.EInfo,s.PKr,s.OutCM);if(!c)throw new Error("gen tx1 confirm outz error");n.balance_desc.param.oin_accs.push(l.genAssetCC(k(c.Asset)))}n.s.Tx1.Ins_P0.push(r)}))),function(e){e.p_ins.forEach((function(t){var n=t.SKr,r=h.sk2Tk(n),o={Root:t.Out.Root};if(t.Out.State.OS.Out_P){var s=t.Out.State.OS.Out_P;o.Nil=i.toString(a.genNil(r,t.Out.State.OS.RootCM,s.PKr)),e.balance_desc.param.oin_accs.push(l.genAssetCC(k(s.Asset)))}else{var c=t.Out.State.OS.Out_C;o.Nil=i.toString(a.genNil(r,t.Out.State.OS.RootCM,c.PKr));var f=t.Out.State.OS.Out_C;o.Key=i.toString(a.fetchRPKKey(f.PKr,r,f.RPK));var d=u.confirmOutC(o.Key,f.EInfo,f.AssetCM);if(!d)throw new Error("gen tx1 confirm outz error");e.balance_desc.param.oin_accs.push(l.genAssetCC(k(d.Asset)))}e.s.Tx1.Ins_P.push(o)}))}(m),function(t){t.c_ins.forEach((function(n){var r=n.SKr,o=h.sk2Tk(r),c={Proof:s.toHex(e.alloc(131,0))},u=n.Out.State.OS.Out_C;c.Nil=i.toString(a.genNil(o,n.Out.State.OS.RootCM,u.PKr));var m=a.fetchRPKKey(u.PKr,o,u.RPK);t.keys.push(i.toString(m));var p=f.decEInfo(m,u.EInfo);n.Ar=i.toString(d.randomFR()),c.AssetCM=i.toString(l.genAssetCM(p.asset,n.Ar)),n.A=i.toString(d.randomFR()),c.ZPKa=i.toString(a.genZPKa(u.PKr,n.A)),c.Anchor=n.Witness.Anchor,t.balance_desc.param.zin_acms.push(c.AssetCM),t.balance_desc.param.zin_ars.push(n.Ar),t.s.Tx1.Ins_C.push(c)}))}(m),function(t){t.c_outs.forEach((function(n){var r={Proof:s.toHex(e.alloc(131,0))},o=d.randomFR();n.Ar=i.toString(o);var c=k(n.Asset);r.AssetCM=i.toString(l.genAssetCM(c,n.Ar)),r.PKr=n.PKr;var u=a.genPKrKey(n.PKr,d.randomFR()),m=u.key,h=u.rpk;r.RPK=i.toString(h);var p=new f.Info(c,i.toBuffer(n.Memo),o);r.EInfo=i.toString(f.encInfo(m,p)),t.balance_desc.param.zout_acms.push(r.AssetCM),t.balance_desc.param.zout_ars.push(o),t.s.Tx1.Outs_C.push(r)}))}(m),function(e){e.p_outs.forEach((function(t){var n={PKr:t.PKr,Asset:t.Asset,Memo:t.Memo},a=i.toString(l.genAssetCC(k(t.Asset)));e.balance_desc.param.oout_accs.push(a),e.s.Tx1.Outs_P.push(n)}))}(m),function(e){if(e.balance_desc.hash=T(e.s),!e.param.From.SKr)throw new Error("skr is undefined");s.isNewVersion(i.toBuffer(e.s.From))?e.s.Sign=i.toString(a.signPKr(e.param.From.SKr,e.balance_desc.hash,e.s.From)):e.s.Sign=i.toString(o.signByPKr(e.param.From.SKr,e.balance_desc.hash,e.s.From));e.s.Tx1.Ins_P0&&e.s.Tx1.Ins_P0.forEach((function(t,n){var a,r=e.p0_ins[n];r.Out.State.OS.Out_O?a=r.Out.State.OS.Out_O.Addr:a=r.Out.State.OS.Out_Z.PKr;e.s.Tx1.Ins_P0[n].Sign=i.toString(o.signNil(e.balance_desc.hash,r.SKr,a,r.Out.State.OS.RootCM))}));e.s.Tx1.Ins_P&&e.s.Tx1.Ins_P.forEach((function(t,n){var r,o=e.p_ins[n];r=o.Out.State.OS.Out_C?o.Out.State.OS.Out_C.PKr:o.Out.State.OS.Out_P.PKr,e.s.Tx1.Ins_P[n].ASign=i.toString(a.signPKr(o.SKr,e.balance_desc.hash,r)),e.s.Tx1.Ins_P[n].NSign=i.toString(a.signNil(e.balance_desc.hash,h.sk2Tk(o.SKr),o.Out.State.OS.RootCM,r))}));e.s.Tx1.Ins_C&&e.s.Tx1.Ins_C.forEach((function(t,n){var r=e.c_ins[n],o=r.Out.State.OS.Out_C;e.s.Tx1.Ins_C[n].Sign=i.toString(a.signZPKa(e.balance_desc.hash,r.SKr,r.A,o.PKr))}));if(e.balance_desc.param.zin_acms.length>0||e.balance_desc.param.zout_acms.length>0){var t=c.signBalance(e.balance_desc.hash,e.balance_desc.param);t&&(e.s.Bcr=i.toString(t.bcr),e.s.Bsign=i.toString(t.bsign))}}(m),{Gas:s.toHex(t.Gas),GasPrice:"0x"+s.default.toBN(t.GasPrice).toString("hex"),Tx:m.s,Hash:s.toHex(E(m.s))}},t.ToHash=E,t.ToHash_Tx1=w,t.Tx1_Hash=T}).call(this,n(21).Buffer)},763:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(60),r=n(42),o=n(35),s=n(89),i=n(214),c=n(25),l=function(){this.zin_acms=new Array,this.zin_ars=new Array,this.zout_acms=new Array,this.zout_ars=new Array,this.oin_accs=new Array,this.oout_accs=new Array};t.Params=l,t.signBalance=function(e,t){o(32==e.length),o(t.zin_acms.length===t.zin_ars.length),o(t.zout_acms.length===t.zout_ars.length),e=c.toBuffer(e);for(var n=a.Point.ZERO,l=r.FR.ZERO,u=0;u<t.zin_ars.length;u++)n=n.add(a.newPoint(t.zin_acms[u])),l=l.add(r.newFR(t.zin_ars[u]));var f=a.Point.ZERO,d=r.FR.ZERO;for(u=0;u<t.zout_ars.length;u++)f=f.add(a.newPoint(t.zout_acms[u])),d=d.add(r.newFR(t.zout_ars[u]));var m=a.Point.ZERO;for(u=0;u<t.oin_accs.length;u++)m=m.add(a.newPoint(t.oin_accs[u]));var h=a.Point.ZERO;for(u=0;u<t.oout_accs.length;u++)h=h.add(a.newPoint(t.oout_accs[u]));var p=n.add(f.mult(r.FR.ONE.nega())),g=l.add(d.nega());if(!g.isZero()){var y=h.add(m.mult(r.FR.ONE.nega())),v=s.crBase.mult(g);if(y.add(v).isEqualTo(p)){var k=i.sign(e,g,s.crBase);if(k)return{bcr:v,bsign:k}}}},t.verifyBalance=function(e,t,n,l){o(32==e.length),o(64==t.length),e=c.toBuffer(e),t=c.toBuffer(t),l=a.newPoint(l);for(var u=a.Point.ZERO,f=0;f<n.zin_acms.length;f++)u=u.add(a.newPoint(n.zin_acms[f]));var d=a.Point.ZERO;for(f=0;f<n.zout_acms.length;f++)d=d.add(a.newPoint(n.zout_acms[f]));var m=a.Point.ZERO;for(f=0;f<n.oin_accs.length;f++)m=m.add(a.newPoint(n.oin_accs[f]));var h=a.Point.ZERO;for(f=0;f<n.oout_accs.length;f++)h=h.add(a.newPoint(n.oout_accs[f]));var p=u.add(d.mult(r.FR.ONE.nega()));return!!h.add(m.mult(r.FR.ONE.nega())).add(l).isEqualTo(p)&&i.verify(e,t,l,s.crBase)}},766:function(e,t){},80:function(e,t,n){"use strict";n.r(t),n.d(t,"sortTxMap",(function(){return h})),n.d(t,"genTxMap",(function(){return m})),n.d(t,"genTxInfo",(function(){return u})),n.d(t,"convertTx",(function(){return f})),n.d(t,"cutZero",(function(){return p}));var a=n(368),r=n(25),o=n.n(r),s=n(18),i=n.n(s),c=n(49),l=n(1);function u(e,t,n,a){var s=l.storage.get(a),u=l.storage.get(n);if(u&&s&&s.Asset&&s.Asset.Tkn){var f=o.a.hexToCy(s.Asset.Tkn.Currency),m=d(s),h=new i.a(u.GasUsed).multipliedBy(u.GasPrice).dividedBy(new i.a(10).pow(18)),p=c.a.convert(s.Asset.Tkn.Value,f);console.log(a,s.Asset.Tkn.Value,p),"out"===e&&(p=new i.a(p).multipliedBy(-1));var g=t.get(n+f);if(g){var y=g.value;g.value=new i.a(y).plus(new i.a(p))}else g={root:a,type:e,hash:n,block:u.Num,currency:f,value:new i.a(p),fee:h,gas:u.Gas,gasUsed:u.GasUsed,gasPrice:u.GasPrice,time:u.Time,from:u.From,to:Object(r.addrToString)(m),blockHash:u.BlockHash};g.from!==Object(r.addrToString)(m)&&(g.To=g.from),t.set(n+f,g)}}function f(e){-1===new i.a(e.value).comparedTo(0)&&(e.type="out",e.value=new i.a(e.value).plus(e.fee).toString(10)),e.fee=new i.a(e.fee).toFixed(8),e.value=new i.a(e.value).toFixed(8)}function d(e){var t="";return e.State.OS.Out_C?t=e.State.OS.Out_C.PKr:e.State.OS.Out_O?t=e.State.OS.Out_O.Addr:e.State.OS.Out_P?t=e.State.OS.Out_P.PKr:e.State.OS.Out_Z&&(t=e.State.OS.Out_Z.PKr),t}function m(e,t,n,a,r){var s=l.storage.get(e),c=l.storage.get(t);if(s&&s.Asset&&s.Asset.Tkn&&c){var u=o.a.hexToCy(s.Asset.Tkn.Currency);if(n&&n===u){var f=t+u,m=c.Num;if("0x0000000000000000000000000000000000000000000000000000000000000001"===t||"0x0000000000000000000000000000000000000000000000000000000000000002"===t||"0x0000000000000000000000000000000000000000000000000000000000000003"===t){var h=d(s);f=s.State.Num+h,m=s.State.Num}var p=a.get(f),g=new i.a(s.Asset.Tkn.Value);if("out"===r&&(g=new i.a(g).multipliedBy(-1)),p){var y=p.value;p.value=new i.a(y).plus(new i.a(g))}else p={root:e,type:r,hash:t,block:m,currency:u,value:new i.a(g),fee:new i.a(c.GasUsed?c.GasUsed:c.Gas).multipliedBy(c.GasPrice),gas:c.Gas,gasUsed:c.GasUsed,gasPrice:c.GasPrice,time:c.Time,blockHash:c.BlockHash};a.set(f,p)}}}function h(e){var t=new Map;return e.forEach((function(e,n,a){new i.a(e.value).isNegative()&&(e.type="out","SERO"===e.currency&&(e.value=new i.a(e.value).plus(e.fee))),e.value.isZero()||(e.value=c.a.convert(e.value,e.currency),t.set(n,e))})),new Map(Object(a.a)(t.entries()).sort((function(e,t){return e[1].block<t[1].block?1:e[1].block>t[1].block?-1:0})))}function p(e){if(e.indexOf(".")>-1&&"0"==e.charAt(e.length-1))for(var t=e.length-1;t>0;t--)if("0"!=e.charAt(t))return"."==e.charAt(t)?e.substring(0,t):e.substring(0,t+1);return e}},822:function(e,t,n){},834:function(e,t,n){},835:function(e,t,n){"use strict";n.r(t);n(370);var a=n(352),r=n.n(a),o=n(0),s=n.n(o),i=n(20),c=n.n(i),l=n(10),u=n(11),f=n(16),d=n(13),m=n(17),h=n(365),p=n(92),g=(n(41),n(14)),y=n.n(g),v=(n(194),n(58)),k=n.n(v),E=(n(33),n(22)),w=n.n(E),b=(n(423),n(241)),x=n.n(b),P=(n(52),n(31)),S=n.n(P),O=(n(39),n(15)),T=n.n(O),B=(n(86),n(32)),C=n.n(B),K=(n(30),n(12)),_=n.n(K),A=n(34),j=(n(51),n(19)),N=n.n(j),I=n(72),M=n.n(I),R=n(104),D=function(){function e(){Object(l.a)(this,e),this.avatars=["iconscientistavatar","icondog","iconsvg-","iconalienavatar","icontiger","iconavatar-","iconmonkey","iconmouse-","iconowl"]}return Object(u.a)(e,[{key:"ellipsisAddress",value:function(e){try{return e.substring(0,8)+"..."+e.substring(e.length-8)}catch(t){return e}}},{key:"ellipsisHash",value:function(e){try{return e.substring(0,8)+"..."+e.substring(e.length-8)}catch(t){return e}}},{key:"isBase58",value:function(e){try{return!0}catch(t){return!1}return!1}},{key:"getRandomAvatar",value:function(){var e=Math.floor(-8*Math.random()+8);return this.avatars[e]}},{key:"formatDate",value:function(e){}}]),e}(),F=D,z=new D,H=n(1),L=n(172),Z=new(function(){function e(){Object(l.a)(this,e),this.callbackHandler=new Map,this.messageId=0;var t=this;t.callbackHandler=new Map,t.messageId=0,L.webworker.onmessage=function(e){var n=e.data,a=t.callbackHandler.get(n.messageId);t.callbackHandler.delete(n.messageId),a&&"function"===typeof a&&a(n)}}return Object(u.a)(e,[{key:"importMnemonic",value:function(e,t){var n={method:"importMnemonic",data:e};this.handlerMsg(n,t)}},{key:"createAccount",value:function(e,t){var n={method:"createAccount",data:e};this.handlerMsg(n,t)}},{key:"exportMnemonic",value:function(e,t){var n={method:"exportMnemonic",data:e};this.handlerMsg(n,t)}},{key:"getSK",value:function(e,t){var n={method:"getSK",data:e};this.handlerMsg(n,t)}},{key:"handlerMsg",value:function(e,t){if(t){var n=this.messageId++;e.messageId=n,L.webworker.postMessage(e),this.callbackHandler.set(n,t)}}}]),e}()),V=n(81),q=function(){function e(t,n,a){Object(l.a)(this,e),this.db=a,this.prefix=t,this.headKey=this.genKey(n+":headkey"),this.tailKey=this.genKey(n+":tailKey")}return Object(u.a)(e,[{key:"genKey",value:function(e){return this.prefix+":"+e}},{key:"forEach",value:function(e){var t=this.db.get(this.tailKey);if(t)for(;;){var n=this.db.get(t);if(!n)return;if(e(n.value,t.substring(t.lastIndexOf(":")+1)))break;if(!n.prevKey)break;t=n.prevKey}}},{key:"insert",value:function(e,t){e=this.genKey(e);var n=this.db.get(e);if(n)return n.value=t,void this.db.set(e,n);n={value:t};var a=this.db.get(this.headKey);if(a){n.nextKey=a;var r=this.db.get(n.nextKey);r.prevKey=e,this.db.set(n.nextKey,r)}else this.db.set(this.tailKey,e);this.db.set(this.headKey,e),this.db.set(e,n)}},{key:"insertList",value:function(e){var t=this;e.forEach((function(e,n){t.insert(e.key,e.value)}))}},{key:"remove",value:function(e){e=this.genKey(e);var t=this._del(e);if(t){var n=this._get(t.prevKey),a=this._get(t.nextKey);return n?(n.nextKey=t.nextKey,this._set(t.prevKey,n)):this._set(this.headKey,t.nextKey),a?(a.prevKey=t.prevKey,this._set(t.nextKey,a)):this._set(this.tailKey,t.prevKey),t}console.log("remove error key:"+e)}},{key:"_get",value:function(e){if(e)return this.db.get(e)}},{key:"_set",value:function(e,t){e&&(t?this.db.set(e,t):this.db.delete(e))}},{key:"_del",value:function(e){if(e){var t=this.db.get(e);return this.db.delete(e),t}}},{key:"get",value:function(e){if(e){e=this.genKey(e);var t=this.db.get(e);return t?t.value:void 0}}}]),e}(),U=n(25),W=(n(836),n(37)),G=n(169),Q=n(1),$=Q.keys,J=Q.storage,Y=n(837).TxStore,X=n(172).webworker,ee=function(e){function t(e,n,a){var r;return Object(l.a)(this,t),(r=Object(f.a)(this,Object(d.a)(t).call(this,"TOKEN",e+":"+n,a))).pk=e,r.currency=n,r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"valueOf",value:function(){return"0"}},{key:"findRoots",value:function(e){var t=[];return this.forEach((function(n,a){var r=new W(n,10);return t.push(a),(e=e.sub(r)).isNeg()||e.isZero()})),{remain:e,roots:t}}},{key:"indexList",value:function(e){Object(V.a)(Object(d.a)(t.prototype),"insertList",this).call(this,e)}}]),t}(q),te=function(e){function t(e,n){return Object(l.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,"TICKET",e,n))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"indexList",value:function(e){Object(V.a)(Object(d.a)(t.prototype),"insertList",this).call(this,e)}}]),t}(q),ne=function(e){function t(e,n){return Object(l.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,"NIL",e,n))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"indexList",value:function(e){Object(V.a)(Object(d.a)(t.prototype),"insertList",this).call(this,e)}},{key:"remove",value:function(e){var n=Object(V.a)(Object(d.a)(t.prototype),"remove",this).call(this,e);if(n)return n.value}}]),t}(q),ae=function(e){function t(e,n,a){var r;return Object(l.a)(this,t),(r=Object(f.a)(this,Object(d.a)(t).call(this,n,"",a))).newInstance=e,r}return Object(m.a)(t,e),Object(u.a)(t,[{key:"has",value:function(e){return this.get(e)}},{key:"set",value:function(e,n){n.valueOf?Object(V.a)(Object(d.a)(t.prototype),"insert",this).call(this,e,n.valueOf()):Object(V.a)(Object(d.a)(t.prototype),"insert",this).call(this,e,n)}},{key:"forEach",value:function(e){var n=this;Object(V.a)(Object(d.a)(t.prototype),"forEach",this).call(this,(function(t,a){var r=n.newInstance(a,t);e(r,a)}))}},{key:"get",value:function(e){var n=Object(V.a)(Object(d.a)(t.prototype),"get",this).call(this,e);if("undefined"!==typeof n)return this.newInstance(e,n)}}]),t}(q),re=function(){function e(t,n,a,r){Object(l.a)(this,e),this.pk=t,this.tk=n,this.version=a,this.db=r,this.storages=new ae((function(e,n){return new ee(t,e,r)}),"M:"+this.pk,r),this.tickets=new te(this.pk,r),this.nils=new ne(this.pk,r);var o=this.db.get(this.pk+":startBlockNumber");o||(o=1),this.region={start:o}}return Object(u.a)(e,[{key:"valueOf",value:function(){return this.pk}},{key:"start",value:function(){this.fetchUtxos(),this.checkUsedUxtos()}},{key:"balancesOf",value:function(){var e=new Map;return this.storages.forEach((function(t,n,a){var r=new W;t.forEach((function(e,t){r.iadd(new W(e,10))})),e.set(n,r)})),e}},{key:"ticketsOf",value:function(){var e=new Map;return this.tickets.forEach((function(t,n){var a=t.substring(t.indexOf(":")+1),r=e.get(a);r||(r=[],e.set(a,r)),r.push(n)})),e}},{key:"getUtxoByNil",value:function(e){var t=this.nils.get(e);if(t){var n=t.split(":");return{root:n[0],utxo:this.db.get(n[0])}}}},{key:"getRootByNil",value:function(e){var t=this.nils.get(e);if(t)return t.split(":")[0]}},{key:"findUtxos",value:function(e,t){var n=this,a=this.storages.get(e);if(!a)return{utxos:[],remain:t};var r=a.findRoots(t),o=[];return r.roots.forEach((function(e,t){o.push(n.db.get(e))})),{utxos:o,remain:r.remain}}},{key:"indexUtxos",value:function(e){var t=this,n=e.blockData,a=n.utxos,r=n.txInfos,o=new Y(t.pk),s=!0,i=t.getIndex();if(a&&a.length>0){var c=[],l=new Map,u=[],f=G.createPkrHash(t.tk,i,t.version);a.forEach((function(e){t.db.set(e.Root,{Root:e.Root,Asset:e.Asset,State:e.State});var n="",a="";if(e.Asset.Tkn){n=Object(U.hexToCy)(e.Asset.Tkn.Currency);var r=l.get(n);r||(r=[],l.set(n,r)),r.push({key:e.Root,value:e.Asset.Tkn.Value})}e.Asset.Tkt&&(a=e.Asset.Tkt.Value,u.push({key:e.Asset.Tkt.Value,value:e.Root+":"+Object(U.hexToCy)(e.Asset.Tkt.Category)})),e.Nils.forEach((function(t,r){c.push({key:t,value:[e.Root,n,a].join(":")})})),o.store(e.TxHash,e.Root,"in"),f==e.Pkr&&(s=!1)})),l.forEach((function(e,n,a){var r=t.storages.get(n);r||(r=new ee(t.pk,n,t.db),t.storages.set(n,r)),r.indexList(e)})),t.tickets.indexList(u),t.nils.indexList(c),t.region.end||(t.region.end=e.lastBlockNumber)}s?(t.region={start:e.lastBlockNumber+1},this.db.set(t.pk+":startBlockNumber",e.lastBlockNumber+1)):t.db.set($.pkrIndexKey(t.pk),i+1),r&&r.length>0&&r.forEach((function(e,t){o.storeHash(e)})),t.fetchUtxos()}},{key:"delUtxoByNils",value:function(e){var t=this;e.forEach((function(e,n){var a=t.nils.remove(e);if(a){var r=a.split(":");if(r[1]){var o=t.storages.get(r[1]);o&&o.remove(r[0])}r[2]&&t.tickets.remove(r[2])}})),setTimeout((function(){t.checkUsedUxtos()}),5e3)}},{key:"fetchUtxos",value:function(e){var t={method:"fetchUtxos",tk:this.tk};if(t.start=this.region.start,t.end=this.region.end,this.region.end)t.pkrs=[G.createPkrHash(this.tk,this.getIndex(),this.version)],setTimeout((function(){X.postMessage(t)}),1e3);else{for(var n=this.getIndex(),a=[G.createPkrHash(this.tk,1,this.version),G.createOldPkrHash(this.tk,1,this.version)],r=Math.max(2,n-4);r<=n;r++)a.push(G.createPkrHash(this.tk,r,this.version));t.pkrs=a,setTimeout((function(){X.postMessage(t)}),1e4)}}},{key:"checkUsedUxtos",value:function(){var e=this,t=[];this.nils.forEach((function(e,n){t.push(n)})),0!=t.length?X.postMessage({method:"checkNils",tk:this.tk,nils:t}):setTimeout((function(){e.checkUsedUxtos()}),5e3)}},{key:"getIndex",value:function(){var e=this.db.get($.pkrIndexKey(this.pk));return e||(e=1),e}}]),e}(),oe=new(function(){function e(){Object(l.a)(this,e),this.accounts=new Map}return Object(u.a)(e,[{key:"initAccount",value:function(e,t,n){if(!this.accounts.has(t)){var a=new re(e,t,n,J);this.accounts.set(t,a),a.start()}}},{key:"clearAccounts",value:function(){this.accounts=new Map}},{key:"findUtxos",value:function(e,t,n){var a=this.accounts.get(e);return a?a.findUtxos(t,n):{}}},{key:"balancesOf",value:function(e){var t=this.accounts.get(e);return t?t.balancesOf():new Map}},{key:"ticketsOf",value:function(e){var t=this.accounts.get(e);return t?t.ticketsOf():{}}},{key:"initWorker",value:function(){var e=this;X.addEventListener("message",(function(t){if("fetchUtxos"===t.data.method){var n=e.accounts.get(t.data.tk);n&&n.indexUtxos(t.data.data)}else if("checkNils"===t.data.method){var a=t.data,r=e.accounts.get(a.tk);if(r){var o=[];a.datas&&a.datas.forEach((function(e){try{var t=e.TxHash,n=r.getRootByNil(e.Nil),a=new Y(r.pk);a.store(t,n,"out"),a.storeTxInfo({num:e.Num,txHash:e.TxHash,blockHash:e.TxInfo.BlockHash,gas:e.TxInfo.Gas,gasUsed:e.TxInfo.GasUsed,gasPrice:e.TxInfo.GasPrice,from:e.TxInfo.From,to:e.TxInfo.To,time:e.TxInfo.Time}),a.storeHash(e.TxInfo)}catch(s){console.log("checkNils err:",s.message)}o.push(e.Nil)})),r.delUtxoByNils(o)}}})),X.addEventListener("error",(function(t){if("fetchUtxos"===t.data.method){var n=e.accounts.get(t.data.tk);n&&setTimeout((function(){n.fetchUtxos()}),3e3)}else if("checkNils"===t.data.method){var a=e.accounts.get(t.data.tk);a&&setTimeout((function(){a.checkUsedUxtos()}),3e3)}}))}}]),e}()),se=n(18),ie=n.n(se),ce=new(n(354).PopupService),le=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"init",value:function(){ce.init(H.config.seroRpc(),1e4,(function(e){console.log("init data:",e)}))}},{key:"balanceOf",value:function(e){return new Promise((function(t,n){ce.balanceOf(e,(function(e){e.error?n(e.error):t(e.data)}))}))}},{key:"initAccount",value:function(e){return new Promise((function(t,n){ce.initAccount(e,(function(e){e.error?n(e.error):t(e.data)}))}))}},{key:"getTxList",value:function(e,t,n){return console.log("getTxList>>>>>>",t,n),new Promise((function(a,r){var o={tk:e,cy:t,count:n};ce.getTxList(o,(function(e){e.error?r(e.error):a(e.data)}))}))}},{key:"getTxDetail",value:function(e,t){return new Promise((function(n,a){ce.getTxDetail(e,t,(function(e){e.error?a(e.error):n(e.data)}))}))}},{key:"getPKrIndex",value:function(e){return new Promise((function(t,n){ce.getPKrIndex(e,(function(e){e.error?n(e.error):t(e.data)}))}))}},{key:"commitTx",value:function(e){return console.log("commitTx:",e),new Promise((function(t,n){ce.commitTx(e,(function(e){e.error?n(e.error):t(e.data)}))}))}},{key:"getPrice",value:function(e){return new Promise((function(t,n){ce.getSeroPrice(e,(function(e){e.error?n(e.error):t(e.data)}))}))}},{key:"clearData",value:function(){return new Promise((function(e,t){ce.clearData((function(n){n.error?t(n.error):e(n.data)}))}))}},{key:"getSyncState",value:function(){return new Promise((function(e,t){ce.getSyncState((function(n){n.error?t(n.error):e(n.data)}))}))}}]),e}()),ue=n(169),fe=new F,de=function(){function e(t){Object(l.a)(this,e),this.address=t}return Object(u.a)(e,[{key:"initRpc",value:function(){}},{key:"genWord",value:function(){try{var e=ue.genSeed(),t=ue.entropyToMnemonic(e);return sessionStorage.setItem("worddata",t),sessionStorage.setItem("MnemonicType","create"),t}catch(n){throw new Error(n.message)}}},{key:"getSK",value:function(e){var t=this;return new Promise((function(n,a){try{var r=t.address;if(!r)r=t.getCurrent().address;var o=H.storage.get(H.keys.infoKey(r));Z.getSK({password:e,keystore:o},(function(e){e.error?a(e.error):n(e.data)}))}catch(s){a(s.message)}}))}},{key:"balanceOf",value:function(e){var t=this.getCurrent(),n=oe.balancesOf(t.tk),a=0;return n.forEach((function(t,n){n===e&&(a=new ie.a(t).toString(10))})),a}},{key:"PreCreate",value:function(e,t,n,a){try{H.storage.delete(H.keys.account.tempKeystore);var r={password:t,word:a};Z.createAccount(r,(function(t){var a=t.data,r={detail:{address:a.address,name:e,hint:n,tk:a.tk,avatar:fe.getRandomAvatar()},keystore:a};H.storage.set(H.keys.account.tempKeystore,r)}))}catch(o){throw new Error(o.message)}}},{key:"CopyTempKeystore",value:function(){try{var e=H.storage.get(H.keys.account.tempKeystore);if(!e)return new Error("create account failed! please try again!");var t=e.keystore,n=H.storage.get(H.keys.account.addresses);n?n.push(t.address):n=[t.address],H.storage.set(H.keys.account.addresses,n),H.storage.set(H.keys.infoKey(t.address),t),H.storage.set(H.keys.detailKey(t.address),e.detail),this.getCurrent()||this.setCurrent(e.detail),H.storage.delete(H.keys.account.tempKeystore)}catch(a){throw new Error(a.message)}}},{key:"exportMnemonic",value:function(e,t){return new Promise((function(n,a){var r=H.storage.get(H.keys.infoKey(e));Z.exportMnemonic({keystore:r,password:t},(function(e){if(e.error)a(e.error);else{var t=e.data;sessionStorage.setItem("worddata",t),sessionStorage.setItem("MnemonicType","export"),n(!0)}}))}))}},{key:"importMnemonic",value:function(e,t,n,a){var r=this;return new Promise((function(o,s){Z.importMnemonic({word:n,password:a},(function(n){if(n.error)s(n.error);else{var a=n.data,i=a.address,c=H.storage.get(H.keys.account.addresses);if(c){var l=!0,u=!1,f=void 0;try{for(var d,m=c[Symbol.iterator]();!(l=(d=m.next()).done);l=!0){if(d.value===i)return void s("Account Exist!!")}}catch(p){u=!0,f=p}finally{try{l||null==m.return||m.return()}finally{if(u)throw f}}c.push(i)}else c=[i];H.storage.set(H.keys.account.addresses,c),H.storage.set(H.keys.infoKey(i),a);var h={address:i,name:e,hint:t,tk:a.tk,avatar:fe.getRandomAvatar()};H.storage.set(H.keys.detailKey(i),h),r.setCurrent(h),o(!0)}}))}))}},{key:"List",value:function(){var e=[],t=H.storage.get(H.keys.account.addresses);if(t){var n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value,c=H.storage.get(H.keys.infoKey(i));e.push(c)}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return e}return[]}},{key:"Details",value:function(){var e=[],t=H.storage.get(H.keys.account.addresses);if(t){var n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;e.push(this.Detail(i))}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return e}return[]}},{key:"getCurrent",value:function(){return H.storage.get(H.keys.account.current)}},{key:"setCurrent",value:function(e){H.storage.set(H.keys.account.current,e)}},{key:"setDetail",value:function(e){H.storage.get(H.keys.account.current).address===e.address&&H.storage.set(H.keys.account.current,e),H.storage.set(H.keys.detailKey(e.address),e)}},{key:"Keystore",value:function(){return H.storage.get(H.keys.infoKey(this.address))}},{key:"Detail",value:function(e){if(e){var t=H.storage.get(H.keys.detailKey(e));if(t){var n=H.storage.get(H.keys.infoKey(e));return n.tk&&(t.mainPKr||(t.mainPKr=ue.createPkrHash(n.tk,1,n.version)),t.currentPKr||(t.currentPKr=ue.createPkrHash(n.tk,1,n.version)),le.getPKrIndex(n.tk).then((function(a){t.currentPKr=ue.createPkrHash(n.tk,a.PkrIndex,n.version),H.storage.set(H.keys.detailKey(e),t)})).catch((function(e){}))),t}}}},{key:"repairAccountData",value:function(){var e=Object(R.a)(M.a.mark((function e(){var t,n,a,r,o,s;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=H.storage.length(),n=0;case 2:if(!(n<t)){e.next=19;break}if(!((a=H.storage.key(n)).indexOf("account:detail:")>-1)){e.next=16;break}if((r=H.storage.get(a)).address=a.substring("account:detail:".length),!(o=H.storage.get(H.keys.infoKey(r.address)))){e.next=16;break}return e.next=11,le.getPKrIndex(o.tk);case 11:s=e.sent,r.mainPKr=ue.createPkrHash(o.tk,1,o.version),r.tk=o.tk,r.currentPKr=ue.createPkrHash(o.tk,s.PkrIndex,o.version),H.storage.set(H.keys.detailKey(r.address),r);case 16:n++,e.next=2;break;case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"Remove",value:function(){var e=H.storage.get(H.keys.account.addresses),t=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;this.address===i||t.push(i)}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}H.storage.set(H.keys.account.addresses,t),H.storage.delete(H.keys.infoKey(this.address))}},{key:"NextPKrIndex",value:function(){var e=H.storage.get(H.keys.account.pkrIndex+this.address);return e?parseInt(e)+1:1}},{key:"MainPKr",value:function(){var e=this.Keystore(this.address);return ue.createPkrHash(e.tk,1,e.version)}}]),e}(),me=(n(583),n(144)),he=n.n(me),pe=(n(598),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.children,s.a.createElement("div",{className:"tabbar"},s.a.createElement(he.a,null,s.a.createElement(he.a.Item,{icon:s.a.createElement(_.a,{type:"iconcopper-coin-line"}),selectedIcon:s.a.createElement(_.a,{type:"iconcopper-coin-line1"}),title:H.lang.e().navbar.wallet,key:"home",selected:"home"===this.props.selectedTab,onPress:function(){H.url.goPage(H.url.Home,"")}}),s.a.createElement(he.a.Item,{icon:s.a.createElement(_.a,{type:"icondapp"}),selectedIcon:s.a.createElement(_.a,{type:"icondapp1"}),title:H.lang.e().navbar.dapp,key:"dapp",selected:"dapp"===this.props.selectedTab,onPress:function(){H.url.goPage(H.url.DApp,"")}}),s.a.createElement(he.a.Item,{icon:s.a.createElement(_.a,{type:"iconmy2"}),selectedIcon:s.a.createElement(_.a,{type:"iconmy1"}),title:H.lang.e().navbar.my,key:"my",selected:"my"===this.props.selectedTab,onPress:function(){H.url.goPage(H.url.Personal,"")}}))))}}]),t}(o.Component)),ge=n(44),ye=n.n(ge),ve=n(119),ke=n.n(ve),Ee=n(45),we=n.n(Ee),be=(n(619),n(176)),xe=n.n(be),Pe=new(function(){function e(t){Object(l.a)(this,e),t&&(this.rpc=t)}return Object(u.a)(e,[{key:"seroRpc",value:function(e,t,n){var a=H.config.host.rpc;this.rpc&&(a=this.rpc);var r={id:0,jsonrpc:"2.0",method:e,params:t};xe.a.post(a,r).then((function(e){var t=e.data;n&&n(t)})).catch((function(e){console.log("req error: ",e)}))}},{key:"seroRpc",value:function(e,t,n){var a=H.config.host.rpc;this.rpc&&(a=this.rpc);var r={id:0,jsonrpc:"2.0",method:e,params:t};xe.a.post(a,r).then((function(e){var t=e.data;n&&n(t)})).catch((function(e){console.log("req error: ",e)}))}},{key:"get",value:function(e,t){xe.a.get(e).then((function(e){t&&t(e.data)}))}}]),e}()),Se=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"seroTotal",value:function(e,t){var n={};Pe.get(H.config.host.price+"sero_usdt",(function(a){if(a&&""!==a){var r=(a=JSON.parse(a)).last,o=new ie.a(e).multipliedBy(new ie.a(r)),s=H.storage.get(H.keys.settings.moneyType);(s=s||"").toUpperCase()===H.config.setting.moneyType.cny?Pe.get(H.config.host.price+"usdt_cny",(function(e){var a=(e=JSON.parse(e)).last;o=new ie.a(o).multipliedBy(new ie.a(a)).toFixed(5),n.type="\xa5",n.total=o,t(n)})):(o=o.toFixed(5),n.type="$",n.total=o,t(n))}}))}}]),e}(),Oe=n(49),Te=new Se,Be=new F,Ce=N.a.Item,Ke=Ce.Brief,_e=new de,Ae=null,je=null,Ne=null,Ie=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).getSyncState=function(){var e=Object(A.a)(n);le.getSyncState().then((function(t){t&&(!0===t.health?!0===t.isSyncing?e.setState({healthy:"syncing"}):e.setState({healthy:"normal"}):e.setState({healthy:"dead"}))})).catch((function(t){e.setState({healthy:"dead"})}))},n.showWallet=function(){var e,t=_e.Details(),a=[];if(t){var r=!0,o=!1,i=void 0;try{for(var c,l=function(){var t=c.value;a.push(s.a.createElement(Ce,{thumb:s.a.createElement(_.a,{type:t.avatar,className:"icon-avatar"}),multipleLine:!0,onClick:function(){_e.setCurrent(t),n.accounts(),e.close()}},t.name,"(",t.mainPKr,")"))},u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)l()}catch(f){o=!0,i=f}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}e=C.a.alert(s.a.createElement("div",null,s.a.createElement("span",null,"Select Wallet"),s.a.createElement(_.a,{type:"iconsetting",className:"icon-select-account-setting",onClick:function(){e.close(),H.url.goPage(H.url.WalletManager,H.url.Home)}})),s.a.createElement("div",null,s.a.createElement(N.a,null,a)))},n.showQrCode=function(e){C.a.alert("QR-Code",s.a.createElement("div",null,s.a.createElement("canvas",{id:"qrImg"}),s.a.createElement("p",{style:{marginTop:"0",fontSize:"12px",overflowWrap:"break-word"}},e),s.a.createElement(S.a,{className:"copyTxt",size:"small",onClick:function(){we()(e),T.a.success(H.lang.e().toast.success.copy,1)}},"Copy")),[{text:"Close"}]);var t=document.getElementById("qrImg");ke.a.toCanvas(t,e,(function(e){e&&console.error(e)}))},n.state={accountHtml:[],address:"",assetsHtml:[],seroPriceInfo:{},current:"",account:"",detail:"",assets:new Map,healthy:"normal"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;try{e.accounts(),e.calSeroTotal(),setTimeout((function(){var t=_e.getCurrent();t&&t.address||(T.a.info(H.lang.e().toast.info.createWallet,1.5),setTimeout((function(){H.url.goPage(H.url.AccountCreate1,H.url.Home)}),1500)),e.accounts(),e.calSeroTotal()}),1500),Ae&&clearInterval(Ae),Ae=setInterval((function(){"syncing"!==e.state.healthy&&e.accounts()}),1e4),Ne&&clearInterval(Ne),Ne=setInterval((function(){e.getSyncState()}),1e3),je&&clearInterval(je),je=setInterval((function(){e.calSeroTotal()}),6e4)}catch(t){console.log(t)}}},{key:"modalTips",value:function(e){C.a.alert(H.lang.e().modal.help,e,[{text:H.lang.e().button.ok}])}},{key:"calSeroTotal",value:function(){var e=this;Te.seroTotal(1,(function(t){e.setState({seroPriceInfo:t})}))}},{key:"accounts",value:function(){var e=this,t=_e.getCurrent();if(t){var n=_e.Detail(t.address);this.setState({current:t,account:_e,detail:n}),le.balanceOf(n.tk).then((function(t){e.setState({assets:t})})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){var e=this,t=this,n=[],a=this.state,r=a.current,o=a.detail,i=a.assets,c=a.healthy,l="",u="",f=0,d="check-circle",m="green";if("normal"===c?(d="check-circle",m="green"):"syncing"===c?(d="loading",m="yellow"):"dead"===c&&(d="cross-circle",m="red"),console.log("render healthy :",c),r){if(l=o.mainPKr,u=o.currentPKr,i){var h=0;i.forEach((function(e,a){var r=0,o=Oe.a.convert(e,a);"SERO"===a&&t.state.seroPriceInfo.total&&(r=new ie.a(Oe.a.convert(new ie.a(t.state.seroPriceInfo.total).multipliedBy(new ie.a(e)),a))),f=new ie.a(f).plus(r),n.push(s.a.createElement(x.a,{key:h++,style:{backgroundColor:"gray"},autoClose:!0,right:[{text:H.lang.e().button.transfer,onPress:function(){H.url.goPage(H.url.transfer(a)),H.url.Home},style:{backgroundColor:"#24bdd2",color:"white"}}],onOpen:function(){H.url.goPage(H.url.transfer(a)),H.url.Home},onClose:function(){return console.log("global close")}},s.a.createElement(Ce,{extra:s.a.createElement("div",null,s.a.createElement("div",{className:"home-list-item-number"},o),s.a.createElement(Ke,null,s.a.createElement("div",{className:"home-list-item-money"},t.state.seroPriceInfo.type,r.toFixed(3)))),align:"top",thumb:s.a.createElement("div",{className:"currency-icon-border"},s.a.createElement("img",{src:ye.a,width:16})),multipleLine:!0,onClick:function(){H.url.goPage("/transfer/list/"+a)}},s.a.createElement("p",{className:"home-list-item-name"},a))))}))}0===n.length&&(n=s.a.createElement(x.a,{style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"Transfer",onPress:function(){H.url.goPage(H.url.transfer("SERO")),H.url.Home},style:{backgroundColor:"#24bdd2",color:"white"}}],onOpen:function(){H.url.goPage(H.url.transfer("SERO")),H.url.Home},onClose:function(){return console.log("global close")}},s.a.createElement(Ce,{extra:s.a.createElement("div",null,s.a.createElement("div",{className:"home-list-item-number"},"0.00"),s.a.createElement(Ke,null,s.a.createElement("div",{className:"home-list-item-money"},"$ 0.00"))),align:"top",thumb:s.a.createElement("div",{className:"currency-icon-border"},s.a.createElement("img",{src:ye.a,width:16})),multipleLine:!0,onClick:function(){H.url.goPage(H.url.transferList("SERO"),H.url.Home)}},s.a.createElement("p",{className:"home-list-item-name"},"SERO"))))}return s.a.createElement(pe,{selectedTab:"home"},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",style:{background:"#f7f7f7"},leftContent:s.a.createElement(_.a,{type:"iconMenu"}),rightContent:s.a.createElement(_.a,{type:"iconscan",onClick:function(){H.url.goPage(H.url.scan("transfer"),H.url.Home)}}),onLeftClick:this.showWallet},H.lang.e().navbar.wallet),s.a.createElement("div",{style:{margin:"5px",background:"#fdfdfd"}},s.a.createElement(k.a,null,s.a.createElement(k.a.Header,{thumb:s.a.createElement("div",null,s.a.createElement(_.a,{className:"icon-avatar",type:r.avatar,size:"lg",onClick:function(){H.url.goPage(H.url.manage(r.address),H.url.Home)}})),title:r.name,extra:s.a.createElement(_.a,{type:"ellipsis",onClick:function(){H.url.goPage(H.url.manage(r.address),H.url.Home)}})}),s.a.createElement(k.a.Body,{style:{padding:"0px 15px 6px"}},s.a.createElement("div",null,s.a.createElement("span",{style:{color:"#f6c23e"}},s.a.createElement(_.a,{type:"iconhelp",className:"icon-pkr",onClick:function(){e.modalTips(H.lang.e().modal.mainPKr)}}),H.lang.e().page.wallet.mainPKr,":"),s.a.createElement("span",null," ",Be.ellipsisAddress(l)),s.a.createElement(_.a,{type:"iconqr-code",className:"icon-qrcode",onClick:function(){H.url.goPage(H.url.receive(r.address,"mainPKr"),H.url.Home)}})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"#f6c23e"}},s.a.createElement(_.a,{type:"iconhelp",className:"icon-pkr",onClick:function(){e.modalTips(H.lang.e().modal.pkr)}}),H.lang.e().page.wallet.PKr,":"),s.a.createElement("span",null," ",Be.ellipsisAddress(u)),s.a.createElement(_.a,{type:"iconqr-code",className:"icon-qrcode",onClick:function(){H.url.goPage(H.url.receive(r.address,"pkr"),H.url.Home)}}))),s.a.createElement(k.a.Footer,{extra:s.a.createElement("span",null,t.state.seroPriceInfo.type,new ie.a(f).toFixed(3))}))),s.a.createElement("div",{className:"am-list"},s.a.createElement("div",{className:"am-list-header",style:{background:"#fdfdfd"}},s.a.createElement("div",{className:"home-list-title"},s.a.createElement(_.a,{type:d,color:m,size:"small",style:{width:"14px",height:"14px"}})," ",H.lang.e().page.wallet.Assets))),s.a.createElement(y.a,{size:"lg"})),s.a.createElement("div",{className:"assets-wrap",style:{marginTop:"270px",background:"#fdfdfd",height:document.documentElement.clientHeight-270,overflowY:"scroll"}},s.a.createElement(N.a,null,n),s.a.createElement("div",{style:{height:"50px"}})))}}]),t}(o.Component),Me=(n(67),n(28)),Re=n.n(Me),De=n(123),Fe=(n(160),n(57)),ze=n.n(Fe),He=n(77),Le=(n(164),new de),Ze=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).checkConfirming=function(){n.props.form.validateFields((function(e,t){t.name&&t.password&&t.repassword?n.setState({confirming:!1}):n.setState({confirming:!0})}))},n.state={confirming:!0,tipsShow:"none"},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.nameDecorator=this.props.form.getFieldDecorator("name",{rules:[{required:!0}]}),this.passwordDecorator=this.props.form.getFieldDecorator("password",{rules:[{required:!0}]}),this.repasswordDecorator=this.props.form.getFieldDecorator("repassword",{rules:[{required:!0}]})}},{key:"submit",value:function(){var e=this;e.setState({confirming:!0}),this.props.form.validateFields((function(t,n){if(null==t)try{if(n.password.length<8||n.repassword.length<8)return T.a.fail(H.lang.e().toast.error.passwordVerify,1),void e.setState({confirming:!1});if(n.password!==n.repassword)return T.a.fail(H.lang.e().toast.error.passwordNotMatch,1),void e.setState({confirming:!1});var a=Le.genWord();a&&(Le.PreCreate(n.name,n.password,n.hint,a),H.url.goPage(H.url.AccountCreate2,H.url.AccountCreate1))}catch(r){console.log(r.message)}e.setState({confirming:!1})}))}},{key:"render",value:function(){var e,t=this,n=this.props.form.getFieldProps;return s.a.createElement("div",{style:{background:"#f7f7f7",height:document.documentElement.clientHeight-45}},s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:ye.a,width:40}),s.a.createElement("h3",null,H.lang.e().page.create.step1.title)),s.a.createElement(Re.a,null,this.nameDecorator(s.a.createElement(ze.a,{type:"text",placeholder:H.lang.e().page.create.step1.walletName,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"off",clear:!0})),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,this.passwordDecorator(s.a.createElement(ze.a,(e={type:"password",placeholder:H.lang.e().page.create.step1.password,onBlur:this.checkConfirming,onChange:this.checkConfirming,onFocus:function(){t.setState({tipsShow:"block"})}},Object(De.a)(e,"onBlur",(function(){t.setState({tipsShow:"none"})})),Object(De.a)(e,"autoComplete","new-password"),Object(De.a)(e,"clear",!0),e))),s.a.createElement("div",{style:{color:"#108ee9",fontSize:"12px",textAlign:"right",marginTop:"5px",display:"".concat(this.state.tipsShow)}},H.lang.e().page.create.step1.passwordTips),s.a.createElement(y.a,{size:"lg"})),s.a.createElement("div",null,this.repasswordDecorator(s.a.createElement(ze.a,{type:"password",placeholder:H.lang.e().page.create.step1.rePassword,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"new-password",clear:!0})),s.a.createElement(y.a,{size:"lg"})),s.a.createElement(ze.a,Object.assign({type:"text",placeholder:H.lang.e().page.create.step1.hint},n("hint"),{clear:!0}))),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",style:{zIndex:"-1"},onClick:function(){t.submit()},disabled:this.state.confirming},H.lang.e().button.create)))}}]),t}(s.a.Component),Ve=Object(He.a)()(Ze),qe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement("span",{style:{color:"#108ee9"},onClick:function(){H.url.goPage(H.url.ImportAccount,H.url.AccountCreate1)}},H.lang.e().page.create.import)}),s.a.createElement(Ve,null))}}]),t}(o.Component),Ue=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).next=function(){H.url.goPage(H.url.AccountCreate3,H.url.AccountCreate2)},n.state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("worddata")||H.url.goPage(H.url.Home)}},{key:"render",value:function(){return s.a.createElement("div",{style:{background:"#f7f7f7",minHeight:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,{size:"lg"},s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("h2",null,H.lang.e().page.create.step2.title),s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step2.d1)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("h3",null,H.lang.e().page.create.step2.d2)),s.a.createElement("li",{style:{listStyleType:"none"}},s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step2.d3)),s.a.createElement("li",null,s.a.createElement("h3",null,H.lang.e().page.create.step2.d4)),s.a.createElement("li",{style:{listStyleType:"none"}},s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step2.d5)),s.a.createElement("li",null,s.a.createElement("h3",null,H.lang.e().page.create.step2.d6)),s.a.createElement("li",{style:{listStyleType:"none"}},s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step2.d7)))))),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",onClick:this.next},H.lang.e().button.next)))}}]),t}(o.Component),We=(n(340),n(139)),Ge=n.n(We),Qe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).next=function(){H.url.goPage(H.url.AccountCreate4,H.url.AccountCreate3)},n.state={wordTag:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=sessionStorage.getItem("worddata");if(e){var t=e.split(" "),n=[],a=0,r=!0,o=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value;n.push(s.a.createElement(Ge.a,{className:"customer-tag",key:a++},u))}}catch(f){o=!0,i=f}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}this.setState({wordTag:n})}else H.url.goPage(H.url.Home)}},{key:"render",value:function(){return s.a.createElement("div",{style:{background:"#f7f7f7",height:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}}),s.a.createElement(Re.a,{size:"lg"},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(_.a,{type:"iconbiji",size:"lg",color:"gray"}),s.a.createElement("h2",null,H.lang.e().page.create.step3.title),s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step3.h1)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"tag-div"},this.state.wordTag)),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",onClick:this.next},H.lang.e().button.next)))}}]),t}(o.Component),$e=(n(721),n(357)),Je=n.n($e),Ye=n(145),Xe=new de,et=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).done=function(){try{n.setState({disabled:!0}),Ye.a.loading(H.lang.e().toast.loading.creating,100);var e=sessionStorage.getItem("MnemonicType");if("create"===e){var t;H.storage.get(H.keys.account.tempKeystore);t=setInterval((function(){try{H.storage.get(H.keys.account.tempKeystore)&&(clearInterval(t),Xe.CopyTempKeystore(),sessionStorage.removeItem("MnemonicType"),sessionStorage.removeItem("worddata"),Ye.a.success(H.lang.e().toast.success.create,2),setTimeout((function(){H.url.goPage(H.url.Home)}),1500))}catch(e){Ye.a.fail(e.message,1)}}),1e3)}else"export"===e&&(sessionStorage.removeItem("MnemonicType"),sessionStorage.removeItem("worddata"),Ye.a.success(H.lang.e().toast.success.export,2),setTimeout((function(){H.url.goPage(H.url.Home),H.url.goBack()}),1500))}catch(a){console.log(a.message())}},n.triggerA=function(e,t){var a=Object(A.a)(n),r=n.state,o=r.word,s=r.currentWord;o.splice(t,1),s.push(e),n.setState({word:o,currentWord:s}),setTimeout((function(){a.displayTag()}),10)},n.triggerB=function(e,t){var a=Object(A.a)(n),r=n.state,o=r.word,s=r.currentWord;s.splice(t,1),o.push(e),o.sort(),n.setState({word:o,currentWord:s}),setTimeout((function(){a.displayTag()}),10)},n.displayTag=function(){var e=Object(A.a)(n),t=n.state,a=t.word,r=t.currentWord,o=t.originWord,i=[],c=0,l=!0,u=!1,f=void 0;try{for(var d,m=function(){var t=d.value,n=c;i.push(s.a.createElement(Ge.a,{key:n,className:"customer-tag",onChange:function(){e.triggerA(t,n)}},t)),c++},h=a[Symbol.iterator]();!(l=(d=h.next()).done);l=!0)m()}catch(_){u=!0,f=_}finally{try{l||null==h.return||h.return()}finally{if(u)throw f}}var p=[],g=0,y=!0,v=!1,k=void 0;try{for(var E,w=function(){var t=E.value,n=g;p.push(s.a.createElement(Ge.a,{key:g,closable:!0,onChange:function(){e.triggerB(t,n)}},t)),g++},b=r[Symbol.iterator]();!(y=(E=b.next()).done);y=!0)w()}catch(_){v=!0,k=_}finally{try{y||null==b.return||b.return()}finally{if(v)throw k}}n.setState({tags:i,currentTags:p});var x=0,P="",S=!0,O=!1,T=void 0;try{for(var B,C=r[Symbol.iterator]();!(S=(B=C.next()).done);S=!0){var K=B.value;if(o[x++]!==K){P=H.lang.e().toast.error.incorrectOrder;break}P=""}}catch(_){O=!0,T=_}finally{try{S||null==C.return||C.return()}finally{if(O)throw T}}r.length===o.length&&""===P?n.setState({disabled:!1}):P?n.setState({errorMsg:H.lang.e().toast.error.incorrectOrder}):n.setState({errorMsg:""})},n.state={word:[],originWord:[],currentWord:[],errorMsg:"",disabled:!0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("worddata");if(t){var n=t.split(" ");this.setState({originWord:n});var a=t.split(" ");a.sort(),this.setState({word:a}),setTimeout((function(){e.displayTag()}),10)}else H.url.goPage(H.url.Home,"")}},{key:"render",value:function(){var e=this.state,t=e.tags,n=e.currentTags;return s.a.createElement("div",{style:{background:"#f7f7f7",height:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goPage(H.url.AccountCreate3)}}),s.a.createElement(Re.a,{size:"lg"},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(_.a,{type:"iconanquan",style:{width:"48px",height:"48px"},color:"gray"}),s.a.createElement("h2",null,H.lang.e().page.create.step4.title),s.a.createElement("p",{style:{color:"gray"}},H.lang.e().page.create.step4.d1),this.state.errorMsg?s.a.createElement(Je.a,{mode:"link",action:" ",icon:null},this.state.errorMsg):""),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"tag-div"},n),s.a.createElement("div",null,t)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",disabled:this.state.disabled,onClick:this.done},H.lang.e().button.done)))}}]),t}(o.Component),tt=(n(744),n(175)),nt=n.n(tt),at=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={selectedTab:"my",hidden:!1,fullScreen:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(pe,{selectedTab:"my"},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("div",{className:"my-header",style:{height:.15*document.documentElement.clientHeight,padding:"30px 0px"}},s.a.createElement("img",{src:nt.a,style:{width:"60px"}})),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(N.a,null,s.a.createElement(N.a.Item,{onClick:function(){H.url.goPage(H.url.AddressList,H.url.Personal)},arrow:"horizontal",thumb:s.a.createElement(_.a,{type:"iconAddressbook-",color:"gray"})},s.a.createElement("span",null,H.lang.e().page.my.addressBook)))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(N.a,null,s.a.createElement(N.a.Item,{arrow:"horizontal",thumb:s.a.createElement(_.a,{type:"iconwallet",color:"gray"}),onClick:function(){H.url.goPage(H.url.WalletManager,H.url.Personal)}},s.a.createElement("span",null,H.lang.e().page.my.walletManage)))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(N.a,null,s.a.createElement(N.a.Item,{arrow:"horizontal",thumb:s.a.createElement(_.a,{type:"iconsetting",color:"gray"}),onClick:function(){H.url.goPage(H.url.Settings,H.url.Personal)}},s.a.createElement("span",null,H.lang.e().page.my.settings)),s.a.createElement(N.a.Item,{arrow:"horizontal",thumb:s.a.createElement(_.a,{type:"iconTermsofUse",color:"gray"}),onClick:function(){H.url.goPage(H.url.browser("zh_CN"===H.config.language?"termOfUse-cn.html":"termOfUse.html"),H.url.Personal)}},s.a.createElement("span",null,H.lang.e().page.my.termOfUse)),s.a.createElement(N.a.Item,{arrow:"horizontal",thumb:s.a.createElement(_.a,{type:"iconaboutus",color:"gray"}),onClick:function(){H.url.goPage(H.url.About,H.url.Personal)}},s.a.createElement("span",null,H.lang.e().page.my.about)))),s.a.createElement(y.a,{size:"lg"}))))}}]),t}(o.Component),rt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(pe,{selectedTab:"stake"},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"iconMenu"}),rightContent:s.a.createElement(_.a,{type:"iconscan"})},"Stake")),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("div",{className:"my-header"})))}}]),t}(o.Component),ot=(n(341),n(141)),st=n.n(ot),it=(n(752),n(362)),ct=n.n(it),lt=(n(756),[]),ut=[{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:ye.a,className:"dapp-img"})),text:"Explorer",url:"https://explorer.sero.cash"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:ye.a,className:"dapp-img"})),text:"Wiki",url:"https://wiki.sero.cash"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:"https://edenworkroom.github.io/dapp/dapp.png",className:"dapp-img"})),text:"SC Tool",url:"http://edenworkroom.gitee.io/sctool/"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:"http://134.175.161.78:8088/asnow-app/logo.png",className:"dapp-img"})),text:"ASNOW",url:"http://134.175.161.78:8088/asnow-app"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:"http://sanguo.artfuture.store/slg/icon.png",className:"dapp-img"})),text:"\u8d85\u96f6\u4e09\u56fd",url:"http://sanguo.artfuture.store/slg/slg.html"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:"http://47.92.113.69/logo.png",className:"dapp-img"})),text:"ACES",url:"http://47.92.113.69/"},{icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:"http://alpha-live.gitee.io/alpha/logo.png",className:"dapp-img"})),text:"ALPHA",url:"http://alpha-live.gitee.io/alpha/index.html"}],ft=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={data:["1","2","3"]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.setState({})}),100)}},{key:"render",value:function(){var e=H.storage.get(H.keys.dapp.list);if(e){lt=[];var t=new Map,n=!0,a=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;if(!0===!t.get(c)){t.set(c,!0);var l=H.storage.get(H.keys.dappsInfoKey(c));lt.push({icon:s.a.createElement("div",{className:"dapp-icon"},s.a.createElement("img",{src:l.logo,className:"dapp-img"})),text:l.name,url:l.url})}}}catch(u){a=!0,r=u}finally{try{n||null==i.return||i.return()}finally{if(a)throw r}}}return s.a.createElement(pe,{selectedTab:"dapp"},s.a.createElement("div",{className:"layout-top",style:{color:"#f7f7f7"}},s.a.createElement(ct.a,{placeholder:H.lang.e().page.dapp.search,maxLength:200,onSubmit:function(e){e&&(e.indexOf("http")>-1?H.url.goPage(H.url.browser(e),H.url.DApp):T.a.fail(H.lang.e().page.dapp.invalidDApp,3))}})),s.a.createElement("div",{style:{marginTop:"45px",background:"#fdfdfd"}}),s.a.createElement("div",{className:"sub-title"},H.lang.e().page.dapp.recommended," "),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(st.a,{data:ut,activeStyle:!1,onClick:function(e,t){H.url.goPage(H.url.browser(e.url),H.url.DApp)},hasLine:!1})),s.a.createElement("div",null,lt.length>0?s.a.createElement("div",null,s.a.createElement("div",{className:"sub-title"},H.lang.e().page.dapp.recent," "),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(st.a,{data:lt,activeStyle:!1,onClick:function(e,t){H.url.goPage(H.url.browser(e.url),H.url.DApp)},hasLine:!1}))):""),s.a.createElement("div",{style:{minHeight:"45px"}}))}}]),t}(o.Component),dt=new de,mt=new F,ht=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).showQrCode=function(e){C.a.alert("QR-Code",s.a.createElement("div",null,s.a.createElement("canvas",{id:"qrImg"}),s.a.createElement("p",{style:{marginTop:"0",fontSize:"12px",overflowWrap:"break-word"}},e),s.a.createElement(S.a,{className:"copyTxt",size:"small",onClick:function(){we()(e),T.a.success("Copy Successfully",1)}},"Copy")),[{text:"Close"}]);var t=document.getElementById("qrImg");ke.a.toCanvas(t,e,(function(e){e&&console.error(e)}))},n.state={accountHtml:[]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"modalTips",value:function(e){C.a.alert(H.lang.e().modal.help,e,[{text:H.lang.e().button.ok}])}},{key:"componentDidMount",value:function(){this.loadAccounts()}},{key:"loadAccounts",value:function(){var e=this,t=dt.List(),n=0,a=[],r=!0,o=!1,i=void 0;try{for(var c,l=function(){var t=c.value,r=dt.Detail(t.address),o=r.mainPKr,i=r.currentPKr;a.push(s.a.createElement(Re.a,{size:"lg",key:n++},s.a.createElement(y.a,{size:"lg"}),s.a.createElement(k.a,null,s.a.createElement(k.a.Header,{thumb:s.a.createElement("div",null,s.a.createElement(_.a,{className:"icon-avatar",type:r.avatar,size:"lg"})),title:r.name,extra:s.a.createElement(_.a,{type:"ellipsis",onClick:function(){H.url.goPage(H.url.manage(t.address),H.url.WalletManager)}})}),s.a.createElement(k.a.Body,{style:{padding:"0px 15px 6px"}},s.a.createElement("div",null,s.a.createElement("span",{style:{color:"#f6c23e"}},s.a.createElement(_.a,{type:"iconhelp",className:"icon-pkr",onClick:function(){e.modalTips(H.lang.e().modal.mainPKr)}}),H.lang.e().page.walletManage.mainPKr,":"),s.a.createElement("span",null," ",mt.ellipsisAddress(o)),s.a.createElement(_.a,{type:"iconqr-code",className:"icon-qrcode",onClick:function(){H.url.goPage(H.url.receive(r.address,"mainPKr"),H.url.WalletManager)}})),s.a.createElement("div",null,s.a.createElement("span",{style:{color:"#f6c23e"}},s.a.createElement(_.a,{type:"iconhelp",className:"icon-pkr",onClick:function(){e.modalTips(H.lang.e().modal.pkr)}}),H.lang.e().page.walletManage.PKr,":"),s.a.createElement("span",null," ",mt.ellipsisAddress(i)),s.a.createElement(_.a,{type:"iconqr-code",className:"icon-qrcode",onClick:function(){H.url.goPage(H.url.receive(r.address,"pkr"),H.url.WalletManager)}}))))))},u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)l()}catch(f){o=!0,i=f}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}0===a.length&&(a=s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(_.a,{type:"iconwushuju",style:{width:"100px",height:"100px"}}),s.a.createElement("br",null),s.a.createElement("span",{style:{color:"gray"}},"No Data"))),this.setState({accountHtml:a})}},{key:"render",value:function(){return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),rightContent:s.a.createElement(_.a,{onClick:function(){C.a.operation([{text:s.a.createElement("span",{style:{textAlign:"center",color:"#108ee9",fontWeight:"800"}},H.lang.e().modal.createWallet),onPress:function(){H.url.goPage(H.url.AccountCreate1,H.url.WalletManager)}},{text:s.a.createElement("span",{style:{textAlign:"center",color:"#108ee9",fontWeight:"800"}},H.lang.e().modal.importWallet),onPress:function(){H.url.goPage(H.url.ImportAccount,H.url.WalletManager)}}])},type:"iconadd"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().page.my.walletManage)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7",marginTop:"45px",height:"100%",overflowY:"scroll"}},this.state.accountHtml))}}]),t}(o.Component),pt=new de,gt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).changePasswordHint=function(){var e=n.state.detail;C.a.prompt(H.lang.e().page.walletManage.changePasswordHint,"",[{text:H.lang.e().button.cancel,onPress:function(e){return new Promise((function(e){e()}))}},{text:H.lang.e().button.confirm,onPress:function(t){return new Promise((function(n,a){t?(e.hint=t,H.storage.set(H.keys.detailKey(e.address),e),n(),T.a.success(H.lang.e().toast.success.save,1)):a()}))}}],"default",e.hint,[H.lang.e().page.walletManage.changePasswordHint])},n.exportMnemonicPhrase=function(){var e=Object(A.a)(n);C.a.prompt(H.lang.e().page.walletManage.export,"",[{text:H.lang.e().button.cancel,onPress:function(e){return new Promise((function(e){e()}))}},{text:H.lang.e().button.confirm,onPress:function(t){return new Promise((function(n,a){t?(T.a.loading(H.lang.e().toast.loading.exporting,60),pt.exportMnemonic(e.props.match.params.address,t).then((function(t){T.a.success(H.lang.e().toast.export,2),n(),H.url.goPage(H.url.AccountCreate2,H.url.manage(e.props.match.params.address))})).catch((function(e){e.indexOf("wrong passphrase")>-1?T.a.fail(H.lang.e().toast.error.passwordError,2):T.a.fail(e,3),a()}))):a()}))}}],"secure-text",null,[H.lang.e().page.walletManage.password])},n.state={detail:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.address,t=new de(e).Detail(e);t?this.setState({detail:t}):(T.a.fail(H.lang.e().toast.error.accountExisted,1),setTimeout((function(){H.url.goPage(H.url.Personal,"")}),1e3))}},{key:"render",value:function(){var e=this,t=this.state.detail;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().page.my.walletManage)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(N.a,null,s.a.createElement(Re.a,{size:"lg"},s.a.createElement(N.a.Item,{arrow:"horizontal",thumb:s.a.createElement(_.a,{className:"icon-avatar",type:t.avatar,size:"lg"}),multipleLine:!0,onClick:function(){H.url.goPage(H.url.manageName(t.address),H.url.manage(e.props.match.params.address))}},t.name," ",s.a.createElement(N.a.Item.Brief,null,t.mainPKr)))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(N.a,null,s.a.createElement(Re.a,{size:"lg"},s.a.createElement(N.a.Item,{arrow:"horizontal",onClick:this.changePasswordHint,thumb:s.a.createElement(_.a,{type:"iconcustom-hint",color:"gray"})},s.a.createElement("span",null,H.lang.e().page.walletManage.changePasswordHint)),s.a.createElement(N.a.Item,{arrow:"horizontal",onClick:this.exportMnemonicPhrase,thumb:s.a.createElement(_.a,{type:"iconword",color:"gray"})},s.a.createElement("span",null,H.lang.e().page.walletManage.export))))))}}]),t}(o.Component),yt=new F,vt=new de,kt=Array.from(yt.avatars).map((function(e,t){return{icon:s.a.createElement(_.a,{type:e,className:"icon-avatar",size:"lg"}),text:""}})),Et=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).showChangeAvatar=function(){var e;e=C.a.alert(H.lang.e().page.walletManage.changeProfilePhoto,s.a.createElement("div",null,s.a.createElement(st.a,{data:kt,hasLine:!1,onClick:function(t,a){var r=t.icon.props.type,o=n.state.detail;o.avatar=r,vt.setDetail(o),n.setState({detail:o}),e.close()},columnNum:3})),[{text:H.lang.e().button.confirm,onPress:function(){return new Promise((function(e){e()}))}}],"default")},n.showChangeName=function(){C.a.prompt(H.lang.e().page.walletManage.changeWalletName,"",[{text:H.lang.e().button.cancel,onPress:function(e){return new Promise((function(e){e()}))}},{text:H.lang.e().button.confirm,onPress:function(e){return new Promise((function(t,a){if(e){var r=n.state.detail;r.name=e,vt.setDetail(r),n.setState({detail:r}),t()}else a()}))}}],"default",null,[H.lang.e().page.walletManage.changeWalletName])},n.state={detail:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.address,t=new de(e).Detail(e);t?this.setState({detail:t}):(T.a.fail("Account not exist!",1),setTimeout((function(){H.url.goPage(H.url.Personal,"")}),1e3))}},{key:"render",value:function(){var e=this.state.detail;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().page.my.walletManage)),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(y.a,{size:"lg"}),s.a.createElement(N.a,null,s.a.createElement(Re.a,{size:"lg"},s.a.createElement(N.a.Item,{onClick:this.showChangeAvatar,extra:s.a.createElement(_.a,{type:e?e.avatar:"",className:"icon-avatar",size:"lg"}),thumb:s.a.createElement(_.a,{type:"iconavatar",color:"gray"})},s.a.createElement("span",null,H.lang.e().page.walletManage.changeProfilePhoto)),s.a.createElement(N.a.Item,{onClick:this.showChangeName,extra:s.a.createElement("span",{style:{color:"#4e73df"}},e?e.name:""),thumb:s.a.createElement(_.a,{type:"iconname",color:"gray"})},s.a.createElement("span",null,H.lang.e().page.walletManage.changeWalletName))))))}}]),t}(o.Component),wt=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"add",value:function(e){if(H.storage.get(H.keys.address.info+e.address))throw new Error("Address has in book");var t=H.storage.get(H.keys.address.book);t?t.push(e.address):t=[e.address],H.storage.set(H.keys.address.book,t),H.storage.set(H.keys.address.info+e.address,e)}},{key:"set",value:function(e){H.storage.set(H.keys.address.info+e.address,e)}},{key:"List",value:function(){var e=H.storage.get(H.keys.address.book);if(e){var t=[],n=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value,c=H.storage.get(H.keys.address.info+i);c&&t.push(c)}}catch(l){a=!0,r=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}return t}return[]}},{key:"info",value:function(e){return H.storage.get(H.keys.address.info+e)}},{key:"remove",value:function(e){var t=H.storage.get(H.keys.address.book);if(t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=t[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var c=s.value;c===e||n.push(c)}}catch(l){r=!0,o=l}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}H.storage.delete(H.keys.address.info+e),H.storage.set(H.keys.address.book,n)}}}]),e}(),bt=(n(135),new F,new wt),xt=N.a.Item,Pt=xt.Brief,St=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={addressHtml:[]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var e=bt.List(),t=[],n=0,a=!0,r=!1,o=void 0;try{for(var i,c=function(){var e=i.value;t.push(s.a.createElement(xt,{wrap:!0,thumb:s.a.createElement("img",{src:ye.a}),key:n++},e.name,s.a.createElement("br",null),s.a.createElement("div",{className:"list-address",onClick:function(){H.url.goPage(H.url.addressDetail(e.address),H.url.AddressList)}},e.address),s.a.createElement(_.a,{type:"iconcopy",style:{position:"relative",float:"right",color:"gray"},onClick:function(){we()(e.address),T.a.success(H.lang.e().toast.success.copy,1)}}),s.a.createElement(Pt,null,e.desc)))},l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0)c()}catch(u){r=!0,o=u}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}0===t.length&&(t=s.a.createElement("div",{style:{textAlign:"center",background:"#f7f7f7",padding:"15px 0"}},s.a.createElement(_.a,{type:"iconwushuju",style:{width:"100px",height:"100px"}}),s.a.createElement("br",null),s.a.createElement("span",{style:{color:"gray"}},H.lang.e().page.txList.noData))),this.setState({addressHtml:t})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement(_.a,{type:"iconadd",onClick:function(){H.url.goPage(H.url.AddressAdd,H.url.AddressList)}})},H.lang.e().page.addressBook.title)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(N.a,null,this.state.addressHtml)))}}]),t}(o.Component),Ot=(n(165),n(69)),Tt=n.n(Ot),Bt=n(90),Ct=(new F,new wt),Kt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).checkConfirming=function(){var e=Object(A.a)(n);n.props.form.validateFields((function(t,n){n.name&&n.address?e.setState({confirming:!1}):e.setState({confirming:!0})}))},n.state={confirming:!0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.form,t=e.getFieldDecorator,n=e.setFieldsValue;this.nameDecorator=t("name",{rules:[{required:!0}]}),this.addressDecorator=t("address",{rules:[{required:!0}]}),this.descDecorator=t("desc",{rules:[{required:!1}]}),n({address:this.props.address})}},{key:"submit",value:function(){var e=this;e.setState({confirming:!0}),this.props.form.validateFields((function(t,n){if(null==t)if(Object(Bt.validPkr)(n.address))try{Ct.add({name:n.name,address:n.address,desc:n.desc}),T.a.success(H.lang.e().toast.success.add,1),setTimeout((function(){H.url.goBack()}),1e3)}catch(a){console.log(a.message),T.a.fail(a.message,1),e.setState({confirming:!1})}else T.a.fail(H.lang.e().toast.error.invalidAddress,1),e.setState({confirming:!1})}))}},{key:"render",value:function(){var e=this;this.props.form.getFieldProps;return s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:ye.a,width:40})),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,this.nameDecorator(s.a.createElement(Tt.a,{className:"textarea-bottom",title:"",placeholder:H.lang.e().page.addressBook.name,name:"name",ref:function(t){return e.autoFocusInst=t},autoHeight:!0,clear:!0,onBlur:this.checkConfirming,style:{fontSize:"14px"}}))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,this.addressDecorator(s.a.createElement(Tt.a,{className:"textarea-bottom",title:"",clear:!0,placeholder:H.lang.e().page.addressBook.address,name:"address",ref:function(t){return e.autoFocusInst=t},rows:4,count:150,autoHeight:!0,onBlur:this.checkConfirming,style:{fontSize:"14px",width:"92%"}})),s.a.createElement(_.a,{type:"iconscan",className:"address-add-iconscan",onClick:function(){H.url.goPage(H.url.scan("address"),H.url.AddressAdd)}})),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#fdfdfd"}},this.descDecorator(s.a.createElement(Tt.a,{className:"textarea-bottom",title:"",clear:!0,placeholder:H.lang.e().page.addressBook.description,name:"desc",ref:function(t){return e.autoFocusInst=t},autoHeight:!0,onBlur:this.checkConfirming,style:{fontSize:"14px"}}))),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",onClick:function(){e.submit()},disabled:this.state.confirming},H.lang.e().button.add)))}}]),t}(s.a.Component),_t=Object(He.a)()(Kt),At=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.setState({})}},{key:"render",value:function(){return s.a.createElement("div",{style:{background:"#f7f7f7",height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().page.addressBook.add)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(_t,{address:this.props.match.params.address})))}}]),t}(o.Component),jt=new wt,Nt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={address:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.address;if(e){var t=jt.info(e);this.setState({address:t})}else H.url.goPage(H.url.AddressList,H.url.WalletManager)}},{key:"render",value:function(){var e=this.state.address;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement(_.a,{type:"iconedit",style:{color:"#108ee9"},onClick:function(){H.url.goPage(H.url.addressEdit(e.address),H.url.addressDetail(e.address))}})},H.lang.e().page.addressBook.detail)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement(y.a,{size:"lg"}),s.a.createElement("img",{src:ye.a,width:40}),s.a.createElement(y.a,{size:"lg"})),s.a.createElement(N.a,{style:{background:"#fdfdfd"}},s.a.createElement(N.a.Item,{wrap:!0},s.a.createElement("span",{style:{color:"gray",fontSize:"12px"}},H.lang.e().page.addressBook.name),s.a.createElement(N.a.Item.Brief,null,s.a.createElement("div",{style:{color:"#333",fontSize:"16px"}},e.name))),s.a.createElement(N.a.Item,{wrap:!0},s.a.createElement("span",{style:{color:"gray",fontSize:"12px"}},H.lang.e().page.addressBook.address),s.a.createElement("br",null),s.a.createElement("div",{className:"list-address"},e.address),s.a.createElement(_.a,{type:"iconcopy",style:{position:"relative",float:"right",color:"gray",top:"-5px"},onClick:function(){we()(e.address),T.a.success(H.lang.e().toast.success.copy,1)}})),s.a.createElement(N.a.Item,{wrap:!0},s.a.createElement("span",{style:{color:"gray",fontSize:"12px"}},H.lang.e().page.addressBook.description),s.a.createElement(N.a.Item.Brief,null,s.a.createElement("div",{style:{color:"#333",fontSize:"16px"}},e.desc))))))}}]),t}(o.Component),It=(new F,new wt),Mt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={confirming:!0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.address?(this.nameDecorator=this.props.form.getFieldDecorator("name",{rules:[{required:!0}],initialValue:this.props.address.name||""}),this.addressDecorator=this.props.form.getFieldDecorator("address",{rules:[{required:!0}],initialValue:this.props.address.address||""}),this.descDecorator=this.props.form.getFieldDecorator("desc",{rules:[{required:!1}],initialValue:this.props.address.desc||""})):H.url.goPage(H.url.AddressList,H.url.WalletManager)}},{key:"submit",value:function(){var e=this;this.props.form.validateFields((function(t,n){if(null==t)if(Object(Bt.validPkr)(n.address))try{It.remove(e.props.address.address),It.add({name:n.name,address:n.address,desc:n.desc}),T.a.success(H.lang.e().toast.success.save,1),setTimeout((function(){H.url.goBack()}),1e3)}catch(a){T.a.fail(a.message,1)}else T.a.fail(H.lang.e().toast.error.invalidAddress,1);else t.name?T.a.fail(t.name.errors[0].message,1):t.address&&T.a.fail(t.address.errors[0].message,1)}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:H.lang.e().button.cancel,onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement("span",{style:{color:"#108ee9"},onClick:function(){e.submit()}},H.lang.e().button.save)},H.lang.e().page.addressBook.detail)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement("div",null,s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("img",{src:ye.a,width:40})),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,this.nameDecorator(s.a.createElement(Tt.a,{className:"textarea-bottom",title:"",placeholder:H.lang.e().page.addressBook.name,name:"name",ref:function(t){return e.autoFocusInst=t},autoHeight:!0,autoFocus:!0,clear:!0,onBlur:this.checkConfirming,style:{fontSize:"14px"}}))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",null,this.addressDecorator(s.a.createElement(Tt.a,{title:"",placeholder:H.lang.e().page.addressBook.address,name:"address",ref:function(t){return e.autoFocusInst=t},autoHeight:!0,clear:!0,style:{fontSize:"14px"},editable:!1,rows:4}))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#fdfdfd"}},this.descDecorator(s.a.createElement(Tt.a,{title:"",clear:!0,placeholder:H.lang.e().page.addressBook.description,name:"desc",ref:function(t){return e.autoFocusInst=t},autoHeight:!0,onBlur:this.checkConfirming})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(S.a,{onClick:function(){C.a.alert(H.lang.e().button.deleteAddress,H.lang.e().modal.sure,[{text:H.lang.e().button.cancel,onPress:function(){}},{text:H.lang.e().button.confirm,onPress:function(){It.remove(e.props.address.address),T.a.success("Delete Successfully",1),setTimeout((function(){H.url.goPage(H.url.AddressList,H.url.WalletManager)}),1e3)}}])}},s.a.createElement("span",{style:{color:"red"}},H.lang.e().button.deleteAddress))))}}]),t}(s.a.Component),Rt=Object(He.a)()(Mt),Dt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={address:"",save:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.address,t=It.info(e);this.setState({address:t})}},{key:"render",value:function(){return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement(Rt,{address:this.state.address,save:this.state.save}))}}]),t}(o.Component),Ft=(n(758),n(363)),zt=n.n(Ft),Ht=(n(342),new F),Lt=new de,Zt=(s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.all),s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.out),s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.in),N.a.Item),Vt=Zt.Brief,qt=1,Ut=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).onRefresh=function(){var e=Object(A.a)(n);e.setState({refreshing:!0,isLoading:!0,datas:[]}),T.a.loading("loading...",2),e.initTxList().then((function(t){e.setState({datas:t,refreshing:!1,isLoading:!1,hasMore:t.length>=10})}))},n.onEndReached=function(e){var t=Object(A.a)(n);t.state.isLoading||(console.log("reach end",e),t.setState({isLoading:!0}),T.a.loading("loading...",2),t.initTxList(++qt).then((function(e){e.length>t.state.datas.length?t.setState({datas:e,isLoading:!1,hasMore:e.length>=10}):t.setState({datas:e,isLoading:!1,hasMore:!1})})))},n.state={all:[],in:[],out:[],datas:[],refreshing:!0,isLoading:!0,height:document.documentElement.clientHeight-45,hasMore:!0,address:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;[{title:s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.all)},{title:s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.out)},{title:s.a.createElement("span",{style:{color:"#64727c",fontWeight:"bold"}},H.lang.e().page.txList.in)}],qt=1;var t=this.state.height,n=new de;this.setState({address:n.getCurrent().address}),T.a.loading("loading...",2),setTimeout((function(){e.initTxList(10).then((function(n){e.setState({datas:n,height:t,refreshing:!1,isLoading:!1,hasMore:n.length>=10})}))}),600)}},{key:"initTxList",value:function(){var e=Object(R.a)(M.a.mark((function e(t){var n,a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t?10*qt:10,n=Lt.getCurrent(),a=this.props.match.params.currency,e.next=5,le.getTxList(n.tk,a,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.match.params.currency,n=this.state,a=n.datas,r=n.hasMore,o=n.isLoading,i=[];if(console.log("datas===> ",a),a&&a.length>0){for(var c=function(e){var n=void 0,r=a[e];r&&r.Time&&(n="string"===typeof r.Time?new Date(1e3*parseInt(r.Time)).toLocaleString():new Date(1e3*r.Time).toLocaleString());var o=0;r.Tkn.forEach((function(e,n){n===t&&(o=Oe.a.convert(e,n))})),"out"===r.Type&&1===new ie.a(o).comparedTo(0)?r.Type="in":"in"===r.Type&&-1===new ie.a(o).comparedTo(0)&&(r.Type="out");var c="out"===r.Type?"iconzhichu":"iconshouru",l="out"===r.Type?"#24bdd2":"#198fea",u="out"===r.Type?"":"+";i.push(s.a.createElement(Zt,{key:e,multipleLine:!0,onClick:function(){H.storage.set(H.keys.txInfoKey("",r.TxHash),r),H.url.goPage(H.url.transferDetail(r.TxHash),H.url.transferList(t))},thumb:s.a.createElement(_.a,{type:c,size:"lg",style:{color:"".concat(l)}}),extra:s.a.createElement("span",{className:"income-span",style:{color:l}},u,o)},s.a.createElement("span",{style:{fontSize:"14px",color:"#64727c"}},Ht.ellipsisHash(r.TxHash)),s.a.createElement(Vt,{style:{fontSize:"12px",color:"#c4c7cc"}},n)))},l=a.length-1;l>=0;l--)c(l);i.push(s.a.createElement(Zt,{key:a.length+1,multipleLine:!0},s.a.createElement("p",{style:{textAlign:"center",color:"#198fea"}},o?"loading...":r?s.a.createElement(S.a,{size:"small",type:"ghost",onClick:function(){return e.onEndReached()}},"Show more"):"~")))}else o||i.push(s.a.createElement(Zt,{key:1,multipleLine:!0},s.a.createElement("div",{style:{textAlign:"center",background:"#fdfdfd",padding:"15px 0"}},s.a.createElement(_.a,{type:"iconwushuju",style:{width:"100px",height:"100px"}}),s.a.createElement("br",null),s.a.createElement("span",{style:{color:"gray"}},H.lang.e().page.txList.noData))));return s.a.createElement("div",{style:{height:document.documentElement.clientHeight,background:"#fdfdfd"}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},this.props.match.params.currency)),s.a.createElement(zt.a,{damping:100,ref:function(t){return e.ptr=t},style:{height:this.state.height,overflow:"auto"},indicator:this.state.down?{}:{deactivate:"pull to refresh"},direction:"down",refreshing:this.state.refreshing,onRefresh:this.onRefresh},s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(N.a,null,i))),s.a.createElement("div",{className:"bottom-button-div"},s.a.createElement("div",{className:"bottom-button-div-left"},s.a.createElement(S.a,{className:"bottom-button-div-receive",onClick:function(){e.state.address&&H.url.goPage(H.url.receive(e.state.address,"pkr"),H.url.transferList(e.props.match.params.currency))}},H.lang.e().button.receive)),s.a.createElement("div",{className:"bottom-button-div-right"},s.a.createElement(S.a,{className:"bottom-button-div-transfer",onClick:function(){H.url.goPage(H.url.transfer(e.props.match.params.currency),H.url.transferList(e.props.match.params.currency))}},H.lang.e().button.transfer))))}}]),t}(o.Component),Wt=(n(228),n(27)),Gt=n.n(Wt),Qt=new F,$t=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={state:"pending",txInfo:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.hash,n=(new de).getCurrent();le.getTxDetail(n.tk,t).then((function(t){e.setState({txInfo:t})}))}},{key:"render",value:function(){var e,t,n=this,a=this.state.txInfo;t=a.Tkn;var r=[];if(t){var o=0;t.forEach((function(e,t){var n=new ie.a(Oe.a.convert(e,t));-1===n.comparedTo(0)?("SERO"===t&&99999999999!==a.Num&&-1===n.plus(a.Fee).comparedTo(0)&&(n=n.plus(a.Fee)),0!==n.comparedTo(0)&&r.push(s.a.createElement("div",{key:o++},n.toString(10)," ",t))):r.push(s.a.createElement("div",{key:o++},"+",n.toString(10)," ",t))}))}return a&&a.Time&&(e="string"===typeof a.Time?new Date(1e3*parseInt(a.Time)).toLocaleString():new Date(1e3*a.Time).toLocaleString()),s.a.createElement("div",{style:{height:document.documentElement.clientHeight},className:"transfer-detail-bg"},s.a.createElement(w.a,{icon:s.a.createElement(_.a,{type:"left",style:{color:"#f7f7f7"}}),onLeftClick:function(){H.url.goBack()},style:{backgroundColor:"unset"}},H.lang.e().page.txDetail.title),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Re.a,null,s.a.createElement("div",{className:"transfer-detail",style:{height:.8*document.documentElement.clientHeight}},s.a.createElement("div",{className:"transfer-detail-indiv0"},s.a.createElement(_.a,{type:"pending"===a.State?"icondengdaichuli":"iconchenggongtishi",size:"lg",className:"transfer-detail-indiv0-icon"}),s.a.createElement("h3",null,"pending"===a.State?H.lang.e().page.txDetail.pending:H.lang.e().page.txDetail.success),s.a.createElement("span",{className:"transfer-detail-indiv0-span"},e)),s.a.createElement("div",{className:"transfer-detail-indiv1"},s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.amount,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,r))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.fee,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,s.a.createElement("span",null,new ie.a(a.Fee).toString(10)," SERO"),s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"10px",color:"#888"}},"=Gas(",a.GasUsed,") * GasPrice(",new ie.a(a.GasPrice).dividedBy(new ie.a(10).pow(9)).toString(10)," Gta)")))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.from,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",{style:{overflowWrap:"break-word",fontSize:"10px"},onClick:function(){we()(a.From),T.a.success("Copy Successfully",1)}},a.From,s.a.createElement(_.a,{type:"iconcopy",className:"transfer-detail-copy-icon"}))))),s.a.createElement("div",null,s.a.createElement(Re.a,null,s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.hash,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",{onClick:function(){we()(n.props.match.params.hash),T.a.success("Copy Successfully",1)}},Qt.ellipsisHash(this.props.match.params.hash),s.a.createElement(_.a,{type:"iconcopy",className:"transfer-detail-copy-icon"})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.block,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",{style:{color:"#007bff"}},99999999999===a.Num?"0":a.Num))))))),s.a.createElement("p",{className:"transfer-detail-p"},s.a.createElement("a",{onClick:function(){H.url.goPage(H.url.browser("https://explorer.sero.cash/txsInfo.html?hash=".concat(a.BlockHash)),H.url.transferDetail(n.props.match.params.hash))},style:{color:"#108ee9"}},H.lang.e().page.txDetail.goto)))}}]),t}(o.Component),Jt=n(171),Yt=(n(761),n(80)),Xt=new de,en=new Jt.a,tn=function(){function e(t){if(Object(l.a)(this,e),t)this.address=t;else{var n=en.get(H.keys.account.current);n&&(this.address=n.address)}}return Object(u.a)(e,[{key:"query",value:function(e){var t=this;return new Promise((function(n,a){try{n(t.queryStorage(e))}catch(r){n(t.queryStorage(e))}}))}},{key:"queryStorage",value:function(e){for(var t=en.length(),n=H.keys.txKeyPrefix(this.address),a=new Map,r=0;r<t;r++){var o=en.key(r);if(o.indexOf(n)>-1){var s=o.split(":")[2],i=o.split(":")[3],c=o.split(":")[4];Object(Yt.genTxMap)(i,s,e,a,c)}}if(a)return Object(Yt.sortTxMap)(a)}},{key:"info",value:function(e){var t=this;return new Promise((function(n,a){try{n(t.infoStorage(e))}catch(r){n(t.infoStorage(e))}}))}},{key:"infoStorage",value:function(e){var t=en.get(e);if(t.currency)return{state:"pending",data:t};for(var n=H.keys.txKeyHashPrefix(this.address,e),a=en.length(),r=new Map,o=0;o<a;o++){var s=en.key(o);if(s.indexOf(n)>-1){var i=s.split(":")[3],c=s.split(":")[4];Object(Yt.genTxInfo)(c,r,e,i)}}var l=null,u=[];return r.forEach((function(e,t,n){l=e,u.push({cy:e.currency,value:e.value})})),l.assets=u,{state:"completed",data:l}}},{key:"transfer",value:function(e,t){return new Promise((function(n,a){var r=new de,o=e.cy,s=e.gas,i=e.gasPrice,c=e.from;if(o||(o="SERO"),s||(s="0x"+new ie.a("4700000").toString(16)),i||(i="0x"+new ie.a("1000000000").toString(16)),c)c=(r=new de(c)).Detail(c).tk;else{var l=Xt.getCurrent();r=new de(l.address),c=l.tk}var u={};u.From=c,u.To=e.to,u.Cy=o,u.Value=e.value,u.Data=e.data,u.Gas=new ie.a(s).toString(16),u.GasPrice=new ie.a(i).toString(16),r.getSK(t).then((function(e){u.SK=e,le.commitTx(u).then((function(e){n(e)})).catch((function(e){a(e)}))})).catch((function(e){a(e)}))}))}},{key:"storePendingTx",value:function(e){en.set(H.keys.txKeyPending(this.address,e.currency,e.hash),1),en.set(e.hash,e)}},{key:"pendingTxList",value:function(e){var t=this;return new Promise((function(n,a){for(var r=en.length(),o=[],s=0;s<r;s++){var i=en.key(s);if(i.indexOf(H.keys.txKeyPendingPrefix(t.address,e))>-1){var c=i.split(":")[3],l=en.get(c);l.currency&&o.push(l)}}n(o)}))}},{key:"pendingTxInfo",value:function(e){return en.get(e)}}]),e}();function nn(){this._map={}}nn.prototype.add=function(e,t){this._map[e]=t},nn.prototype.get=function(e){return this._map[e]};var an,rn=new de,on=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).checkConfirming=function(){var e=Object(A.a)(n);n.props.form.validateFields((function(t,n){n.amount&&n.address&&e.setState({total:new ie.a(n.amount).toString(10)})}))},n.amountDecorator=n.props.form.getFieldDecorator("amount",{rules:[{required:!0}]}),n.addressDecorator=n.props.form.getFieldDecorator("address",{rules:[{required:!0}]}),n.state={confirming:!1,total:0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(this.props.address)if(Object(Bt.validPkr)(this.props.address)){(0,this.props.form.setFieldsValue)({address:this.props.address})}else T.a.fail(H.lang.e().toast.error.invalidAddress,2)}},{key:"submit",value:function(){var e=this,t=this;t.setState({confirming:!0}),this.props.form.validateFields((function(n,a){if(!a.address)return T.a.fail(H.lang.e().page.txTransfer.inputAddress,1.5),void t.setState({confirming:!1});if(!a.amount||0===parseFloat(a.amount))return T.a.fail(H.lang.e().page.txTransfer.inputAmount,1.5),void t.setState({confirming:!1});if("SERO"===e.props.currency){if(1===new ie.a(a.amount).plus(new ie.a("0.00002500")).comparedTo(new ie.a(t.props.amount)))return T.a.fail(H.lang.e().toast.error.notEnough,1.5),void t.setState({confirming:!1})}else{var r=(rn=new de).getCurrent();le.balanceOf(r.tk).then((function(e){console.log("data->",e),e&&"object"===typeof e&&e.forEach((function(e,n){"SERO"===n&&(1===new ie.a("0.00002500").comparedTo(e)&&(T.a.fail(H.lang.e().toast.error.notEnoughFee,1.5),t.setState({confirming:!1})),1===new ie.a(a.amount).comparedTo(new ie.a(t.props.amount))&&(T.a.fail(H.lang.e().toast.error.notEnough,1.5),t.setState({confirming:!1})))}))}))}if(!Object(Bt.validPkr)(a.address))return T.a.fail(H.lang.e().toast.error.invalidAddress,1.5),void t.setState({confirming:!1});null==n&&C.a.prompt(H.lang.e().page.txTransfer.inputPassword,H.lang.e().page.txTransfer.passwordMsg,[{text:H.lang.e().button.cancel,onPress:function(){t.setState({confirming:!1})}},{text:H.lang.e().button.confirm,onPress:function(e){if(!e)return T.a.fail(H.lang.e().page.txTransfer.inputPassword,1.5),void t.setState({confirming:!1});T.a.loading(H.lang.e().toast.loading.sending,120);var n=new tn(t.props.pk),r={to:a.address,cy:t.props.cy,value:Oe.a.mul(a.amount,t.props.cy,0),gas:25e3,gasPrice:1e9};n.transfer(r,e).then((function(e){e&&(T.a.success(H.lang.e().toast.success.send,2),setTimeout((function(){H.url.goPage(H.url.transferDetail(e),H.url.transferList(t.props.cy))}),1500))})).catch((function(e){"object"===typeof e&&(e=e.message),e.indexOf("wrong passphrase")>-1?T.a.fail(H.lang.e().toast.error.passwordError,2):T.a.fail(e,3),t.setState({confirming:!1})}))}}],"secure-text",null,[H.lang.e().page.txTransfer.inputPassword])}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.cy,a=t.amount;return s.a.createElement("div",null,s.a.createElement("div",{className:"coin"},s.a.createElement(Re.a,null,s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"left"},s.a.createElement("strong",null,n)),s.a.createElement("div",{className:"right"},H.lang.e().page.txTransfer.balance,": ",a," ",n)),s.a.createElement("div",{className:"content"},this.amountDecorator(s.a.createElement(ze.a,{placeholder:H.lang.e().page.txTransfer.inputAmount,type:"money",name:"amount",moneyKeyboardAlign:"left",onBlur:this.checkConfirming,onChange:this.checkConfirming}))))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"address"},s.a.createElement(Re.a,null,s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"left"},H.lang.e().page.txTransfer.address),s.a.createElement("div",{className:"right"})),s.a.createElement("div",{className:"content"},this.addressDecorator(s.a.createElement(Tt.a,{placeholder:H.lang.e().page.txTransfer.inputAddress,rows:"4",name:"address",style:{fontSize:" 12px"},onBlur:this.checkConfirming,onChange:this.checkConfirming})),s.a.createElement(_.a,{type:"iconAddressbook-",className:"transfer-address",onClick:function(){H.url.goPage(H.url.addressSelect(n),H.url.transfer(n+(e.props.address?"/"+e.props.address:"")))}})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"fee"},s.a.createElement(Re.a,null,s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"left"},H.lang.e().page.txTransfer.fee," "),s.a.createElement("div",{className:"right",style:{textAlign:"right"}},s.a.createElement("span",{style:{fontSize:"14px"}},"0.00002500"," SERO"),s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"12px",color:"rgb(136, 136, 136)"}},"Gas(25000) * GasPrice(1Gta)"))))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{className:"fee"},s.a.createElement(Re.a,null,s.a.createElement("div",{className:"title"},s.a.createElement("div",{className:"left"},H.lang.e().page.txTransfer.total," "),s.a.createElement("div",{className:"right",style:{textAlign:"right"}},"SERO"===this.props.cy?s.a.createElement("div",null,s.a.createElement("span",{style:{fontSize:"14px",color:"#333",fontWeight:"bold"}},new ie.a(this.state.total).plus(new ie.a("0.00002500")).toString(10))," ",this.props.cy):s.a.createElement("div",null,s.a.createElement("span",{style:{fontSize:"14px",color:"#333",fontWeight:"bold"}},this.state.total)," ",this.props.cy,s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"14px",color:"#333",fontWeight:"bold"}},"+ ","0.00002500")," SERO"))))),s.a.createElement(y.a,null),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",disabled:this.state.confirming,onClick:function(){e.submit()}},H.lang.e().button.next)))}}]),t}(o.Component),sn=Object(He.a)()(on),cn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={amount:0,currency:"SERO",current:"",detail:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.currency,n=rn.getCurrent();le.balanceOf(rn.Detail(n.address).tk).then((function(n){n&&"object"===typeof n&&n.forEach((function(n,a){a===t&&(n=Oe.a.convert(n,t),e.setState({amount:n}))}))})),this.setState({currency:t,current:n,detail:rn.Detail(n.address)})}},{key:"render",value:function(){var e=this.state,t=e.currency,n=e.detail,a=e.amount;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement(_.a,{type:"iconscan",onClick:function(){H.url.goPage(H.url.scan("transfer",t),H.url.transfer(t))}})},H.lang.e().button.transfer),s.a.createElement(sn,{amount:a,tk:n.tk,cy:t,address:this.props.match.params.address}))}}]),t}(o.Component),ln=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={prk:"",tips:"",name:"",act:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.address,t=this.props.match.params.type,n=new de(e).Detail(e),a=n.currentPKr,r=H.lang.e().modal.pkr;"mainPKr"===t&&(a=n.mainPKr,r=H.lang.e().modal.mainPKr);var o=document.getElementById("qrImg");ke.a.toCanvas(o,a,(function(e){e&&console.error(e)})),this.setState({pkr:a,tips:r,act:n})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight,background:"#353c4b"}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left",style:{color:"#f7f7f7"}}),onLeftClick:function(){H.url.goBack()},style:{backgroundColor:"unset"}},s.a.createElement("span",{style:{color:"#f7f7f7"}},"pkr"===this.props.match.params.type?H.lang.e().page.wallet.PKr:H.lang.e().page.wallet.mainPKr)),s.a.createElement("div",{className:"transfer-receive-border"},s.a.createElement("div",{className:"transfer-receive-icon"},s.a.createElement(_.a,{type:this.state.act.avatar,style:{width:"40px",height:"40px"}})),s.a.createElement("div",{className:"transfer-receive-header"},s.a.createElement("strong",null,this.state.act.name),s.a.createElement("br",null),s.a.createElement("div",{className:"transfer-receive-header-hash",onClick:function(){we()(e.state.pkr),T.a.success(H.lang.e().toast.success.copy,1)}},this.state.pkr,s.a.createElement(_.a,{type:"iconcopy",style:{width:"14px",height:"14px"}}))),s.a.createElement("div",{className:"transfer-receive-body",style:{height:.6*document.documentElement.clientHeight}},s.a.createElement("canvas",{id:"qrImg"}),s.a.createElement("br",null),s.a.createElement("p",{style:{color:"#dfab14"}},this.state.tips))))}}]),t}(o.Component),un=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).clearData=function(){try{T.a.loading("Clearing..."),le.clearData().then((function(e){T.a.success(H.lang.e().toast.success.clear,2),setTimeout((function(){C.a.alert(H.lang.e().modal.clearData,H.lang.e().modal.clearTip,[{text:H.lang.e().button.confirm,onPress:function(){window.location.href="./"}}])}),2e3)})).catch((function(e){T.a.fail(e,3),console.log(e)}))}catch(e){T.a.fail(e.message,3),console.log("clear Data:",e.message)}},n.state={network:[],showNetwork:!1},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){H.config.init(),this.setState({network:[{id:"1",network:"main",name:"\u534e\u5357(\u6210\u90fd)",rpc:"http://148.70.169.73:8545"},{id:"1",network:"main",name:"\u534e\u5357(\u6210\u90fd)",rpc:"http://140.143.83.98:8545",web:"http://pullup.sero.cash/v0_1_6/"},{id:"2",network:"main",name:"\u534e\u5357(\u5e7f\u5dde)",rpc:"http://129.204.197.105:8545",web:"http://pullup.sero.cash/v0_1_6/"},{id:"3",network:"main",name:"JAPAN",rpc:"http://52.199.145.159:8545",web:"http://pullup.sero.cash/v0_1_6/"}]})}},{key:"setRpc",value:function(e){e&&(H.config.setRpc(e),le.init()),this.setState({showNetwork:!1})}},{key:"render",value:function(){var e=this,t=this.state.network;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45}},s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().page.my.settings)),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(y.a,{size:"lg"}),s.a.createElement(N.a,null,s.a.createElement(Re.a,{size:"lg"},s.a.createElement(N.a.Item,{extra:s.a.createElement("span",{style:{fontSize:"14px"}},"zh_CN"===H.config.language?"\u7b80\u4f53\u4e2d\u6587":"English"),arrow:"horizontal",onClick:function(){C.a.operation([{text:"English",onPress:function(){H.config.setLanguage("en_US"),H.url.goPage(H.url.Settings+"?"+new Date)}},{text:"\u7b80\u4f53\u4e2d\u6587",onPress:function(){H.config.setLanguage("zh_CN"),H.url.goPage(H.url.Settings+"?"+new Date)}}])}},s.a.createElement("span",null,H.lang.e().page.setting.language)),s.a.createElement(N.a.Item,{extra:s.a.createElement("span",{style:{fontSize:"14px"}},H.config.moneyType.toUpperCase()),arrow:"horizontal",onClick:function(){C.a.operation([{text:"USD",onPress:function(){H.config.setMoneyType("usd"),e.setState({moneyType:"usd"})}},{text:"CNY",onPress:function(){H.config.setMoneyType("cny"),e.setState({moneyType:"cny"})}}])}},s.a.createElement("span",null,H.lang.e().page.setting.unit)),s.a.createElement(N.a.Item,{extra:s.a.createElement("span",{style:{fontSize:"14px"}},H.config.host.rpc),arrow:"horizontal",onClick:function(){e.setState({showNetwork:!0})}},s.a.createElement("span",null,H.lang.e().page.setting.node)),s.a.createElement(N.a.Item,{arrow:"horizontal",onClick:function(){H.url.goPage(H.url.HistoryPKr,H.url.Settings)}},s.a.createElement("span",null,H.lang.e().page.setting.pkr)))),s.a.createElement(y.a,null),s.a.createElement(N.a,null,s.a.createElement(N.a.Item,{onClick:function(){C.a.alert(H.lang.e().modal.clearData,H.lang.e().modal.confirmClear,[{text:H.lang.e().button.cancel,onPress:function(){}},{text:H.lang.e().button.confirm,onPress:function(){e.clearData()}}])}},s.a.createElement("div",{style:{color:"red",textAlign:"center"}},H.lang.e().page.my.clear))),s.a.createElement(C.a,{popup:!0,visible:this.state.showNetwork,onClose:function(){e.setState({showNetwork:!1})},animationType:"slide-up"},s.a.createElement(N.a,{renderHeader:function(){return s.a.createElement("div",null,H.lang.e().page.setting.node)},className:"popup-list"},t.map((function(t,n){return s.a.createElement(N.a.Item,{key:n,onClick:function(){e.setRpc(t.rpc)}},t.rpc,"(",t.name,")")})),s.a.createElement(N.a.Item,null,s.a.createElement(ze.a,{placeholder:"Input node host",id:"customer"}),s.a.createElement("div",{style:{marginTop:"15px"}},s.a.createElement(S.a,{type:"primary",onClick:function(){var t=document.getElementById("customer").value;e.setRpc(t)}},H.lang.e().button.confirm)))))))}}]),t}(o.Component),fn=n(364),dn=new(n.n(fn).a),mn=new tn,hn=new de,pn={method:{init:"init",accountDetail:"accountDetail",accountList:"accountList",executeContract:"executeContract",call:"call",estimateGas:"estimateGas"}},gn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).setPassword=function(e){n.setState({password:e})},n.initTile=function(){var e=Object(A.a)(n);window.addEventListener("message",n.receiveMessage,{passive:!0}),-1===n.props.match.params.url.indexOf("http")?setTimeout((function(){var t=document.getElementById("ifrModel");e.setState({navTitle:t.contentWindow.document.title})}),200):e.setState({navTitle:"Browser"})},n.initDApp=function(e){return e&&(n.setState({navTitle:e.name}),e.name&&e.contractAddress&&e.github&&e.author&&e.url&&e.logo&&(e.url&&-1===e.url.indexOf("http")&&(e.url="http://"+e.url,e.logo="http://"+e.logo),n.storageDapp(e))),"success"},n.call=function(e,t){try{var n=dn.sero.call(e,"latest");return t.data=n,t}catch(a){return t.data="0x",t.error=a.message,t}},n.estimateGas=function(e,t){try{var n=dn.sero.estimateGas(e);return t.data=n,t}catch(a){return t.data="0x0",t.error=a.message,t}},n.executeContract=function(e,t){try{if(!e)return;e&&!e.cy&&(e.cy="SERO"),e&&!e.gas&&(e.gas="0x"+new ie.a("4700000").toString(16)),e&&!e.gasPrice&&(e.gasPrice="0x"+new ie.a("1000000000").toString(16)),e&&!e.value&&(e.value="0x0"),n.setState({txInfo:s.a.createElement(N.a,null,s.a.createElement(N.a.Item,{extra:s.a.createElement("span",null,e.from)},H.lang.e().page.txDetail.from),s.a.createElement(N.a.Item,{extra:s.a.createElement("span",null,Oe.a.convert(e.value,e.cy).toString(10)," ",e.cy)},H.lang.e().page.txDetail.amount),s.a.createElement(N.a.Item,{extra:s.a.createElement("span",null,e.data)},"Data"),s.a.createElement(N.a.Item,{extra:s.a.createElement("div",null,Oe.a.convert(new ie.a(e.gas).multipliedBy(new ie.a(e.gasPrice)),"SERO").toString(10),s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"12px",color:"#ddd"}},new ie.a(e.gas).toString(10),"(Gas) * ",new ie.a(e.gasPrice).dividedBy(new ie.a(10).pow(9)).toString(10),"(Gta)"),s.a.createElement("br",null))},H.lang.e().page.txDetail.fee),s.a.createElement(N.a.Item,null,s.a.createElement("div",{style:{width:"100%",float:"left",display:"flex"}},s.a.createElement("div",{style:{width:"25%",marginRight:"15px"}},s.a.createElement(S.a,{onClick:function(){n.setState({showTxInfo:!1})}},H.lang.e().button.cancel)),s.a.createElement("div",{style:{width:"70%"}},s.a.createElement(S.a,{type:"primary",onClick:function(){n.submit(e,t)}},H.lang.e().button.confirm)))))}),n.setState({showTxInfo:!0})}catch(a){T.a.fail(a.message,3)}},n.submit=function(e,t){try{C.a.prompt(H.lang.e().button.transfer,s.a.createElement("div",null),[{text:H.lang.e().button.cancel,onPress:function(){console.log("cancel")}},{text:H.lang.e().button.confirm,onPress:function(n){if(n)try{T.a.loading(H.lang.e().toast.loading.sending,60),mn.transfer(e,n).then((function(e){T.a.success(H.lang.e().toast.success.send,2),t(e)})).catch((function(e){"object"===typeof e&&(e=e.message),e.indexOf("wrong passphrase")>-1?T.a.fail(H.lang.e().toast.error.passwordError,2):T.a.fail(e,3)}))}catch(a){T.a.fail(a.message)}else T.a.fail("Please Input Password!")}}],"secure-text",null,[H.lang.e().page.txTransfer.inputPassword]),n.setState({showTxInfo:!1})}catch(a){T.a.fail(a.message,3)}},n.storageDapp=function(e){try{var t=H.storage.get(H.keys.dapp.list);if(t&&0!==t.length){var n=[],a=!1,r=!0,o=!1,s=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){if(i.value===e.contractAddress){a=!0;break}}}catch(l){o=!0,s=l}finally{try{r||null==c.return||c.return()}finally{if(o)throw s}}a||n.push(e.contractAddress),H.storage.set(H.keys.dapp.list,n.concat(t))}else t=[e.contractAddress],H.storage.set(H.keys.dapp.list,t);H.storage.set(H.keys.dappsInfoKey(e.contractAddress),e)}catch(u){T.a.fail(u.message,3)}},n.receiveMessage=function(e){var t=Object(A.a)(n);if(void 0!==e&&e.data){var a=e.data;console.log("popup receive msg: ",a),a.method?a.method===pn.method.init?(a.data=t.initDApp(a.data),t.sendMessage(a)):a.method===pn.method.accountDetail?t.getAccountDetail(a.data,a).then((function(e){t.sendMessage(e)})):a.method===pn.method.accountList?t.getAccountList(a).then((function(e){t.sendMessage(e)})):a.method===pn.method.executeContract?t.executeContract(a.data.tx,(function(e){a.data=e,t.sendMessage(a)})):a.method===pn.method.call?t.sendMessage(t.call(a.data,a)):a.method===pn.method.estimateGas?t.sendMessage(t.estimateGas(a.data,a)):t.sendMessage("operation method is invalid !"):t.sendMessage("operation method is required !")}},n.sendMessage=function(e){console.log("popup send msg: ",e),document.getElementById("ifrModel").contentWindow.postMessage(e,"*")},n.state={url:"",hasListener:!1,navTitle:"",password:"",showTxInfo:!1,txInfo:""},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.url;e=decodeURIComponent(e),this.setState({url:e})}},{key:"componentDidMount",value:function(){this.initTile(),dn.setProvider(new dn.providers.HttpProvider(H.config.seroRpc()))}},{key:"getAccountList",value:function(){var e=Object(R.a)(M.a.mark((function e(t){var n,a,r,o,s,i,c,l,u,f;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=H.storage.get(H.keys.account.addresses),a=[],!n){e.next=33;break}r=!0,o=!1,s=void 0,e.prev=7,i=n[Symbol.iterator]();case 9:if(r=(c=i.next()).done){e.next=19;break}return l=c.value,u=hn.Detail(l),e.next=14,le.balanceOf(u.tk);case 14:f=e.sent,a.push({Name:u.name,PK:u.address,MainPKr:u.mainPKr,Balance:f});case 16:r=!0,e.next=9;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(7),o=!0,s=e.t0;case 25:e.prev=25,e.prev=26,r||null==i.return||i.return();case 28:if(e.prev=28,!o){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(25);case 33:return t.data=a,e.abrupt("return",t);case 37:return e.prev=37,e.t1=e.catch(0),t.data=null,t.error=e.t1.message,e.abrupt("return",t);case 42:case"end":return e.stop()}}),e,null,[[0,37],[7,21,25,33],[26,,28,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountDetail",value:function(){var e=Object(R.a)(M.a.mark((function e(t,n){var a,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=8;break}return a=hn.Detail(t),e.next=5,le.balanceOf(a.tk);case 5:return r=e.sent,n.data={Name:a.name,PK:a.address,MainPKr:a.mainPKr,Balance:r},e.abrupt("return",n);case 8:e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(0),n.data=null,n.error=e.t0.message,e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),className:"layout-top",onLeftClick:function(){window.removeEventListener("message",e.receiveMessage,!1),H.url.goBack()}},this.state.navTitle),s.a.createElement("iframe",{className:"h5-iframe",style:{width:"100%",height:this.state.iFrameHeight,overflow:"visible",marginTop:"45px"},onLoad:function(){e.setState({iFrameHeight:document.documentElement.clientHeight-45})},id:"ifrModel",ref:"iframe",src:this.state.url,width:"100%",height:this.state.iFrameHeight,frameBorder:"no",border:"0"}),s.a.createElement(C.a,{popup:!0,maskClosable:!0,visible:this.state.showTxInfo,animationType:"slide-up"},this.state.txInfo))}}]),t}(o.Component),yn=new F,vn=new tn,kn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={txInfo:{}},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.hash,t=vn.pendingTxInfo(e);this.setState({txInfo:t})}},{key:"render",value:function(){var e=this,t=this.state.txInfo;return s.a.createElement("div",{style:{height:document.documentElement.clientHeight},className:"transfer-detail-bg"},s.a.createElement(w.a,{icon:s.a.createElement(_.a,{type:"left",style:{color:"#f7f7f7"}}),onLeftClick:function(){H.url.goBack(H.url.transferList(t.currency))},style:{backgroundColor:"unset"}},"SERO"),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Re.a,null,s.a.createElement("div",{className:"transfer-detail",style:{height:.8*document.documentElement.clientHeight}},s.a.createElement("div",{className:"transfer-detail-indiv0"},s.a.createElement(_.a,{type:"icondengdaichuli",style:{width:"50px",height:"50px",marginTop:"5px"}}),s.a.createElement("h3",null,H.lang.e().page.txDetail.pending),s.a.createElement("span",{className:"transfer-detail-indiv0-span"},new Date(1e3*t.time).toLocaleString())),s.a.createElement("div",{className:"transfer-detail-indiv1"},s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.amount,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,t.value," ",t.currency))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.fee,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,s.a.createElement("span",null,t.fee," SERO"),s.a.createElement("br",null),s.a.createElement("span",{style:{fontSize:"10px",color:"#888"}},"=Gas(",t.gas,") * GasPrice(",new ie.a(t.gasPrice).dividedBy(new ie.a(10).pow(9)).toString(10)," Gta)")))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.from,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",{style:{overflowWrap:"break-word",fontSize:"12px"},onClick:function(){we()(t.from),T.a.success("Copy Successfully",1)}},t.from,s.a.createElement(_.a,{type:"iconcopy",className:"transfer-detail-copy-icon"})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.to,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,s.a.createElement("div",{style:{overflowWrap:"break-word",fontSize:"12px"},onClick:function(){we()(t.to),T.a.success("Copy Successfully",1)}},t.to,s.a.createElement(_.a,{type:"iconcopy",className:"transfer-detail-copy-icon"})))))),s.a.createElement("div",null,s.a.createElement(Re.a,null,s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.hash,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",{onClick:function(){we()(e.props.match.params.hash),T.a.success("Copy Successfully",1)}},yn.ellipsisHash(this.props.match.params.hash),s.a.createElement(_.a,{type:"iconcopy",className:"transfer-detail-copy-icon"})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(Gt.a,null,s.a.createElement(Gt.a.Item,null,s.a.createElement("div",{style:{color:"#888"}},H.lang.e().page.txDetail.block,":")),s.a.createElement(Gt.a.Item,{style:{flexBasis:"50%"}},s.a.createElement("div",null,t.block))))))),s.a.createElement("p",{className:"transfer-detail-p"},s.a.createElement("a",{onClick:function(){H.url.goPage(H.url.browser("https://explorer.sero.cash/txsInfo.html?hash=".concat(t.hash)),H.url.Home)},style:{color:"#108ee9"}},H.lang.e().page.txDetail.goto)))}}]),t}(o.Component),En=new de,wn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).checkConfirming=function(){n.props.form.validateFields((function(e,t){t.name&&t.word&&t.password&&t.repassword?n.setState({checkConfirming:!1}):n.setState({checkConfirming:!0})}))},n.state={checkConfirming:!0,tipsShow:"none"},n.nameDecorator=n.props.form.getFieldDecorator("name",{rules:[{required:!0}]}),n.wordDecorator=n.props.form.getFieldDecorator("word",{rules:[{required:!0}]}),n.passwordDecorator=n.props.form.getFieldDecorator("password",{rules:[{required:!0}]}),n.repasswordDecorator=n.props.form.getFieldDecorator("repassword",{rules:[{required:!0}]}),n.hindDecorator=n.props.form.getFieldDecorator("hint",{rules:[{required:!1}]}),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"import",value:function(){var e=this;e.setState({checkConfirming:!0}),this.props.form.validateFields((function(t,n){if(null==t){if(n.password.length<8||n.repassword.length<8)return T.a.fail(H.lang.e().toast.error.passwordVerify,1.5),void e.setState({checkConfirming:!1});n.password!==n.repassword?(T.a.fail(H.lang.e().toast.error.passwordNotMatch,1.5),e.setState({checkConfirming:!1})):(T.a.loading(H.lang.e().toast.loading.importing,60),setTimeout((function(){En.importMnemonic(n.name,n.hint,n.word,n.password).then((function(e){T.a.success(H.lang.e().toast.success.import,1.5),setTimeout((function(){H.url.goPage(H.url.Home)}),1e3)})).catch((function(t){T.a.fail(t,2),e.setState({checkConfirming:!1})}))}),500))}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Re.a,null,s.a.createElement("div",{style:{fontSize:"14px",color:"#64727e"}},H.lang.e().page.import.tips)),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,null,this.wordDecorator(s.a.createElement(Tt.a,{placeholder:H.lang.e().page.import.inputTips,rows:"5",style:{fontSize:" 14px"}})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,null,this.nameDecorator(s.a.createElement(ze.a,{type:"text",placeholder:H.lang.e().page.import.name,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"off"})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,null,this.passwordDecorator(s.a.createElement(ze.a,Object(De.a)({type:"password",placeholder:H.lang.e().page.import.password,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"off",onFocus:function(){e.setState({tipsShow:"block"})}},"onBlur",(function(){e.setState({tipsShow:"none"})})))),s.a.createElement("div",{style:{color:"#108ee9",fontSize:"12px",textAlign:"right",marginTop:"5px",display:"".concat(this.state.tipsShow)}},H.lang.e().page.create.step1.passwordTips))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,null,this.repasswordDecorator(s.a.createElement(ze.a,{type:"password",placeholder:H.lang.e().page.import.rePassword,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"new-password"})))),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{background:"#f7f7f7"}},s.a.createElement(Re.a,null,this.hindDecorator(s.a.createElement(ze.a,{type:"text",placeholder:H.lang.e().page.import.hint,onBlur:this.checkConfirming,onChange:this.checkConfirming,autoComplete:"new-password"})))),s.a.createElement("div",{className:"btn-bottom"},s.a.createElement(S.a,{type:"primary",onClick:function(){e.import()},disabled:this.state.checkConfirming},H.lang.e().button.import)))}}]),t}(o.Component),bn=Object(He.a)()(wn),xn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{height:document.documentElement.clientHeight}},s.a.createElement(w.a,{mode:"light",icon:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()}},H.lang.e().button.importWallet),s.a.createElement(y.a,{size:"lg"}),s.a.createElement(bn,null))}}]),t}(o.Component);window.barcode=null;var Pn="SERO";function Sn(e,t){window.barcode.close(),0==t.indexOf("http")?H.url.goPage(H.url.browser(t)):"transfer"===an?H.url.goPage(H.url.transfer(Pn+"/"+t)):"address"===an?H.url.goPage(H.url.AddressAdd+"/"+t):"browser"===an&&H.url.goPage(H.url.browser(t))}var On=function(e){function t(e){return Object(l.a)(this,t),Object(f.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){plus&&plus.barcode&&(window.barcode=plus.barcode.create("barcode",[plus.barcode.QR],{top:45,width:"100%",height:document.documentElement.clientHeight-45,position:"static",frameColor:"#4bbd2c",scanbarColor:"#4bbd2c"}),window.barcode.onmarked=Sn,plus.webview.currentWebview().append(window.barcode)),window.barcode.start(),an=this.props.match.params.type,this.props.match.params.cy&&(Pn=this.props.match.params.cy)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(w.a,{mode:"light",style:{background:"#f7f7f7"},leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){window.barcode.close(),H.url.goBack()}},"Scanner"))}}]),t}(o.Component),Tn=(new F,new wt),Bn=N.a.Item,Cn=Bn.Brief,Kn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={addressHtml:[]},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){var e=this,t=Tn.List(),n=[],a=0,r=!0,o=!1,i=void 0;try{for(var c,l=function(){var t=c.value;n.push(s.a.createElement(Bn,{wrap:!0,thumb:s.a.createElement("img",{src:ye.a}),key:a++},t.name,s.a.createElement("br",null),s.a.createElement("div",{className:"list-address",onClick:function(){H.url.goPage(H.url.transfer(e.props.match.params.currency+"/"+t.address))}},t.address),s.a.createElement(Cn,null,t.desc)))},u=t[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)l()}catch(f){o=!0,i=f}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}0===n.length&&(n=s.a.createElement("div",{style:{textAlign:"center",background:"#f7f7f7",padding:"15px 0"}},s.a.createElement(_.a,{type:"iconwushuju",style:{width:"100px",height:"100px"}}),s.a.createElement("br",null),s.a.createElement("span",{style:{color:"gray"}},"No Data"))),this.setState({addressHtml:n})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left"}),onLeftClick:function(){H.url.goBack()},rightContent:s.a.createElement(_.a,{type:"iconadd",onClick:function(){H.url.goPage(H.url.AddressAdd,H.url.addressSelect(e.props.match.params.currency))}})},"Addresses")),s.a.createElement(y.a,{size:"lg"}),s.a.createElement("div",{style:{marginTop:"45px"}},s.a.createElement(N.a,null,this.state.addressHtml)))}}]),t}(o.Component),_n=N.a.Item,An=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=new Array(9).map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(k.a,{full:!0},s.a.createElement(k.a.Header,{title:"AAA"}),s.a.createElement(k.a.Body,null,s.a.createElement(N.a,null,s.a.createElement(_n,{extra:s.a.createElement("span",null,"AAAA")},"Name"),s.a.createElement(_n,{extra:s.a.createElement("span",null,"AAAA")},"Symbol"),s.a.createElement(_n,{extra:s.a.createElement("span",null,"18")},"Decimals"),s.a.createElement(_n,{extra:s.a.createElement("span",null,"1000.00")},"Total Supply"),s.a.createElement(_n,{extra:s.a.createElement("span",null,"1000.00")},"Balance"),s.a.createElement(_n,{extra:s.a.createElement("span",null,"1000.00")},"Amount(SERO)"))),s.a.createElement(k.a.Footer,null,s.a.createElement(S.a,null,"Transfer"))))}));return s.a.createElement("div",null,e)}}]),t}(o.Component),jn=(n(822),[{name:"Website",value:"https://sero.cash",url:"https://sero.cash"},{name:"GitHub",value:"https://github.com/sero-cash/",url:"https://github.com/sero-cash/"},{name:"Twitter",value:"@SEROdotCASH",url:""},{name:"Wechat",value:"@SERO9413",url:""}]),Nn=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=[],t=0;return jn.forEach((function(n){e.push(s.a.createElement(N.a.Item,{key:t++,extra:s.a.createElement("span",{style:{color:"#0066cc",flexBasis:"60%"},onClick:function(){n.url&&H.url.goPage(H.url.browser(n.url))}},n.value)},n.name))})),s.a.createElement("div",null,s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left",onClick:function(){H.url.goBack()}})},H.lang.e().page.my.about),s.a.createElement("div",null,s.a.createElement("div",{className:"my-header",style:{height:.15*document.documentElement.clientHeight,padding:"30px 0px"}},s.a.createElement("img",{src:nt.a,style:{width:"60px"}}),s.a.createElement("div",{style:{color:"#888"}},"v1.0.3")),s.a.createElement(N.a,null,e)))}}]),t}(o.Component),In=n(169),Mn=n.n(In),Rn=new de,Dn=N.a.Item,Fn=(Dn.Brief,function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(f.a)(this,Object(d.a)(t).call(this,e))).loadData=function(){var e=Rn.getCurrent();n.setState({current:e}),le.getPKrIndex(e.tk).then((function(t){var a=t.PkrIndex,r=t.CurrentBlock,o=(Rn=new de(e.address)).Keystore().version,i=[];i.push(s.a.createElement(Dn,{extra:"Index",style:{background:"#fdfdfd"}},s.a.createElement("span",{style:{fontSize:"14px"}},"PKr")));for(var c=a;c>0;c--){var l=Mn.a.createPkrHash(e.tk,c,o);i.push(s.a.createElement(Dn,{extra:c},s.a.createElement("span",{style:{fontSize:"14px"}},z.ellipsisAddress(l))))}n.setState({pkrs:i,currentBlock:r})})).catch((function(e){}))},n.state={current:{},pkrs:[],currentBlock:0},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;T.a.loading("loading..."),setTimeout((function(){e.loadData()}),300)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"layout-top"},s.a.createElement(w.a,{mode:"light",leftContent:s.a.createElement(_.a,{type:"left",onClick:function(){H.url.goBack()}})},H.lang.e().page.setting.pkr)),s.a.createElement("div",{style:{height:document.documentElement.clientHeight-45,marginTop:"45px",overflowY:"scroll"}},s.a.createElement("h1",{style:{textAlign:"center"}},"Block height : ",this.state.currentBlock),s.a.createElement(N.a,null,this.state.pkrs)))}}]),t}(o.Component)),zn=function(e){function t(){return Object(l.a)(this,t),Object(f.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement(p.c,null,s.a.createElement(p.a,{exact:!0,path:"/home",component:Ie}),s.a.createElement(p.a,{exact:!0,path:"/account/create1",component:qe}),s.a.createElement(p.a,{exact:!0,path:"/account/create2",component:Ue}),s.a.createElement(p.a,{exact:!0,path:"/account/create3",component:Qe}),s.a.createElement(p.a,{exact:!0,path:"/account/create4",component:et}),s.a.createElement(p.a,{exact:!0,path:"/account/import",component:xn}),s.a.createElement(p.a,{exact:!0,path:"/my",component:at}),s.a.createElement(p.a,{exact:!0,path:"/stake",component:rt}),s.a.createElement(p.a,{exact:!0,path:"/dapp",component:ft}),s.a.createElement(p.a,{exact:!0,path:"/",component:Ie}),s.a.createElement(p.a,{exact:!0,path:"/walletManage",component:ht}),s.a.createElement(p.a,{exact:!0,path:"/manage/historyPKr",component:Fn}),s.a.createElement(p.a,{exact:!0,path:"/manage/:address",component:gt}),s.a.createElement(p.a,{exact:!0,path:"/manage/name/:address",component:Et}),s.a.createElement(p.a,{exact:!0,path:"/address/add/:address",component:At}),s.a.createElement(p.a,{exact:!0,path:"/address/add",component:At}),s.a.createElement(p.a,{exact:!0,path:"/address/detail/:address",component:Nt}),s.a.createElement(p.a,{exact:!0,path:"/address/edit/:address",component:Dt}),s.a.createElement(p.a,{exact:!0,path:"/address",component:St}),s.a.createElement(p.a,{exact:!0,path:"/addressSelect/:currency",component:Kn}),s.a.createElement(p.a,{exact:!0,path:"/transfer/list/:currency",component:Ut}),s.a.createElement(p.a,{exact:!0,path:"/transfer/detail/:hash",component:$t}),s.a.createElement(p.a,{exact:!0,path:"/transfer/result/:hash",component:kn}),s.a.createElement(p.a,{exact:!0,path:"/transfer/:currency/:address",component:cn}),s.a.createElement(p.a,{exact:!0,path:"/transfer/:currency",component:cn}),s.a.createElement(p.a,{exact:!0,path:"/receive/:type/:address",component:ln}),s.a.createElement(p.a,{exact:!0,path:"/scan/:type/:cy",component:On}),s.a.createElement(p.a,{exact:!0,path:"/scan/:type",component:On}),s.a.createElement(p.a,{exact:!0,path:"/settings",component:un}),s.a.createElement(p.a,{exact:!0,path:"/about",component:Nn}),s.a.createElement(p.a,{exact:!0,path:"/browser/:url",component:gn}),"/** TOKEN Tracker */",s.a.createElement(p.a,{exact:!0,path:"/tokenTracker",component:An})))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.hasSet=new Map;var Hn=new de;function Ln(){window.hasSet||(window.hasSet=new Map);var e=new de,t=e.List(),n=!0,a=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var i=o.value;window.hasSet.get(i.address)||(e=new de(i.address),le.initAccount(i.tk),window.hasSet.set(i.address,!0),console.log("init account success, address: ",i.address,e.Keystore().version))}}catch(c){a=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(a)throw r}}}document.onvisibilitychange=function(){var e=document.visibilityState;console.log("document.visibilityState:",e),"visible"===e&&le.init()};var Zn=n(367),Vn=n.n(Zn),qn=n(93);n(834);c.a.render(s.a.createElement(r.a,{locale:Vn.a},s.a.createElement(zn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})),Hn.initRpc(),le.init(),console.log("init worker success"),Ln(),function(){for(var e=H.storage.length(),t=[],n=0;n<e;n++){var a=H.storage.key(n);a&&-1===a.indexOf("account:")&&-1===a.indexOf("settings:")&&-1===a.indexOf("dapps:")&&-1===a.indexOf("address:")&&-1===a.indexOf("decimals:")&&t.push(a),a.indexOf("account:pkrIndex")>-1&&t.push(a),a.indexOf("account:currentPKr")>-1&&t.push(a)}t.length>0&&t.forEach((function(e){H.storage.delete(e)})),Hn.repairAccountData().then()}(),setInterval((function(){Ln()}),1e3),qn.a.init(),setTimeout((function(){H.config.init()}),1e3),sessionStorage.clear()},837:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(11),o=n(1),s=n(93),i=n(80);new(function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"store",value:function(e,t,n,a){s.a.db.executeSql('create table if not exists tx(\n            "address" TEXT,\n            "hash" TEXT,\n            "root" TEXT,\n            "type" TEXT,\n            "createdAt" TEXT\n        )').then((function(r){var o="insert into tx values(\n                '".concat(e,"',\n                '").concat(t,"',\n                '").concat(n,"',\n                '").concat(a,"',\n                '").concat((new Date).getTime(),"'\n            )");s.a.db.executeSql(o).then((function(e){})).catch((function(e){alert(e.message)}))})).catch((function(e){alert(e.message)}))}},{key:"queryByHash",value:function(e){return new Promise((function(t,n){if(e){var a="select * from tx where hash = '".concat(e,"' order by createdAt desc,hash asc ");s.a.db.selectSql(a).then((function(n){if(console.log(JSON.stringify(n)),n){var a=new Map,r=!0,o=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,f=u.root,d=u.type;Object(i.genTxInfo)(d,a,e,f)}}catch(p){o=!0,s=p}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}if(a){var m=null,h=[];a.forEach((function(e,t,n){m=e,h.push({cy:e.currency,value:e.value})})),m.assets=h,t(m)}}})).catch((function(e){console.log(e.message),n(e)}))}else n(new Error("hash con't be null."))}))}},{key:"query",value:function(e,t){return new Promise((function(n,a){if(e&&t){var r="select * from tx where address = '".concat(t,"' order by createdAt desc,hash asc ");s.a.db.selectSql(r).then((function(t){if(t){var a=new Map,r=!0,o=!1,s=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,f=u.hash,d=u.root,m=u.type;Object(i.genTxMap)(d,f,e,a,m)}}catch(p){o=!0,s=p}finally{try{r||null==l.return||l.return()}finally{if(o)throw s}}if(a){var h=Object(i.sortTxMap)(a);n(h)}}})).catch((function(e){console.log(e.message),a(e)}))}else a(new Error("currency and address con't be null."))}))}},{key:"queryPending",value:function(e,t){return new Promise((function(n,a){if(e&&t){var r="select * from tx where address = '".concat(t,"' and type='pending' order by createdAt desc,hash asc ");s.a.db.selectSql(r).then((function(t){if(t){var a=[],r=!0,s=!1,i=void 0;try{for(var c,l=t[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var u=c.value,f=u.hash,d=u.hash,m=(u.type,o.storage.get(f));if(e===m.cy){var h={root:d,type:"out",hash:f,block:"",currency:m.cy,value:m.value,fee:m.fee,gas:m.gas,gasUsed:"25000",gasPrice:m.gasPrice,time:m.time,blockHash:""};a.push(h)}}}catch(p){s=!0,i=p}finally{try{r||null==l.return||l.return()}finally{if(s)throw i}}n(a)}})).catch((function(e){console.log(e.message)}))}else n(new Error("currency and address is required!"))}))}}]),e}());n.d(t,"TxStore",(function(){return c}));var c=function(){function e(t){Object(a.a)(this,e),this.address=t}return Object(r.a)(e,[{key:"store",value:function(e,t,n){try{var a=o.keys.txKey(this.address,e,t,n);o.storage.set(a,1)}catch(s){var r=o.keys.txKey(this.address,e,t,n);o.storage.set(r,1)}}},{key:"storeTxInfo",value:function(e){var t=o.keys.txInfoKey(this.address,e.txHash);o.storage.set(t,e)}},{key:"storeHash",value:function(e){var t=o.storage.get(e.TxHash);t&&t.currency&&(o.storage.delete(e.TxHash),o.storage.delete(o.keys.txKeyPending(this.address,t.currency,e.TxHash))),o.storage.set(e.TxHash,e)}}]),e}()},88:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(535);t.blake2b=function(t,n){var r=e.alloc(16,0);r.fill(t,0,t.length);var o=a(32,null,null,r).update(n).digest("binary");return e.from(o)}}).call(this,n(21).Buffer)},89:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(301),r=n(538),o=n(25),s=n(35);t.accountBase=new a.Group("$SROKEYSGEN",1,256,4),t.crBase=new a.Group("SZK$ASSET$CR",1,256,4),t.rootBase=new a.Group("SZK$ROOTCM",10,128,4),t.genTknBase=function(t){t=o.toBuffer(t),s(32==t.length);var n=e.alloc(64,0);n.set(t,0);var a=r.findPoint("SZK$TKN",n);if(!a)throw new Error("find point error");return a},t.genTktBase=function(t,n){t=o.toBuffer(t),n=o.toBuffer(n),s(32==t.length),s(32==n.length);var a=e.concat([t,n]),i=r.findPoint("SZK$TKT",a);if(!i)throw new Error("find point error");return i}}).call(this,n(21).Buffer)},90:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(198),r=n(158),o=n(544),s=n(552),i=n(555),c=n(319),l=n(25),u=n(42),f=n(320),d=function(){function e(e,t){if(this.version=2,void 0!==e){void 0===t&&(t=g());var n=l.toBuffer(t);this.keystore=h(n,e,2);var a=f.seed2Sk(n,2),r=f.sk2Tk(a);return this.tk=r,this.pk=f.tk2PK(r),this.version=2,this}}return e.prototype.fromKeystore=function(e){var t="object"===typeof e?e:JSON.parse(e);this.keystore=t,this.tk=t.tk,this.version=this.keystore.version;var n=l.toBuffer(this.tk);if(l.isNewVersion(n)){if(2!==this.version)throw new Error("keystore version not match tk")}else if(1!==this.version)throw new Error("keystore version not match tk");var a=f.tk2PK(this.tk);return this.pk=a,this},e.prototype.fromMnemonic=function(e,t){var n=e.split(" "),a=1;if(25===n.length){if("v2"!==n[0])throw new Error("invalid mnemoic!");a=2,e=n.slice(1).join(" ")}if(i.validateMnemonic(e)){var r=i.mnemonicToEntropy(e),o=l.toBuffer(r);this.keystore=h(o,t,a);var s=f.seed2Sk(o,a),c=f.sk2Tk(s);return this.tk=c,this.pk=this.keystore.address,this.version=a,this}throw new Error("invald mnemonic!")},e.prototype.fromTk=function(e){var t=l.toBuffer(e),n=1;return l.isNewVersion(t)&&(n=2),this.tk=e,this.pk=f.tk2PK(t),this.keystore=function(e,t){var n=f.tk2PK(e);return{version:t,id:s({random:r(16)}),address:n,tk:e.toString(),at:0}}(this.tk,n),this.version=n,this},e.prototype.getSk=function(e){if(this.keystore.crypto){var t=m(this.keystore,e);return f.seed2Sk(t,this.keystore.version)}return""},e.prototype.getTk=function(){return this.tk.toString()},e.prototype.getPk=function(){return this.pk},e.prototype.getVersion=function(){return this.version},e.prototype.getKeystore=function(){return this.keystore},e.prototype.exportMnemonic=function(e){var t=m(this.keystore,e),n=this.keystore.version,a=i.entropyToMnemonic(t);return 2===n&&(a="v2 "+a),a},e}();function m(t,n){var r,s,i="object"===typeof t?t:JSON.parse(t);if("scrypt"!==i.crypto.kdf)throw new Error("Unsupported key derivation scheme");s=i.crypto.kdfparams,r=o(e.from(n),l.toBuffer(s.salt),s.n,s.r,s.p,s.dklen);var u=e.from(i.crypto.ciphertext,"hex");if(c(e.concat([r.slice(16,32),u])).toString("hex")!==i.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");return p(a.createDecipheriv(i.crypto.cipher,r.slice(0,16),e.from(i.crypto.cipherparams.iv,"hex")),u)}function h(t,n,i){if(void 0===(u=t)||null===u)throw new Error("This is a public key only wallet");var u,d,m={cipher:"aes-128-ctr",kdf:"scrypt",salt:r(32),iv:r(16),uuid:r(16),dklen:32,c:262144,n:262144,r:8,p:1},h={dklen:(d=m).dklen,salt:d.salt.toString("hex"),n:d.n,r:d.r,p:d.p},g=o(e.from(n),l.toBuffer(h.salt),h.n,h.r,h.p,h.dklen),y=a.createCipheriv(m.cipher,g.slice(0,16),m.iv);if(!y)throw new Error("Unsupported cipher");var v=p(y,t),k=c(e.concat([g.slice(16,32),e.from(v)])),E=f.seed2Sk(t,i),w=f.sk2Tk(E),b=f.tk2PK(w);return h.salt=h.salt,{version:i,id:s({random:m.uuid}),address:b,tk:w.toString(),crypto:{ciphertext:v.toString("hex"),cipherparams:{iv:m.iv.toString("hex")},cipher:m.cipher,kdf:m.kdf,kdfparams:h,mac:k.toString("hex")},at:0}}function p(t,n){return e.concat([t.update(n),t.final()])}function g(){return u.randomFR().toBuffer().toString("hex")}t.default=d,t.createPkrHash=function(t,n,a){if(2!==a&&1!==a)throw new Error("ivalid version");t=l.toBuffer(t);var r=l.toBN(n).toArrayLike(e,"be");if(r.length>8)throw new Error("invalid index");var o=l.toBuffer(l.padLeft(r.toString("hex"),16,"0")),s=e.concat([t,o]),i=c(s),d=u.newFR(i),m=f.tk2PK(t);return f.PK2PKr(m,d)},t.createOldPkrHash=function(t,n,a){if(2!==a&&1!==a)throw new Error("ivalid version");t=l.toBuffer(t);var r=l.toBN(n).toArrayLike(e,"be");if(r.length>8)throw new Error("invalid index");var o=l.toBuffer(l.padLeft(r.toString("hex"),64,"0")),s=u.newFR(o),i=f.tk2PK(t);return f.PK2PKr(i,s)},t.genSeed=g,t.entropyToMnemonic=function(e){var t=i.entropyToMnemonic(e);return t="v2 "+t},t.validPkr=function(e){var t=l.toBuffer(e);return 96===t.length&&f.isPKrValid(t)}}).call(this,n(21).Buffer)},93:function(e,t,n){"use strict";var a=n(10),r=n(11),o=(n(39),n(15)),s=n.n(o),i=n(1),c=function(){function e(){Object(a.a)(this,e),this.KeyType={backbutton:"backbutton"}}return Object(r.a)(e,[{key:"eventListener",value:function(){plus&&plus.key&&(plus.key.addEventListener(this.KeyType.backbutton,(function(){window.barcode&&(window.barcode.close(),window.barcode=null);var e=window.location.href,t=window.lastBackTime;if("#/"===e.substring(e.length-2)){if(plus&&plus.runtime){var n=new Date;t&&n-t<=2e3?plus.runtime.quit():(window.lastBackTime=new Date,s.a.info(i.lang.e().toast.info.quitApp,2))}}else i.url.goBack()})),console.log("plus.key.addEventListener success"))}}]),e}(),l=function(){function e(){Object(a.a)(this,e),this.name="popup",this.path="_doc/popup.db"}return Object(r.a)(e,[{key:"initDatabase",value:function(){this.openDatabase().then((function(e){})).catch((function(e){console.log(e.message)}))}},{key:"openDatabase",value:function(){var e=this;return new Promise((function(t,n){e.isOpenDatabase()?t(!0):plus&&plus.sqlite&&plus.sqlite.openDatabase({name:e.name,path:e.path,success:function(e){t(e)},fail:function(e){n(e)}})}))}},{key:"isOpenDatabase",value:function(){if(plus&&plus.sqlite){return plus.sqlite.isOpenDatabase({name:this.name,path:this.path})}return!1}},{key:"closeDatabase",value:function(){var e=this;return new Promise((function(t,n){plus&&plus.sqlite?plus.sqlite.closeDatabase({name:e.name,success:function(e){t(e)},fail:function(e){console.log("closeDatabase failed: "+JSON.stringify(e)),n(e)}}):n("not app")}))}},{key:"transaction",value:function(){var e=this;return new Promise((function(t,n){plus&&plus.sqlite?plus.sqlite.transaction({name:e.name,success:function(e){t(e)},fail:function(e){console.log("transaction failed: "+JSON.stringify(e)),n(e)}}):n("not app")}))}},{key:"executeSql",value:function(e){var t=this;return console.log(e),new Promise((function(n,a){plus&&plus.sqlite?plus.sqlite.executeSql({name:t.name,sql:e,success:function(e){console.log("executeSql success: "+JSON.stringify(e)),n(e)},fail:function(e){console.log("executeSql failed: "+JSON.stringify(e)),a(e)}}):a("not app")}))}},{key:"selectSql",value:function(e){var t=this;return new Promise((function(n,a){plus&&plus.sqlite?plus.sqlite.selectSql({name:t.name,sql:e,success:function(e){console.log("selectSql success: "+JSON.stringify(e)),n(e)},fail:function(e){console.log("selectSql failed: "+JSON.stringify(e)),a(e)}}):a("not app")}))}}]),e}();n.d(t,"a",(function(){return f}));var u=new c,f=new(function(){function e(){Object(a.a)(this,e),this.key=u,this.db=new l,this.intervalId=null,this.interCount=0}return Object(r.a)(e,[{key:"init",value:function(){this._initPlus()}},{key:"_init",value:function(){this.key.eventListener(),this.db=new l,this.db.initDatabase()}},{key:"_initPlus",value:function(){var e=this;e.intervalId=setInterval((function(){this.interCount>10&&clearInterval(e.intervalId),plus&&(clearInterval(e.intervalId),e._init()),this.interCount++}),1e3)}}]),e}())}},[[369,1,2]]]);